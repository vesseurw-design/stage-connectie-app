/*! For license information please see main.132555af.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var o=n(43),r=Symbol.for("react.element"),i=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,s=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var o,i={},u=null,c=null;for(o in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)l.call(t,o)&&!a.hasOwnProperty(o)&&(i[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps)void 0===i[o]&&(i[o]=t[o]);return{$$typeof:r,type:e,key:u,ref:c,props:i,_owner:s.current}}t.Fragment=i,t.jsx=u,t.jsxs=u},202:(e,t)=>{var n=Symbol.for("react.element"),o=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var E=b.prototype=new y;E.constructor=b,m(E,v.prototype),E.isPureReactComponent=!0;var S=Array.isArray,_=Object.prototype.hasOwnProperty,C={current:null},w={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,o){var r,i={},l=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(l=""+t.key),t)_.call(t,r)&&!w.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(1===a)i.children=o;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return{$$typeof:n,type:e,key:l,ref:s,props:i,_owner:C.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var x=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function A(e,t,r,i,l){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var a=!1;if(null===e)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case n:case o:a=!0}}if(a)return l=l(a=e),e=""===i?"."+N(a,0):i,S(l)?(r="",null!=e&&(r=e.replace(x,"$&/")+"/"),A(l,t,r,"",function(e){return e})):null!=l&&(I(l)&&(l=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(l,r+(!l.key||a&&a.key===l.key?"":(""+l.key).replace(x,"$&/")+"/")+e)),t.push(l)),1;if(a=0,i=""===i?".":i+":",S(e))for(var u=0;u<e.length;u++){var c=i+N(s=e[u],u);a+=A(s,t,r,c,l)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)a+=A(s=s.value,t,r,c=i+N(s,u++),l);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function O(e,t,n){if(null==e)return e;var o=[],r=0;return A(e,o,"","",function(e){return t.call(n,e,r++)}),o}function k(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},R={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:R,ReactCurrentOwner:C};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:O,forEach:function(e,t,n){O(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return O(e,function(){t++}),t},toArray:function(e){return O(e,function(e){return e})||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=r,t.Profiler=l,t.PureComponent=b,t.StrictMode=i,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=M,t.cloneElement=function(e,t,o){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key,l=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(l=t.ref,s=C.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)_.call(t,u)&&!w.hasOwnProperty(u)&&(r[u]=void 0===t[u]&&void 0!==a?a[u]:t[u])}var u=arguments.length-2;if(1===u)r.children=o;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:n,type:e.type,key:i,ref:l,props:r,_owner:s}},t.createContext=function(e){return(e={$$typeof:a,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:k}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var o=n-1>>>1,r=e[o];if(!(0<i(r,t)))break e;e[o]=t,e[n]=r,n=o}}function o(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var o=0,r=e.length,l=r>>>1;o<l;){var s=2*(o+1)-1,a=e[s],u=s+1,c=e[u];if(0>i(a,n))u<r&&0>i(c,a)?(e[o]=c,e[u]=n,o=u):(e[o]=a,e[s]=n,o=s);else{if(!(u<r&&0>i(c,n)))break e;e[o]=c,e[u]=n,o=u}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var l=performance;t.unstable_now=function(){return l.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var u=[],c=[],d=1,p=null,f=3,h=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function E(e){for(var t=o(c);null!==t;){if(null===t.callback)r(c);else{if(!(t.startTime<=e))break;r(c),t.sortIndex=t.expirationTime,n(u,t)}t=o(c)}}function S(e){if(g=!1,E(e),!m)if(null!==o(u))m=!0,R(_);else{var t=o(c);null!==t&&D(S,t.startTime-e)}}function _(e,n){m=!1,g&&(g=!1,y(I),I=-1),h=!0;var i=f;try{for(E(n),p=o(u);null!==p&&(!(p.expirationTime>n)||e&&!A());){var l=p.callback;if("function"===typeof l){p.callback=null,f=p.priorityLevel;var s=l(p.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?p.callback=s:p===o(u)&&r(u),E(n)}else r(u);p=o(u)}if(null!==p)var a=!0;else{var d=o(c);null!==d&&D(S,d.startTime-n),a=!1}return a}finally{p=null,f=i,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C,w=!1,T=null,I=-1,x=5,N=-1;function A(){return!(t.unstable_now()-N<x)}function O(){if(null!==T){var e=t.unstable_now();N=e;var n=!0;try{n=T(!0,e)}finally{n?C():(w=!1,T=null)}}else w=!1}if("function"===typeof b)C=function(){b(O)};else if("undefined"!==typeof MessageChannel){var k=new MessageChannel,P=k.port2;k.port1.onmessage=O,C=function(){P.postMessage(null)}}else C=function(){v(O,0)};function R(e){T=e,w||(w=!0,C())}function D(e,n){I=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,R(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return o(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,r,i){var l=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?l+i:l:i=l,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:r,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>l?(e.sortIndex=i,n(c,e),null===o(u)&&e===o(c)&&(g?(y(I),I=-1):g=!0,D(S,i-l))):(e.sortIndex=s,n(u,e),m||h||(m=!0,R(_))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},391:(e,t,n)=>{var o=n(950);t.createRoot=o.createRoot,t.hydrateRoot=o.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var o=n(43),r=n(853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,s={};function a(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)l.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function m(e,t,n,o,r,i,l){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=o,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,o){var r=g.hasOwnProperty(t)?g[t]:null;(null!==r?0!==r.type:o||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,o){if(null===t||"undefined"===typeof t||function(e,t,n,o){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!o&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,o))return!0;if(o)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,o)&&(n=null),o||null===r?function(e){return!!d.call(h,e)||!d.call(f,e)&&(p.test(e)?h[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,o=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,o?e.setAttributeNS(o,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var E=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),_=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),x=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var j,L=Object.assign;function U(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var F=!1;function q(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var o=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){o=u}e.call(t.prototype)}else{try{throw Error()}catch(u){o=u}e()}}catch(u){if(u&&o&&"string"===typeof u.stack){for(var r=u.stack.split("\n"),i=o.stack.split("\n"),l=r.length-1,s=i.length-1;1<=l&&0<=s&&r[l]!==i[s];)s--;for(;1<=l&&0<=s;l--,s--)if(r[l]!==i[s]){if(1!==l||1!==s)do{if(l--,0>--s||r[l]!==i[s]){var a="\n"+r[l].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}}while(1<=l&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function G(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=q(e.type,!1);case 11:return e=q(e.type.render,!1);case 1:return e=q(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case C:return"Fragment";case _:return"Portal";case T:return"Profiler";case w:return"StrictMode";case A:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case x:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case k:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===w?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function z(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function B(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function J(e){e._valueTracker||(e._valueTracker=function(e){var t=B(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){o=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(e){o=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=B(e)?e.checked?"true":"false":e.value),(e=o)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,o=null!=t.checked?t.checked:t.defaultChecked;n=z(null!=t.value?t.value:n),e._wrapperState={initialChecked:o,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){$(e,t);var n=z(t.value),o=t.type;if(null!=n)"number"===o?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===o||"reset"===o)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,z(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!("submit"!==o&&"reset"!==o||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,o){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&o&&(e[n].defaultSelected=!0)}else{for(n=""+z(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(o&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function oe(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:z(n)}}function ie(e,t){var n=z(t.value),o=z(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=o&&(e.defaultValue=""+o)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ae(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,o){MSApp.execUnsafeLocalFunction(function(){return ce(e,t)})}:ce);function pe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var o=0===n.indexOf("--"),r=me(n,t[n],o);"float"===n&&(n="cssFloat"),o?e.setProperty(n,r):e[n]=r}}Object.keys(fe).forEach(function(e){he.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ve=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ee=null;function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,Ce=null,we=null;function Te(e){if(e=Er(e)){if("function"!==typeof _e)throw Error(i(280));var t=e.stateNode;t&&(t=_r(t),_e(e.stateNode,e.type,t))}}function Ie(e){Ce?we?we.push(e):we=[e]:Ce=e}function xe(){if(Ce){var e=Ce,t=we;if(we=Ce=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ne(e,t){return e(t)}function Ae(){}var Oe=!1;function ke(e,t,n){if(Oe)return e(t,n);Oe=!0;try{return Ne(e,t,n)}finally{Oe=!1,(null!==Ce||null!==we)&&(Ae(),xe())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var o=_r(n);if(null===o)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(o=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!o;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Re=!1;if(c)try{var De={};Object.defineProperty(De,"passive",{get:function(){Re=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ce){Re=!1}function Me(e,t,n,o,r,i,l,s,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var je=!1,Le=null,Ue=!1,Fe=null,qe={onError:function(e){je=!0,Le=e}};function Ge(e,t,n,o,r,i,l,s,a){je=!1,Le=null,Me.apply(qe,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function ze(e){if(He(e)!==e)throw Error(i(188))}function Be(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,o=t;;){var r=n.return;if(null===r)break;var l=r.alternate;if(null===l){if(null!==(o=r.return)){n=o;continue}break}if(r.child===l.child){for(l=r.child;l;){if(l===n)return ze(r),e;if(l===o)return ze(r),t;l=l.sibling}throw Error(i(188))}if(n.return!==o.return)n=r,o=l;else{for(var s=!1,a=r.child;a;){if(a===n){s=!0,n=r,o=l;break}if(a===o){s=!0,o=r,n=l;break}a=a.sibling}if(!s){for(a=l.child;a;){if(a===n){s=!0,n=l,o=r;break}if(a===o){s=!0,o=l,n=r;break}a=a.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==o)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?Je(e):null}function Je(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Je(e);if(null!==t)return t;e=e.sibling}return null}var We=r.unstable_scheduleCallback,Ye=r.unstable_cancelCallback,Ke=r.unstable_shouldYield,Qe=r.unstable_requestPaint,$e=r.unstable_now,Xe=r.unstable_getCurrentPriorityLevel,Ze=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,ot=r.unstable_IdlePriority,rt=null,it=null;var lt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/at|0)|0},st=Math.log,at=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var n=e.pendingLanes;if(0===n)return 0;var o=0,r=e.suspendedLanes,i=e.pingedLanes,l=268435455&n;if(0!==l){var s=l&~r;0!==s?o=dt(s):0!==(i&=l)&&(o=dt(i))}else 0!==(l=n&~r)?o=dt(l):0!==i&&(o=dt(i));if(0===o)return 0;if(0!==t&&t!==o&&0===(t&r)&&((r=o&-o)>=(i=t&-t)||16===r&&0!==(4194240&i)))return t;if(0!==(4&o)&&(o|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=o;0<t;)r=1<<(n=31-lt(t)),o|=e[n],t&=~r;return o}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-lt(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var o=31-lt(n),r=1<<o;r&t|e[o]&t&&(e[o]|=t),n&=~r}}var bt=0;function Et(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var St,_t,Ct,wt,Tt,It=!1,xt=[],Nt=null,At=null,Ot=null,kt=new Map,Pt=new Map,Rt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":kt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function jt(e,t,n,o,r,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:o,nativeEvent:i,targetContainers:[r]},null!==t&&(null!==(t=Er(t))&&_t(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Lt(e){var t=br(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void Tt(e.priority,function(){Ct(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Er(n))&&_t(t),e.blockedOn=n,!1;var o=new(n=e.nativeEvent).constructor(n.type,n);Ee=o,n.target.dispatchEvent(o),Ee=null,t.shift()}return!0}function Ft(e,t,n){Ut(e)&&n.delete(t)}function qt(){It=!1,null!==Nt&&Ut(Nt)&&(Nt=null),null!==At&&Ut(At)&&(At=null),null!==Ot&&Ut(Ot)&&(Ot=null),kt.forEach(Ft),Pt.forEach(Ft)}function Gt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,qt)))}function Ht(e){function t(t){return Gt(t,e)}if(0<xt.length){Gt(xt[0],e);for(var n=1;n<xt.length;n++){var o=xt[n];o.blockedOn===e&&(o.blockedOn=null)}}for(null!==Nt&&Gt(Nt,e),null!==At&&Gt(At,e),null!==Ot&&Gt(Ot,e),kt.forEach(t),Pt.forEach(t),n=0;n<Rt.length;n++)(o=Rt[n]).blockedOn===e&&(o.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Rt.shift()}var Vt=E.ReactCurrentBatchConfig,zt=!0;function Bt(e,t,n,o){var r=bt,i=Vt.transition;Vt.transition=null;try{bt=1,Wt(e,t,n,o)}finally{bt=r,Vt.transition=i}}function Jt(e,t,n,o){var r=bt,i=Vt.transition;Vt.transition=null;try{bt=4,Wt(e,t,n,o)}finally{bt=r,Vt.transition=i}}function Wt(e,t,n,o){if(zt){var r=Kt(e,t,n,o);if(null===r)Bo(e,t,o,Yt,n),Mt(e,o);else if(function(e,t,n,o,r){switch(t){case"focusin":return Nt=jt(Nt,e,t,n,o,r),!0;case"dragenter":return At=jt(At,e,t,n,o,r),!0;case"mouseover":return Ot=jt(Ot,e,t,n,o,r),!0;case"pointerover":var i=r.pointerId;return kt.set(i,jt(kt.get(i)||null,e,t,n,o,r)),!0;case"gotpointercapture":return i=r.pointerId,Pt.set(i,jt(Pt.get(i)||null,e,t,n,o,r)),!0}return!1}(r,e,t,n,o))o.stopPropagation();else if(Mt(e,o),4&t&&-1<Dt.indexOf(e)){for(;null!==r;){var i=Er(r);if(null!==i&&St(i),null===(i=Kt(e,t,n,o))&&Bo(e,t,o,Yt,n),i===r)break;r=i}null!==r&&o.stopPropagation()}else Bo(e,t,o,null,n)}}var Yt=null;function Kt(e,t,n,o){if(Yt=null,null!==(e=br(e=Se(o))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case ot:return 536870912;default:return 16}default:return 16}}var $t=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,o=n.length,r="value"in $t?$t.value:$t.textContent,i=r.length;for(e=0;e<o&&n[e]===r[e];e++);var l=o-e;for(t=1;t<=l&&n[o-t]===r[i-t];t++);return Zt=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function on(){return!1}function rn(e){function t(t,n,o,r,i){for(var l in this._reactName=t,this._targetInst=o,this.type=n,this.nativeEvent=r,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(r):r[l]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:on,this.isPropagationStopped=on,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var ln,sn,an,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=rn(un),dn=L({},un,{view:0,detail:0}),pn=rn(dn),fn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==an&&(an&&"mousemove"===e.type?(ln=e.screenX-an.screenX,sn=e.screenY-an.screenY):sn=ln=0,an=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),hn=rn(fn),mn=rn(L({},fn,{dataTransfer:0})),gn=rn(L({},dn,{relatedTarget:0})),vn=rn(L({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=L({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=rn(yn),En=rn(L({},un,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function Tn(){return wn}var In=L({},dn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),xn=rn(In),Nn=rn(L({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=rn(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),On=rn(L({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),kn=L({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=rn(kn),Rn=[9,13,27,32],Dn=c&&"CompositionEvent"in window,Mn=null;c&&"documentMode"in document&&(Mn=document.documentMode);var jn=c&&"TextEvent"in window&&!Mn,Ln=c&&(!Dn||Mn&&8<Mn&&11>=Mn),Un=String.fromCharCode(32),Fn=!1;function qn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Bn(e,t,n,o){Ie(o),0<(t=Wo(t,"onChange")).length&&(n=new cn("onChange","change",null,n,o),e.push({event:n,listeners:t}))}var Jn=null,Wn=null;function Yn(e){Fo(e,0)}function Kn(e){if(W(Sr(e)))return e}function Qn(e,t){if("change"===e)return t}var $n=!1;if(c){var Xn;if(c){var Zn="oninput"in document;if(!Zn){var eo=document.createElement("div");eo.setAttribute("oninput","return;"),Zn="function"===typeof eo.oninput}Xn=Zn}else Xn=!1;$n=Xn&&(!document.documentMode||9<document.documentMode)}function to(){Jn&&(Jn.detachEvent("onpropertychange",no),Wn=Jn=null)}function no(e){if("value"===e.propertyName&&Kn(Wn)){var t=[];Bn(t,Wn,e,Se(e)),ke(Yn,t)}}function oo(e,t,n){"focusin"===e?(to(),Wn=n,(Jn=t).attachEvent("onpropertychange",no)):"focusout"===e&&to()}function ro(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Wn)}function io(e,t){if("click"===e)return Kn(t)}function lo(e,t){if("input"===e||"change"===e)return Kn(t)}var so="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ao(e,t){if(so(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var r=n[o];if(!d.call(t,r)||!so(e[r],t[r]))return!1}return!0}function uo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function co(e,t){var n,o=uo(e);for(e=0;o;){if(3===o.nodeType){if(n=e+o.textContent.length,e<=t&&n>=t)return{node:o,offset:t-e};e=n}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=uo(o)}}function po(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?po(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fo(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(o){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function ho(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mo(e){var t=fo(),n=e.focusedElem,o=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&po(n.ownerDocument.documentElement,n)){if(null!==o&&ho(n))if(t=o.start,void 0===(e=o.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,i=Math.min(o.start,r);o=void 0===o.end?i:Math.min(o.end,r),!e.extend&&i>o&&(r=o,o=i,i=r),r=co(n,i);var l=co(n,o);r&&l&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),i>o?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var go=c&&"documentMode"in document&&11>=document.documentMode,vo=null,yo=null,bo=null,Eo=!1;function So(e,t,n){var o=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Eo||null==vo||vo!==Y(o)||("selectionStart"in(o=vo)&&ho(o)?o={start:o.selectionStart,end:o.selectionEnd}:o={anchorNode:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset},bo&&ao(bo,o)||(bo=o,0<(o=Wo(yo,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:o}),t.target=vo)))}function _o(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Co={animationend:_o("Animation","AnimationEnd"),animationiteration:_o("Animation","AnimationIteration"),animationstart:_o("Animation","AnimationStart"),transitionend:_o("Transition","TransitionEnd")},wo={},To={};function Io(e){if(wo[e])return wo[e];if(!Co[e])return e;var t,n=Co[e];for(t in n)if(n.hasOwnProperty(t)&&t in To)return wo[e]=n[t];return e}c&&(To=document.createElement("div").style,"AnimationEvent"in window||(delete Co.animationend.animation,delete Co.animationiteration.animation,delete Co.animationstart.animation),"TransitionEvent"in window||delete Co.transitionend.transition);var xo=Io("animationend"),No=Io("animationiteration"),Ao=Io("animationstart"),Oo=Io("transitionend"),ko=new Map,Po="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ro(e,t){ko.set(e,t),a(t,[e])}for(var Do=0;Do<Po.length;Do++){var Mo=Po[Do];Ro(Mo.toLowerCase(),"on"+(Mo[0].toUpperCase()+Mo.slice(1)))}Ro(xo,"onAnimationEnd"),Ro(No,"onAnimationIteration"),Ro(Ao,"onAnimationStart"),Ro("dblclick","onDoubleClick"),Ro("focusin","onFocus"),Ro("focusout","onBlur"),Ro(Oo,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lo=new Set("cancel close invalid load scroll toggle".split(" ").concat(jo));function Uo(e,t,n){var o=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,o,r,l,s,a,u){if(Ge.apply(this,arguments),je){if(!je)throw Error(i(198));var c=Le;je=!1,Le=null,Ue||(Ue=!0,Fe=c)}}(o,t,void 0,e),e.currentTarget=null}function Fo(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var o=e[n],r=o.event;o=o.listeners;e:{var i=void 0;if(t)for(var l=o.length-1;0<=l;l--){var s=o[l],a=s.instance,u=s.currentTarget;if(s=s.listener,a!==i&&r.isPropagationStopped())break e;Uo(r,s,u),i=a}else for(l=0;l<o.length;l++){if(a=(s=o[l]).instance,u=s.currentTarget,s=s.listener,a!==i&&r.isPropagationStopped())break e;Uo(r,s,u),i=a}}}if(Ue)throw e=Fe,Ue=!1,Fe=null,e}function qo(e,t){var n=t[gr];void 0===n&&(n=t[gr]=new Set);var o=e+"__bubble";n.has(o)||(zo(t,e,2,!1),n.add(o))}function Go(e,t,n){var o=0;t&&(o|=4),zo(n,e,o,t)}var Ho="_reactListening"+Math.random().toString(36).slice(2);function Vo(e){if(!e[Ho]){e[Ho]=!0,l.forEach(function(t){"selectionchange"!==t&&(Lo.has(t)||Go(t,!1,e),Go(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ho]||(t[Ho]=!0,Go("selectionchange",!1,t))}}function zo(e,t,n,o){switch(Qt(t)){case 1:var r=Bt;break;case 4:r=Jt;break;default:r=Wt}n=r.bind(null,t,n,e),r=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),o?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Bo(e,t,n,o,r){var i=o;if(0===(1&t)&&0===(2&t)&&null!==o)e:for(;;){if(null===o)return;var l=o.tag;if(3===l||4===l){var s=o.stateNode.containerInfo;if(s===r||8===s.nodeType&&s.parentNode===r)break;if(4===l)for(l=o.return;null!==l;){var a=l.tag;if((3===a||4===a)&&((a=l.stateNode.containerInfo)===r||8===a.nodeType&&a.parentNode===r))return;l=l.return}for(;null!==s;){if(null===(l=br(s)))return;if(5===(a=l.tag)||6===a){o=i=l;continue e}s=s.parentNode}}o=o.return}ke(function(){var o=i,r=Se(n),l=[];e:{var s=ko.get(e);if(void 0!==s){var a=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":a=xn;break;case"focusin":u="focus",a=gn;break;case"focusout":u="blur",a=gn;break;case"beforeblur":case"afterblur":a=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":a=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":a=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":a=An;break;case xo:case No:case Ao:a=vn;break;case Oo:a=On;break;case"scroll":a=pn;break;case"wheel":a=Pn;break;case"copy":case"cut":case"paste":a=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":a=Nn}var c=0!==(4&t),d=!c&&"scroll"===e,p=c?null!==s?s+"Capture":null:s;c=[];for(var f,h=o;null!==h;){var m=(f=h).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==p&&(null!=(m=Pe(h,p))&&c.push(Jo(h,m,f)))),d)break;h=h.return}0<c.length&&(s=new a(s,u,null,n,r),l.push({event:s,listeners:c}))}}if(0===(7&t)){if(a="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Ee||!(u=n.relatedTarget||n.fromElement)||!br(u)&&!u[mr])&&(a||s)&&(s=r.window===r?r:(s=r.ownerDocument)?s.defaultView||s.parentWindow:window,a?(a=o,null!==(u=(u=n.relatedTarget||n.toElement)?br(u):null)&&(u!==(d=He(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(a=null,u=o),a!==u)){if(c=hn,m="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(c=Nn,m="onPointerLeave",p="onPointerEnter",h="pointer"),d=null==a?s:Sr(a),f=null==u?s:Sr(u),(s=new c(m,h+"leave",a,n,r)).target=d,s.relatedTarget=f,m=null,br(r)===o&&((c=new c(p,h+"enter",u,n,r)).target=f,c.relatedTarget=d,m=c),d=m,a&&u)e:{for(p=u,h=0,f=c=a;f;f=Yo(f))h++;for(f=0,m=p;m;m=Yo(m))f++;for(;0<h-f;)c=Yo(c),h--;for(;0<f-h;)p=Yo(p),f--;for(;h--;){if(c===p||null!==p&&c===p.alternate)break e;c=Yo(c),p=Yo(p)}c=null}else c=null;null!==a&&Ko(l,s,a,c,!1),null!==u&&null!==d&&Ko(l,d,u,c,!0)}if("select"===(a=(s=o?Sr(o):window).nodeName&&s.nodeName.toLowerCase())||"input"===a&&"file"===s.type)var g=Qn;else if(zn(s))if($n)g=lo;else{g=ro;var v=oo}else(a=s.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=io);switch(g&&(g=g(e,o))?Bn(l,g,n,r):(v&&v(e,s,o),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=o?Sr(o):window,e){case"focusin":(zn(v)||"true"===v.contentEditable)&&(vo=v,yo=o,bo=null);break;case"focusout":bo=yo=vo=null;break;case"mousedown":Eo=!0;break;case"contextmenu":case"mouseup":case"dragend":Eo=!1,So(l,n,r);break;case"selectionchange":if(go)break;case"keydown":case"keyup":So(l,n,r)}var y;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Hn?qn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Hn&&(y=en()):(Xt="value"in($t=r)?$t.value:$t.textContent,Hn=!0)),0<(v=Wo(o,b)).length&&(b=new En(b,e,null,n,r),l.push({event:b,listeners:v}),y?b.data=y:null!==(y=Gn(n))&&(b.data=y))),(y=jn?function(e,t){switch(e){case"compositionend":return Gn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Un);case"textInput":return(e=t.data)===Un&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Dn&&qn(e,t)?(e=en(),Zt=Xt=$t=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(o=Wo(o,"onBeforeInput")).length&&(r=new En("onBeforeInput","beforeinput",null,n,r),l.push({event:r,listeners:o}),r.data=y))}Fo(l,t)})}function Jo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wo(e,t){for(var n=t+"Capture",o=[];null!==e;){var r=e,i=r.stateNode;5===r.tag&&null!==i&&(r=i,null!=(i=Pe(e,n))&&o.unshift(Jo(e,i,r)),null!=(i=Pe(e,t))&&o.push(Jo(e,i,r))),e=e.return}return o}function Yo(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ko(e,t,n,o,r){for(var i=t._reactName,l=[];null!==n&&n!==o;){var s=n,a=s.alternate,u=s.stateNode;if(null!==a&&a===o)break;5===s.tag&&null!==u&&(s=u,r?null!=(a=Pe(n,i))&&l.unshift(Jo(n,a,s)):r||null!=(a=Pe(n,i))&&l.push(Jo(n,a,s))),n=n.return}0!==l.length&&e.push({event:t,listeners:l})}var Qo=/\r\n?/g,$o=/\u0000|\uFFFD/g;function Xo(e){return("string"===typeof e?e:""+e).replace(Qo,"\n").replace($o,"")}function Zo(e,t,n){if(t=Xo(t),Xo(e)!==t&&n)throw Error(i(425))}function er(){}var tr=null,nr=null;function or(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rr="function"===typeof setTimeout?setTimeout:void 0,ir="function"===typeof clearTimeout?clearTimeout:void 0,lr="function"===typeof Promise?Promise:void 0,sr="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof lr?function(e){return lr.resolve(null).then(e).catch(ar)}:rr;function ar(e){setTimeout(function(){throw e})}function ur(e,t){var n=t,o=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===o)return e.removeChild(r),void Ht(t);o--}else"$"!==n&&"$?"!==n&&"$!"!==n||o++;n=r}while(n);Ht(t)}function cr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function dr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var pr=Math.random().toString(36).slice(2),fr="__reactFiber$"+pr,hr="__reactProps$"+pr,mr="__reactContainer$"+pr,gr="__reactEvents$"+pr,vr="__reactListeners$"+pr,yr="__reactHandles$"+pr;function br(e){var t=e[fr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mr]||n[fr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=dr(e);null!==e;){if(n=e[fr])return n;e=dr(e)}return t}n=(e=n).parentNode}return null}function Er(e){return!(e=e[fr]||e[mr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Sr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function _r(e){return e[hr]||null}var Cr=[],wr=-1;function Tr(e){return{current:e}}function Ir(e){0>wr||(e.current=Cr[wr],Cr[wr]=null,wr--)}function xr(e,t){wr++,Cr[wr]=e.current,e.current=t}var Nr={},Ar=Tr(Nr),Or=Tr(!1),kr=Nr;function Pr(e,t){var n=e.type.contextTypes;if(!n)return Nr;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var r,i={};for(r in n)i[r]=t[r];return o&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Rr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Dr(){Ir(Or),Ir(Ar)}function Mr(e,t,n){if(Ar.current!==Nr)throw Error(i(168));xr(Ar,t),xr(Or,n)}function jr(e,t,n){var o=e.stateNode;if(t=t.childContextTypes,"function"!==typeof o.getChildContext)return n;for(var r in o=o.getChildContext())if(!(r in t))throw Error(i(108,V(e)||"Unknown",r));return L({},n,o)}function Lr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Nr,kr=Ar.current,xr(Ar,e),xr(Or,Or.current),!0}function Ur(e,t,n){var o=e.stateNode;if(!o)throw Error(i(169));n?(e=jr(e,t,kr),o.__reactInternalMemoizedMergedChildContext=e,Ir(Or),Ir(Ar),xr(Ar,e)):Ir(Or),xr(Or,n)}var Fr=null,qr=!1,Gr=!1;function Hr(e){null===Fr?Fr=[e]:Fr.push(e)}function Vr(){if(!Gr&&null!==Fr){Gr=!0;var e=0,t=bt;try{var n=Fr;for(bt=1;e<n.length;e++){var o=n[e];do{o=o(!0)}while(null!==o)}Fr=null,qr=!1}catch(r){throw null!==Fr&&(Fr=Fr.slice(e+1)),We(Ze,Vr),r}finally{bt=t,Gr=!1}}return null}var zr=[],Br=0,Jr=null,Wr=0,Yr=[],Kr=0,Qr=null,$r=1,Xr="";function Zr(e,t){zr[Br++]=Wr,zr[Br++]=Jr,Jr=e,Wr=t}function ei(e,t,n){Yr[Kr++]=$r,Yr[Kr++]=Xr,Yr[Kr++]=Qr,Qr=e;var o=$r;e=Xr;var r=32-lt(o)-1;o&=~(1<<r),n+=1;var i=32-lt(t)+r;if(30<i){var l=r-r%5;i=(o&(1<<l)-1).toString(32),o>>=l,r-=l,$r=1<<32-lt(t)+r|n<<r|o,Xr=i+e}else $r=1<<i|n<<r|o,Xr=e}function ti(e){null!==e.return&&(Zr(e,1),ei(e,1,0))}function ni(e){for(;e===Jr;)Jr=zr[--Br],zr[Br]=null,Wr=zr[--Br],zr[Br]=null;for(;e===Qr;)Qr=Yr[--Kr],Yr[Kr]=null,Xr=Yr[--Kr],Yr[Kr]=null,$r=Yr[--Kr],Yr[Kr]=null}var oi=null,ri=null,ii=!1,li=null;function si(e,t){var n=ku(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ai(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,oi=e,ri=cr(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,oi=e,ri=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qr?{id:$r,overflow:Xr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=ku(18,null,null,0)).stateNode=t,n.return=e,e.child=n,oi=e,ri=null,!0);default:return!1}}function ui(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ci(e){if(ii){var t=ri;if(t){var n=t;if(!ai(e,t)){if(ui(e))throw Error(i(418));t=cr(n.nextSibling);var o=oi;t&&ai(e,t)?si(o,n):(e.flags=-4097&e.flags|2,ii=!1,oi=e)}}else{if(ui(e))throw Error(i(418));e.flags=-4097&e.flags|2,ii=!1,oi=e}}}function di(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;oi=e}function pi(e){if(e!==oi)return!1;if(!ii)return di(e),ii=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!or(e.type,e.memoizedProps)),t&&(t=ri)){if(ui(e))throw fi(),Error(i(418));for(;t;)si(e,t),t=cr(t.nextSibling)}if(di(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ri=cr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ri=null}}else ri=oi?cr(e.stateNode.nextSibling):null;return!0}function fi(){for(var e=ri;e;)e=cr(e.nextSibling)}function hi(){ri=oi=null,ii=!1}function mi(e){null===li?li=[e]:li.push(e)}var gi=E.ReactCurrentBatchConfig;function vi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var o=n.stateNode}if(!o)throw Error(i(147,e));var r=o,l=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===l?t.ref:(t=function(e){var t=r.refs;null===e?delete t[l]:t[l]=e},t._stringRef=l,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function yi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bi(e){return(0,e._init)(e._payload)}function Ei(e){function t(t,n){if(e){var o=t.deletions;null===o?(t.deletions=[n],t.flags|=16):o.push(n)}}function n(n,o){if(!e)return null;for(;null!==o;)t(n,o),o=o.sibling;return null}function o(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Ru(e,t)).index=0,e.sibling=null,e}function l(t,n,o){return t.index=o,e?null!==(o=t.alternate)?(o=o.index)<n?(t.flags|=2,n):o:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function a(e,t,n,o){return null===t||6!==t.tag?((t=Lu(n,e.mode,o)).return=e,t):((t=r(t,n)).return=e,t)}function u(e,t,n,o){var i=n.type;return i===C?d(e,t,n.props.children,o,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===P&&bi(i)===t.type)?((o=r(t,n.props)).ref=vi(e,t,n),o.return=e,o):((o=Du(n.type,n.key,n.props,null,e.mode,o)).ref=vi(e,t,n),o.return=e,o)}function c(e,t,n,o){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uu(n,e.mode,o)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,o,i){return null===t||7!==t.tag?((t=Mu(n,e.mode,o,i)).return=e,t):((t=r(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case S:return(n=Du(t.type,t.key,t.props,null,e.mode,n)).ref=vi(e,null,t),n.return=e,n;case _:return(t=Uu(t,e.mode,n)).return=e,t;case P:return p(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mu(t,e.mode,n,null)).return=e,t;yi(e,t)}return null}function f(e,t,n,o){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:a(e,t,""+n,o);if("object"===typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===r?u(e,t,n,o):null;case _:return n.key===r?c(e,t,n,o):null;case P:return f(e,t,(r=n._init)(n._payload),o)}if(te(n)||M(n))return null!==r?null:d(e,t,n,o,null);yi(e,n)}return null}function h(e,t,n,o,r){if("string"===typeof o&&""!==o||"number"===typeof o)return a(t,e=e.get(n)||null,""+o,r);if("object"===typeof o&&null!==o){switch(o.$$typeof){case S:return u(t,e=e.get(null===o.key?n:o.key)||null,o,r);case _:return c(t,e=e.get(null===o.key?n:o.key)||null,o,r);case P:return h(e,t,n,(0,o._init)(o._payload),r)}if(te(o)||M(o))return d(t,e=e.get(n)||null,o,r,null);yi(t,o)}return null}function m(r,i,s,a){for(var u=null,c=null,d=i,m=i=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(r,d,s[m],a);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(r,d),i=l(v,i,m),null===c?u=v:c.sibling=v,c=v,d=g}if(m===s.length)return n(r,d),ii&&Zr(r,m),u;if(null===d){for(;m<s.length;m++)null!==(d=p(r,s[m],a))&&(i=l(d,i,m),null===c?u=d:c.sibling=d,c=d);return ii&&Zr(r,m),u}for(d=o(r,d);m<s.length;m++)null!==(g=h(d,r,m,s[m],a))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=l(g,i,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach(function(e){return t(r,e)}),ii&&Zr(r,m),u}function g(r,s,a,u){var c=M(a);if("function"!==typeof c)throw Error(i(150));if(null==(a=c.call(a)))throw Error(i(151));for(var d=c=null,m=s,g=s=0,v=null,y=a.next();null!==m&&!y.done;g++,y=a.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(r,m,y.value,u);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(r,m),s=l(b,s,g),null===d?c=b:d.sibling=b,d=b,m=v}if(y.done)return n(r,m),ii&&Zr(r,g),c;if(null===m){for(;!y.done;g++,y=a.next())null!==(y=p(r,y.value,u))&&(s=l(y,s,g),null===d?c=y:d.sibling=y,d=y);return ii&&Zr(r,g),c}for(m=o(r,m);!y.done;g++,y=a.next())null!==(y=h(m,r,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=l(y,s,g),null===d?c=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(r,e)}),ii&&Zr(r,g),c}return function e(o,i,l,a){if("object"===typeof l&&null!==l&&l.type===C&&null===l.key&&(l=l.props.children),"object"===typeof l&&null!==l){switch(l.$$typeof){case S:e:{for(var u=l.key,c=i;null!==c;){if(c.key===u){if((u=l.type)===C){if(7===c.tag){n(o,c.sibling),(i=r(c,l.props.children)).return=o,o=i;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===P&&bi(u)===c.type){n(o,c.sibling),(i=r(c,l.props)).ref=vi(o,c,l),i.return=o,o=i;break e}n(o,c);break}t(o,c),c=c.sibling}l.type===C?((i=Mu(l.props.children,o.mode,a,l.key)).return=o,o=i):((a=Du(l.type,l.key,l.props,null,o.mode,a)).ref=vi(o,i,l),a.return=o,o=a)}return s(o);case _:e:{for(c=l.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===l.containerInfo&&i.stateNode.implementation===l.implementation){n(o,i.sibling),(i=r(i,l.children||[])).return=o,o=i;break e}n(o,i);break}t(o,i),i=i.sibling}(i=Uu(l,o.mode,a)).return=o,o=i}return s(o);case P:return e(o,i,(c=l._init)(l._payload),a)}if(te(l))return m(o,i,l,a);if(M(l))return g(o,i,l,a);yi(o,l)}return"string"===typeof l&&""!==l||"number"===typeof l?(l=""+l,null!==i&&6===i.tag?(n(o,i.sibling),(i=r(i,l)).return=o,o=i):(n(o,i),(i=Lu(l,o.mode,a)).return=o,o=i),s(o)):n(o,i)}}var Si=Ei(!0),_i=Ei(!1),Ci=Tr(null),wi=null,Ti=null,Ii=null;function xi(){Ii=Ti=wi=null}function Ni(e){var t=Ci.current;Ir(Ci),e._currentValue=t}function Ai(e,t,n){for(;null!==e;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==o&&(o.childLanes|=t)):null!==o&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===n)break;e=e.return}}function Oi(e,t){wi=e,Ii=Ti=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function ki(e){var t=e._currentValue;if(Ii!==e)if(e={context:e,memoizedValue:t,next:null},null===Ti){if(null===wi)throw Error(i(308));Ti=e,wi.dependencies={lanes:0,firstContext:e}}else Ti=Ti.next=e;return t}var Pi=null;function Ri(e){null===Pi?Pi=[e]:Pi.push(e)}function Di(e,t,n,o){var r=t.interleaved;return null===r?(n.next=n,Ri(t)):(n.next=r.next,r.next=n),t.interleaved=n,Mi(e,o)}function Mi(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var ji=!1;function Li(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ui(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qi(e,t,n){var o=e.updateQueue;if(null===o)return null;if(o=o.shared,0!==(2&Na)){var r=o.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),o.pending=t,Mi(e,n)}return null===(r=o.interleaved)?(t.next=t,Ri(o)):(t.next=r.next,r.next=t),o.interleaved=t,Mi(e,n)}function Gi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var o=t.lanes;n|=o&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Hi(e,t){var n=e.updateQueue,o=e.alternate;if(null!==o&&n===(o=o.updateQueue)){var r=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?r=i=l:i=i.next=l,n=n.next}while(null!==n);null===i?r=i=t:i=i.next=t}else r=i=t;return n={baseState:o.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:o.shared,effects:o.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vi(e,t,n,o){var r=e.updateQueue;ji=!1;var i=r.firstBaseUpdate,l=r.lastBaseUpdate,s=r.shared.pending;if(null!==s){r.shared.pending=null;var a=s,u=a.next;a.next=null,null===l?i=u:l.next=u,l=a;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==l&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=a))}if(null!==i){var d=r.baseState;for(l=0,c=u=a=null,s=i;;){var p=s.lane,f=s.eventTime;if((o&p)===p){null!==c&&(c=c.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,m=s;switch(p=t,f=n,m.tag){case 1:if("function"===typeof(h=m.payload)){d=h.call(f,d,p);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(p="function"===typeof(h=m.payload)?h.call(f,d,p):h)||void 0===p)break e;d=L({},d,p);break e;case 2:ji=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(p=r.effects)?r.effects=[s]:p.push(s))}else f={eventTime:f,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=f,a=d):c=c.next=f,l|=p;if(null===(s=s.next)){if(null===(s=r.shared.pending))break;s=(p=s).next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}if(null===c&&(a=d),r.baseState=a,r.firstBaseUpdate=u,r.lastBaseUpdate=c,null!==(t=r.shared.interleaved)){r=t;do{l|=r.lane,r=r.next}while(r!==t)}else null===i&&(r.shared.lanes=0);ja|=l,e.lanes=l,e.memoizedState=d}}function zi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var o=e[t],r=o.callback;if(null!==r){if(o.callback=null,o=n,"function"!==typeof r)throw Error(i(191,r));r.call(o)}}}var Bi={},Ji=Tr(Bi),Wi=Tr(Bi),Yi=Tr(Bi);function Ki(e){if(e===Bi)throw Error(i(174));return e}function Qi(e,t){switch(xr(Yi,t),xr(Wi,e),xr(Ji,Bi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ae(null,"");break;default:t=ae(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ir(Ji),xr(Ji,t)}function $i(){Ir(Ji),Ir(Wi),Ir(Yi)}function Xi(e){Ki(Yi.current);var t=Ki(Ji.current),n=ae(t,e.type);t!==n&&(xr(Wi,e),xr(Ji,n))}function Zi(e){Wi.current===e&&(Ir(Ji),Ir(Wi))}var el=Tr(0);function tl(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var nl=[];function ol(){for(var e=0;e<nl.length;e++)nl[e]._workInProgressVersionPrimary=null;nl.length=0}var rl=E.ReactCurrentDispatcher,il=E.ReactCurrentBatchConfig,ll=0,sl=null,al=null,ul=null,cl=!1,dl=!1,pl=0,fl=0;function hl(){throw Error(i(321))}function ml(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!so(e[n],t[n]))return!1;return!0}function gl(e,t,n,o,r,l){if(ll=l,sl=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,rl.current=null===e||null===e.memoizedState?Zl:es,e=n(o,r),dl){l=0;do{if(dl=!1,pl=0,25<=l)throw Error(i(301));l+=1,ul=al=null,t.updateQueue=null,rl.current=ts,e=n(o,r)}while(dl)}if(rl.current=Xl,t=null!==al&&null!==al.next,ll=0,ul=al=sl=null,cl=!1,t)throw Error(i(300));return e}function vl(){var e=0!==pl;return pl=0,e}function yl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ul?sl.memoizedState=ul=e:ul=ul.next=e,ul}function bl(){if(null===al){var e=sl.alternate;e=null!==e?e.memoizedState:null}else e=al.next;var t=null===ul?sl.memoizedState:ul.next;if(null!==t)ul=t,al=e;else{if(null===e)throw Error(i(310));e={memoizedState:(al=e).memoizedState,baseState:al.baseState,baseQueue:al.baseQueue,queue:al.queue,next:null},null===ul?sl.memoizedState=ul=e:ul=ul.next=e}return ul}function El(e,t){return"function"===typeof t?t(e):t}function Sl(e){var t=bl(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var o=al,r=o.baseQueue,l=n.pending;if(null!==l){if(null!==r){var s=r.next;r.next=l.next,l.next=s}o.baseQueue=r=l,n.pending=null}if(null!==r){l=r.next,o=o.baseState;var a=s=null,u=null,c=l;do{var d=c.lane;if((ll&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),o=c.hasEagerState?c.eagerState:e(o,c.action);else{var p={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(a=u=p,s=o):u=u.next=p,sl.lanes|=d,ja|=d}c=c.next}while(null!==c&&c!==l);null===u?s=o:u.next=a,so(o,t.memoizedState)||(bs=!0),t.memoizedState=o,t.baseState=s,t.baseQueue=u,n.lastRenderedState=o}if(null!==(e=n.interleaved)){r=e;do{l=r.lane,sl.lanes|=l,ja|=l,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _l(e){var t=bl(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var o=n.dispatch,r=n.pending,l=t.memoizedState;if(null!==r){n.pending=null;var s=r=r.next;do{l=e(l,s.action),s=s.next}while(s!==r);so(l,t.memoizedState)||(bs=!0),t.memoizedState=l,null===t.baseQueue&&(t.baseState=l),n.lastRenderedState=l}return[l,o]}function Cl(){}function wl(e,t){var n=sl,o=bl(),r=t(),l=!so(o.memoizedState,r);if(l&&(o.memoizedState=r,bs=!0),o=o.queue,jl(xl.bind(null,n,o,e),[e]),o.getSnapshot!==t||l||null!==ul&&1&ul.memoizedState.tag){if(n.flags|=2048,kl(9,Il.bind(null,n,o,r,t),void 0,null),null===Aa)throw Error(i(349));0!==(30&ll)||Tl(n,t,r)}return r}function Tl(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sl.updateQueue)?(t={lastEffect:null,stores:null},sl.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Il(e,t,n,o){t.value=n,t.getSnapshot=o,Nl(t)&&Al(e)}function xl(e,t,n){return n(function(){Nl(t)&&Al(e)})}function Nl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!so(e,n)}catch(o){return!0}}function Al(e){var t=Mi(e,1);null!==t&&nu(t,e,1,-1)}function Ol(e){var t=yl();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:El,lastRenderedState:e},t.queue=e,e=e.dispatch=Yl.bind(null,sl,e),[t.memoizedState,e]}function kl(e,t,n,o){return e={tag:e,create:t,destroy:n,deps:o,next:null},null===(t=sl.updateQueue)?(t={lastEffect:null,stores:null},sl.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(o=n.next,n.next=e,e.next=o,t.lastEffect=e),e}function Pl(){return bl().memoizedState}function Rl(e,t,n,o){var r=yl();sl.flags|=e,r.memoizedState=kl(1|t,n,void 0,void 0===o?null:o)}function Dl(e,t,n,o){var r=bl();o=void 0===o?null:o;var i=void 0;if(null!==al){var l=al.memoizedState;if(i=l.destroy,null!==o&&ml(o,l.deps))return void(r.memoizedState=kl(t,n,i,o))}sl.flags|=e,r.memoizedState=kl(1|t,n,i,o)}function Ml(e,t){return Rl(8390656,8,e,t)}function jl(e,t){return Dl(2048,8,e,t)}function Ll(e,t){return Dl(4,2,e,t)}function Ul(e,t){return Dl(4,4,e,t)}function Fl(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ql(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Dl(4,4,Fl.bind(null,t,e),n)}function Gl(){}function Hl(e,t){var n=bl();t=void 0===t?null:t;var o=n.memoizedState;return null!==o&&null!==t&&ml(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function Vl(e,t){var n=bl();t=void 0===t?null:t;var o=n.memoizedState;return null!==o&&null!==t&&ml(t,o[1])?o[0]:(e=e(),n.memoizedState=[e,t],e)}function zl(e,t,n){return 0===(21&ll)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(so(n,t)||(n=mt(),sl.lanes|=n,ja|=n,e.baseState=!0),t)}function Bl(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var o=il.transition;il.transition={};try{e(!1),t()}finally{bt=n,il.transition=o}}function Jl(){return bl().memoizedState}function Wl(e,t,n){var o=tu(e);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},Kl(e))Ql(t,n);else if(null!==(n=Di(e,t,n,o))){nu(n,e,o,eu()),$l(n,t,o)}}function Yl(e,t,n){var o=tu(e),r={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(Kl(e))Ql(t,r);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var l=t.lastRenderedState,s=i(l,n);if(r.hasEagerState=!0,r.eagerState=s,so(s,l)){var a=t.interleaved;return null===a?(r.next=r,Ri(t)):(r.next=a.next,a.next=r),void(t.interleaved=r)}}catch(u){}null!==(n=Di(e,t,r,o))&&(nu(n,e,o,r=eu()),$l(n,t,o))}}function Kl(e){var t=e.alternate;return e===sl||null!==t&&t===sl}function Ql(e,t){dl=cl=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $l(e,t,n){if(0!==(4194240&n)){var o=t.lanes;n|=o&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Xl={readContext:ki,useCallback:hl,useContext:hl,useEffect:hl,useImperativeHandle:hl,useInsertionEffect:hl,useLayoutEffect:hl,useMemo:hl,useReducer:hl,useRef:hl,useState:hl,useDebugValue:hl,useDeferredValue:hl,useTransition:hl,useMutableSource:hl,useSyncExternalStore:hl,useId:hl,unstable_isNewReconciler:!1},Zl={readContext:ki,useCallback:function(e,t){return yl().memoizedState=[e,void 0===t?null:t],e},useContext:ki,useEffect:Ml,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Rl(4194308,4,Fl.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Rl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Rl(4,2,e,t)},useMemo:function(e,t){var n=yl();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var o=yl();return t=void 0!==n?n(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=Wl.bind(null,sl,e),[o.memoizedState,e]},useRef:function(e){return e={current:e},yl().memoizedState=e},useState:Ol,useDebugValue:Gl,useDeferredValue:function(e){return yl().memoizedState=e},useTransition:function(){var e=Ol(!1),t=e[0];return e=Bl.bind(null,e[1]),yl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var o=sl,r=yl();if(ii){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Aa)throw Error(i(349));0!==(30&ll)||Tl(o,t,n)}r.memoizedState=n;var l={value:n,getSnapshot:t};return r.queue=l,Ml(xl.bind(null,o,l,e),[e]),o.flags|=2048,kl(9,Il.bind(null,o,l,n,t),void 0,null),n},useId:function(){var e=yl(),t=Aa.identifierPrefix;if(ii){var n=Xr;t=":"+t+"R"+(n=($r&~(1<<32-lt($r)-1)).toString(32)+n),0<(n=pl++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fl++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:ki,useCallback:Hl,useContext:ki,useEffect:jl,useImperativeHandle:ql,useInsertionEffect:Ll,useLayoutEffect:Ul,useMemo:Vl,useReducer:Sl,useRef:Pl,useState:function(){return Sl(El)},useDebugValue:Gl,useDeferredValue:function(e){return zl(bl(),al.memoizedState,e)},useTransition:function(){return[Sl(El)[0],bl().memoizedState]},useMutableSource:Cl,useSyncExternalStore:wl,useId:Jl,unstable_isNewReconciler:!1},ts={readContext:ki,useCallback:Hl,useContext:ki,useEffect:jl,useImperativeHandle:ql,useInsertionEffect:Ll,useLayoutEffect:Ul,useMemo:Vl,useReducer:_l,useRef:Pl,useState:function(){return _l(El)},useDebugValue:Gl,useDeferredValue:function(e){var t=bl();return null===al?t.memoizedState=e:zl(t,al.memoizedState,e)},useTransition:function(){return[_l(El)[0],bl().memoizedState]},useMutableSource:Cl,useSyncExternalStore:wl,useId:Jl,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function os(e,t,n,o){n=null===(n=n(o,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var rs={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var o=eu(),r=tu(e),i=Fi(o,r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=qi(e,i,r))&&(nu(t,e,r,o),Gi(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var o=eu(),r=tu(e),i=Fi(o,r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=qi(e,i,r))&&(nu(t,e,r,o),Gi(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),o=tu(e),r=Fi(n,o);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=qi(e,r,o))&&(nu(t,e,o,n),Gi(t,e,o))}};function is(e,t,n,o,r,i,l){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(o,i,l):!t.prototype||!t.prototype.isPureReactComponent||(!ao(n,o)||!ao(r,i))}function ls(e,t,n){var o=!1,r=Nr,i=t.contextType;return"object"===typeof i&&null!==i?i=ki(i):(r=Rr(t)?kr:Ar.current,i=(o=null!==(o=t.contextTypes)&&void 0!==o)?Pr(e,r):Nr),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=rs,e.stateNode=t,t._reactInternals=e,o&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=i),t}function ss(e,t,n,o){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,o),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&rs.enqueueReplaceState(t,t.state,null)}function as(e,t,n,o){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Li(e);var i=t.contextType;"object"===typeof i&&null!==i?r.context=ki(i):(i=Rr(t)?kr:Ar.current,r.context=Pr(e,i)),r.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(os(e,t,i,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&rs.enqueueReplaceState(r,r.state,null),Vi(e,n,r,o),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function us(e,t){try{var n="",o=t;do{n+=G(o),o=o.return}while(o);var r=n}catch(i){r="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:r,digest:null}}function cs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ps="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=Fi(-1,n)).tag=3,n.payload={element:null};var o=t.value;return n.callback=function(){za||(za=!0,Ba=o),ds(0,t)},n}function hs(e,t,n){(n=Fi(-1,n)).tag=3;var o=e.type.getDerivedStateFromError;if("function"===typeof o){var r=t.value;n.payload=function(){return o(r)},n.callback=function(){ds(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof o&&(null===Ja?Ja=new Set([this]):Ja.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var o=e.pingCache;if(null===o){o=e.pingCache=new ps;var r=new Set;o.set(t,r)}else void 0===(r=o.get(t))&&(r=new Set,o.set(t,r));r.has(n)||(r.add(n),e=Tu.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vs(e,t,n,o,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fi(-1,1)).tag=2,qi(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var ys=E.ReactCurrentOwner,bs=!1;function Es(e,t,n,o){t.child=null===e?_i(t,null,n,o):Si(t,e.child,n,o)}function Ss(e,t,n,o,r){n=n.render;var i=t.ref;return Oi(t,r),o=gl(e,t,n,o,i,r),n=vl(),null===e||bs?(ii&&n&&ti(t),t.flags|=1,Es(e,t,o,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,zs(e,t,r))}function _s(e,t,n,o,r){if(null===e){var i=n.type;return"function"!==typeof i||Pu(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Du(n.type,null,o,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Cs(e,t,i,o,r))}if(i=e.child,0===(e.lanes&r)){var l=i.memoizedProps;if((n=null!==(n=n.compare)?n:ao)(l,o)&&e.ref===t.ref)return zs(e,t,r)}return t.flags|=1,(e=Ru(i,o)).ref=t.ref,e.return=t,t.child=e}function Cs(e,t,n,o,r){if(null!==e){var i=e.memoizedProps;if(ao(i,o)&&e.ref===t.ref){if(bs=!1,t.pendingProps=o=i,0===(e.lanes&r))return t.lanes=e.lanes,zs(e,t,r);0!==(131072&e.flags)&&(bs=!0)}}return Is(e,t,n,o,r)}function ws(e,t,n){var o=t.pendingProps,r=o.children,i=null!==e?e.memoizedState:null;if("hidden"===o.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xr(Ra,Pa),Pa|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xr(Ra,Pa),Pa|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=null!==i?i.baseLanes:n,xr(Ra,Pa),Pa|=o}else null!==i?(o=i.baseLanes|n,t.memoizedState=null):o=n,xr(Ra,Pa),Pa|=o;return Es(e,t,r,n),t.child}function Ts(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Is(e,t,n,o,r){var i=Rr(n)?kr:Ar.current;return i=Pr(t,i),Oi(t,r),n=gl(e,t,n,o,i,r),o=vl(),null===e||bs?(ii&&o&&ti(t),t.flags|=1,Es(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,zs(e,t,r))}function xs(e,t,n,o,r){if(Rr(n)){var i=!0;Lr(t)}else i=!1;if(Oi(t,r),null===t.stateNode)Vs(e,t),ls(t,n,o),as(t,n,o,r),o=!0;else if(null===e){var l=t.stateNode,s=t.memoizedProps;l.props=s;var a=l.context,u=n.contextType;"object"===typeof u&&null!==u?u=ki(u):u=Pr(t,u=Rr(n)?kr:Ar.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof l.getSnapshotBeforeUpdate;d||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(s!==o||a!==u)&&ss(t,l,o,u),ji=!1;var p=t.memoizedState;l.state=p,Vi(t,o,l,r),a=t.memoizedState,s!==o||p!==a||Or.current||ji?("function"===typeof c&&(os(t,n,c,o),a=t.memoizedState),(s=ji||is(t,n,s,o,p,a,u))?(d||"function"!==typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||("function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"===typeof l.componentDidMount&&(t.flags|=4194308)):("function"===typeof l.componentDidMount&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=a),l.props=o,l.state=a,l.context=u,o=s):("function"===typeof l.componentDidMount&&(t.flags|=4194308),o=!1)}else{l=t.stateNode,Ui(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:ns(t.type,s),l.props=u,d=t.pendingProps,p=l.context,"object"===typeof(a=n.contextType)&&null!==a?a=ki(a):a=Pr(t,a=Rr(n)?kr:Ar.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof l.getSnapshotBeforeUpdate)||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(s!==d||p!==a)&&ss(t,l,o,a),ji=!1,p=t.memoizedState,l.state=p,Vi(t,o,l,r);var h=t.memoizedState;s!==d||p!==h||Or.current||ji?("function"===typeof f&&(os(t,n,f,o),h=t.memoizedState),(u=ji||is(t,n,u,o,p,h,a)||!1)?(c||"function"!==typeof l.UNSAFE_componentWillUpdate&&"function"!==typeof l.componentWillUpdate||("function"===typeof l.componentWillUpdate&&l.componentWillUpdate(o,h,a),"function"===typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(o,h,a)),"function"===typeof l.componentDidUpdate&&(t.flags|=4),"function"===typeof l.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof l.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=h),l.props=o,l.state=h,l.context=a,o=u):("function"!==typeof l.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),o=!1)}return Ns(e,t,n,o,i,r)}function Ns(e,t,n,o,r,i){Ts(e,t);var l=0!==(128&t.flags);if(!o&&!l)return r&&Ur(t,n,!1),zs(e,t,i);o=t.stateNode,ys.current=t;var s=l&&"function"!==typeof n.getDerivedStateFromError?null:o.render();return t.flags|=1,null!==e&&l?(t.child=Si(t,e.child,null,i),t.child=Si(t,null,s,i)):Es(e,t,s,i),t.memoizedState=o.state,r&&Ur(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?Mr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Mr(0,t.context,!1),Qi(e,t.containerInfo)}function Os(e,t,n,o,r){return hi(),mi(r),t.flags|=256,Es(e,t,n,o),t.child}var ks,Ps,Rs,Ds,Ms={dehydrated:null,treeContext:null,retryLane:0};function js(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,t,n){var o,r=t.pendingProps,l=el.current,s=!1,a=0!==(128&t.flags);if((o=a)||(o=(null===e||null!==e.memoizedState)&&0!==(2&l)),o?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(l|=1),xr(el,1&l),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},0===(1&r)&&null!==s?(s.childLanes=0,s.pendingProps=a):s=ju(a,r,0,null),e=Mu(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=js(n),t.memoizedState=Ms,e):Us(t,a));if(null!==(l=e.memoizedState)&&null!==(o=l.dehydrated))return function(e,t,n,o,r,l,s){if(n)return 256&t.flags?(t.flags&=-257,Fs(e,t,s,o=cs(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(l=o.fallback,r=t.mode,o=ju({mode:"visible",children:o.children},r,0,null),(l=Mu(l,r,s,null)).flags|=2,o.return=t,l.return=t,o.sibling=l,t.child=o,0!==(1&t.mode)&&Si(t,e.child,null,s),t.child.memoizedState=js(s),t.memoizedState=Ms,l);if(0===(1&t.mode))return Fs(e,t,s,null);if("$!"===r.data){if(o=r.nextSibling&&r.nextSibling.dataset)var a=o.dgst;return o=a,Fs(e,t,s,o=cs(l=Error(i(419)),o,void 0))}if(a=0!==(s&e.childLanes),bs||a){if(null!==(o=Aa)){switch(s&-s){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(o.suspendedLanes|s))?0:r)&&r!==l.retryLane&&(l.retryLane=r,Mi(e,r),nu(o,e,r,-1))}return mu(),Fs(e,t,s,o=cs(Error(i(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=xu.bind(null,e),r._reactRetry=t,null):(e=l.treeContext,ri=cr(r.nextSibling),oi=t,ii=!0,li=null,null!==e&&(Yr[Kr++]=$r,Yr[Kr++]=Xr,Yr[Kr++]=Qr,$r=e.id,Xr=e.overflow,Qr=t),t=Us(t,o.children),t.flags|=4096,t)}(e,t,a,r,o,l,n);if(s){s=r.fallback,a=t.mode,o=(l=e.child).sibling;var u={mode:"hidden",children:r.children};return 0===(1&a)&&t.child!==l?((r=t.child).childLanes=0,r.pendingProps=u,t.deletions=null):(r=Ru(l,u)).subtreeFlags=14680064&l.subtreeFlags,null!==o?s=Ru(o,s):(s=Mu(s,a,n,null)).flags|=2,s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=null===(a=e.child.memoizedState)?js(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,r}return e=(s=e.child).sibling,r=Ru(s,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Us(e,t){return(t=ju({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fs(e,t,n,o){return null!==o&&mi(o),Si(t,e.child,null,n),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function qs(e,t,n){e.lanes|=t;var o=e.alternate;null!==o&&(o.lanes|=t),Ai(e.return,t,n)}function Gs(e,t,n,o,r){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:r}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=o,i.tail=n,i.tailMode=r)}function Hs(e,t,n){var o=t.pendingProps,r=o.revealOrder,i=o.tail;if(Es(e,t,o.children,n),0!==(2&(o=el.current)))o=1&o|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&qs(e,n,t);else if(19===e.tag)qs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(xr(el,o),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===tl(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Gs(t,!1,r,n,i);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===tl(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Gs(t,!0,n,null,i);break;case"together":Gs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ja|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Ru(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ru(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Bs(e,t){if(!ii)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;null!==n;)null!==n.alternate&&(o=n),n=n.sibling;null===o?t||null===e.tail?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Js(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,o=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,o|=14680064&r.subtreeFlags,o|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags,o|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=o,e.childLanes=n,t}function Ws(e,t,n){var o=t.pendingProps;switch(ni(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Js(t),null;case 1:case 17:return Rr(t.type)&&Dr(),Js(t),null;case 3:return o=t.stateNode,$i(),Ir(Or),Ir(Ar),ol(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),null!==e&&null!==e.child||(pi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==li&&(lu(li),li=null))),Ps(e,t),Js(t),null;case 5:Zi(t);var r=Ki(Yi.current);if(n=t.type,null!==e&&null!=t.stateNode)Rs(e,t,n,o,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(null===t.stateNode)throw Error(i(166));return Js(t),null}if(e=Ki(Ji.current),pi(t)){o=t.stateNode,n=t.type;var l=t.memoizedProps;switch(o[fr]=t,o[hr]=l,e=0!==(1&t.mode),n){case"dialog":qo("cancel",o),qo("close",o);break;case"iframe":case"object":case"embed":qo("load",o);break;case"video":case"audio":for(r=0;r<jo.length;r++)qo(jo[r],o);break;case"source":qo("error",o);break;case"img":case"image":case"link":qo("error",o),qo("load",o);break;case"details":qo("toggle",o);break;case"input":Q(o,l),qo("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!l.multiple},qo("invalid",o);break;case"textarea":re(o,l),qo("invalid",o)}for(var a in ye(n,l),r=null,l)if(l.hasOwnProperty(a)){var u=l[a];"children"===a?"string"===typeof u?o.textContent!==u&&(!0!==l.suppressHydrationWarning&&Zo(o.textContent,u,e),r=["children",u]):"number"===typeof u&&o.textContent!==""+u&&(!0!==l.suppressHydrationWarning&&Zo(o.textContent,u,e),r=["children",""+u]):s.hasOwnProperty(a)&&null!=u&&"onScroll"===a&&qo("scroll",o)}switch(n){case"input":J(o),Z(o,l,!0);break;case"textarea":J(o),le(o);break;case"select":case"option":break;default:"function"===typeof l.onClick&&(o.onclick=er)}o=r,t.updateQueue=o,null!==o&&(t.flags|=4)}else{a=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof o.is?e=a.createElement(n,{is:o.is}):(e=a.createElement(n),"select"===n&&(a=e,o.multiple?a.multiple=!0:o.size&&(a.size=o.size))):e=a.createElementNS(e,n),e[fr]=t,e[hr]=o,ks(e,t,!1,!1),t.stateNode=e;e:{switch(a=be(n,o),n){case"dialog":qo("cancel",e),qo("close",e),r=o;break;case"iframe":case"object":case"embed":qo("load",e),r=o;break;case"video":case"audio":for(r=0;r<jo.length;r++)qo(jo[r],e);r=o;break;case"source":qo("error",e),r=o;break;case"img":case"image":case"link":qo("error",e),qo("load",e),r=o;break;case"details":qo("toggle",e),r=o;break;case"input":Q(e,o),r=K(e,o),qo("invalid",e);break;case"option":default:r=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},r=L({},o,{value:void 0}),qo("invalid",e);break;case"textarea":re(e,o),r=oe(e,o),qo("invalid",e)}for(l in ye(n,r),u=r)if(u.hasOwnProperty(l)){var c=u[l];"style"===l?ge(e,c):"dangerouslySetInnerHTML"===l?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===l?"string"===typeof c?("textarea"!==n||""!==c)&&pe(e,c):"number"===typeof c&&pe(e,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?null!=c&&"onScroll"===l&&qo("scroll",e):null!=c&&b(e,l,c,a))}switch(n){case"input":J(e),Z(e,o,!1);break;case"textarea":J(e),le(e);break;case"option":null!=o.value&&e.setAttribute("value",""+z(o.value));break;case"select":e.multiple=!!o.multiple,null!=(l=o.value)?ne(e,!!o.multiple,l,!1):null!=o.defaultValue&&ne(e,!!o.multiple,o.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=er)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Js(t),null;case 6:if(e&&null!=t.stateNode)Ds(e,t,e.memoizedProps,o);else{if("string"!==typeof o&&null===t.stateNode)throw Error(i(166));if(n=Ki(Yi.current),Ki(Ji.current),pi(t)){if(o=t.stateNode,n=t.memoizedProps,o[fr]=t,(l=o.nodeValue!==n)&&null!==(e=oi))switch(e.tag){case 3:Zo(o.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zo(o.nodeValue,n,0!==(1&e.mode))}l&&(t.flags|=4)}else(o=(9===n.nodeType?n:n.ownerDocument).createTextNode(o))[fr]=t,t.stateNode=o}return Js(t),null;case 13:if(Ir(el),o=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ii&&null!==ri&&0!==(1&t.mode)&&0===(128&t.flags))fi(),hi(),t.flags|=98560,l=!1;else if(l=pi(t),null!==o&&null!==o.dehydrated){if(null===e){if(!l)throw Error(i(318));if(!(l=null!==(l=t.memoizedState)?l.dehydrated:null))throw Error(i(317));l[fr]=t}else hi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Js(t),l=!1}else null!==li&&(lu(li),li=null),l=!0;if(!l)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((o=null!==o)!==(null!==e&&null!==e.memoizedState)&&o&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&el.current)?0===Da&&(Da=3):mu())),null!==t.updateQueue&&(t.flags|=4),Js(t),null);case 4:return $i(),Ps(e,t),null===e&&Vo(t.stateNode.containerInfo),Js(t),null;case 10:return Ni(t.type._context),Js(t),null;case 19:if(Ir(el),null===(l=t.memoizedState))return Js(t),null;if(o=0!==(128&t.flags),null===(a=l.rendering))if(o)Bs(l,!1);else{if(0!==Da||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=tl(e))){for(t.flags|=128,Bs(l,!1),null!==(o=a.updateQueue)&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=n,n=t.child;null!==n;)e=o,(l=n).flags&=14680066,null===(a=l.alternate)?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,l.type=a.type,e=a.dependencies,l.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xr(el,1&el.current|2),t.child}e=e.sibling}null!==l.tail&&$e()>Ha&&(t.flags|=128,o=!0,Bs(l,!1),t.lanes=4194304)}else{if(!o)if(null!==(e=tl(a))){if(t.flags|=128,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Bs(l,!0),null===l.tail&&"hidden"===l.tailMode&&!a.alternate&&!ii)return Js(t),null}else 2*$e()-l.renderingStartTime>Ha&&1073741824!==n&&(t.flags|=128,o=!0,Bs(l,!1),t.lanes=4194304);l.isBackwards?(a.sibling=t.child,t.child=a):(null!==(n=l.last)?n.sibling=a:t.child=a,l.last=a)}return null!==l.tail?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=$e(),t.sibling=null,n=el.current,xr(el,o?1&n|2:1&n),t):(Js(t),null);case 22:case 23:return du(),o=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==o&&(t.flags|=8192),o&&0!==(1&t.mode)?0!==(1073741824&Pa)&&(Js(t),6&t.subtreeFlags&&(t.flags|=8192)):Js(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Ys(e,t){switch(ni(t),t.tag){case 1:return Rr(t.type)&&Dr(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return $i(),Ir(Or),Ir(Ar),ol(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zi(t),null;case 13:if(Ir(el),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));hi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ir(el),null;case 4:return $i(),null;case 10:return Ni(t.type._context),null;case 22:case 23:return du(),null;default:return null}}ks=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ps=function(){},Rs=function(e,t,n,o){var r=e.memoizedProps;if(r!==o){e=t.stateNode,Ki(Ji.current);var i,l=null;switch(n){case"input":r=K(e,r),o=K(e,o),l=[];break;case"select":r=L({},r,{value:void 0}),o=L({},o,{value:void 0}),l=[];break;case"textarea":r=oe(e,r),o=oe(e,o),l=[];break;default:"function"!==typeof r.onClick&&"function"===typeof o.onClick&&(e.onclick=er)}for(c in ye(n,o),n=null,r)if(!o.hasOwnProperty(c)&&r.hasOwnProperty(c)&&null!=r[c])if("style"===c){var a=r[c];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?l||(l=[]):(l=l||[]).push(c,null));for(c in o){var u=o[c];if(a=null!=r?r[c]:void 0,o.hasOwnProperty(c)&&u!==a&&(null!=u||null!=a))if("style"===c)if(a){for(i in a)!a.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in u)u.hasOwnProperty(i)&&a[i]!==u[i]&&(n||(n={}),n[i]=u[i])}else n||(l||(l=[]),l.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,a=a?a.__html:void 0,null!=u&&a!==u&&(l=l||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(l=l||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&qo("scroll",e),l||a===u||(l=[])):(l=l||[]).push(c,u))}n&&(l=l||[]).push("style",n);var c=l;(t.updateQueue=c)&&(t.flags|=4)}},Ds=function(e,t,n,o){n!==o&&(t.flags|=4)};var Ks=!1,Qs=!1,$s="function"===typeof WeakSet?WeakSet:Set,Xs=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(o){wu(e,t,o)}else n.current=null}function ea(e,t,n){try{n()}catch(o){wu(e,t,o)}}var ta=!1;function na(e,t,n){var o=t.updateQueue;if(null!==(o=null!==o?o.lastEffect:null)){var r=o=o.next;do{if((r.tag&e)===e){var i=r.destroy;r.destroy=void 0,void 0!==i&&ea(t,n,i)}r=r.next}while(r!==o)}}function oa(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var o=n.create;n.destroy=o()}n=n.next}while(n!==t)}}function ra(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ia(e){var t=e.alternate;null!==t&&(e.alternate=null,ia(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fr],delete t[hr],delete t[gr],delete t[vr],delete t[yr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function la(e){return 5===e.tag||3===e.tag||4===e.tag}function sa(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||la(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function aa(e,t,n){var o=e.tag;if(5===o||6===o)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=er));else if(4!==o&&null!==(e=e.child))for(aa(e,t,n),e=e.sibling;null!==e;)aa(e,t,n),e=e.sibling}function ua(e,t,n){var o=e.tag;if(5===o||6===o)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==o&&null!==(e=e.child))for(ua(e,t,n),e=e.sibling;null!==e;)ua(e,t,n),e=e.sibling}var ca=null,da=!1;function pa(e,t,n){for(n=n.child;null!==n;)fa(e,t,n),n=n.sibling}function fa(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(rt,n)}catch(s){}switch(n.tag){case 5:Qs||Zs(n,t);case 6:var o=ca,r=da;ca=null,pa(e,t,n),da=r,null!==(ca=o)&&(da?(e=ca,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ca.removeChild(n.stateNode));break;case 18:null!==ca&&(da?(e=ca,n=n.stateNode,8===e.nodeType?ur(e.parentNode,n):1===e.nodeType&&ur(e,n),Ht(e)):ur(ca,n.stateNode));break;case 4:o=ca,r=da,ca=n.stateNode.containerInfo,da=!0,pa(e,t,n),ca=o,da=r;break;case 0:case 11:case 14:case 15:if(!Qs&&(null!==(o=n.updateQueue)&&null!==(o=o.lastEffect))){r=o=o.next;do{var i=r,l=i.destroy;i=i.tag,void 0!==l&&(0!==(2&i)||0!==(4&i))&&ea(n,t,l),r=r.next}while(r!==o)}pa(e,t,n);break;case 1:if(!Qs&&(Zs(n,t),"function"===typeof(o=n.stateNode).componentWillUnmount))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(s){wu(n,t,s)}pa(e,t,n);break;case 21:pa(e,t,n);break;case 22:1&n.mode?(Qs=(o=Qs)||null!==n.memoizedState,pa(e,t,n),Qs=o):pa(e,t,n);break;default:pa(e,t,n)}}function ha(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $s),t.forEach(function(t){var o=Nu.bind(null,e,t);n.has(t)||(n.add(t),t.then(o,o))})}}function ma(e,t){var n=t.deletions;if(null!==n)for(var o=0;o<n.length;o++){var r=n[o];try{var l=e,s=t,a=s;e:for(;null!==a;){switch(a.tag){case 5:ca=a.stateNode,da=!1;break e;case 3:case 4:ca=a.stateNode.containerInfo,da=!0;break e}a=a.return}if(null===ca)throw Error(i(160));fa(l,s,r),ca=null,da=!1;var u=r.alternate;null!==u&&(u.return=null),r.return=null}catch(c){wu(r,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ga(t,e),t=t.sibling}function ga(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ma(t,e),va(e),4&o){try{na(3,e,e.return),oa(3,e)}catch(g){wu(e,e.return,g)}try{na(5,e,e.return)}catch(g){wu(e,e.return,g)}}break;case 1:ma(t,e),va(e),512&o&&null!==n&&Zs(n,n.return);break;case 5:if(ma(t,e),va(e),512&o&&null!==n&&Zs(n,n.return),32&e.flags){var r=e.stateNode;try{pe(r,"")}catch(g){wu(e,e.return,g)}}if(4&o&&null!=(r=e.stateNode)){var l=e.memoizedProps,s=null!==n?n.memoizedProps:l,a=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===a&&"radio"===l.type&&null!=l.name&&$(r,l),be(a,s);var c=be(a,l);for(s=0;s<u.length;s+=2){var d=u[s],p=u[s+1];"style"===d?ge(r,p):"dangerouslySetInnerHTML"===d?de(r,p):"children"===d?pe(r,p):b(r,d,p,c)}switch(a){case"input":X(r,l);break;case"textarea":ie(r,l);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!l.multiple;var h=l.value;null!=h?ne(r,!!l.multiple,h,!1):f!==!!l.multiple&&(null!=l.defaultValue?ne(r,!!l.multiple,l.defaultValue,!0):ne(r,!!l.multiple,l.multiple?[]:"",!1))}r[hr]=l}catch(g){wu(e,e.return,g)}}break;case 6:if(ma(t,e),va(e),4&o){if(null===e.stateNode)throw Error(i(162));r=e.stateNode,l=e.memoizedProps;try{r.nodeValue=l}catch(g){wu(e,e.return,g)}}break;case 3:if(ma(t,e),va(e),4&o&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(g){wu(e,e.return,g)}break;case 4:default:ma(t,e),va(e);break;case 13:ma(t,e),va(e),8192&(r=e.child).flags&&(l=null!==r.memoizedState,r.stateNode.isHidden=l,!l||null!==r.alternate&&null!==r.alternate.memoizedState||(Ga=$e())),4&o&&ha(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Qs=(c=Qs)||d,ma(t,e),Qs=c):ma(t,e),va(e),8192&o){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Xs=e,d=e.child;null!==d;){for(p=Xs=d;null!==Xs;){switch(h=(f=Xs).child,f.tag){case 0:case 11:case 14:case 15:na(4,f,f.return);break;case 1:Zs(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){o=f,n=f.return;try{t=o,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){wu(o,n,g)}}break;case 5:Zs(f,f.return);break;case 22:if(null!==f.memoizedState){Sa(p);continue}}null!==h?(h.return=f,Xs=h):Sa(p)}d=d.sibling}e:for(d=null,p=e;;){if(5===p.tag){if(null===d){d=p;try{r=p.stateNode,c?"function"===typeof(l=r.style).setProperty?l.setProperty("display","none","important"):l.display="none":(a=p.stateNode,s=void 0!==(u=p.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,a.style.display=me("display",s))}catch(g){wu(e,e.return,g)}}}else if(6===p.tag){if(null===d)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(g){wu(e,e.return,g)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:ma(t,e),va(e),4&o&&ha(e);case 21:}}function va(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(la(n)){var o=n;break e}n=n.return}throw Error(i(160))}switch(o.tag){case 5:var r=o.stateNode;32&o.flags&&(pe(r,""),o.flags&=-33),ua(e,sa(e),r);break;case 3:case 4:var l=o.stateNode.containerInfo;aa(e,sa(e),l);break;default:throw Error(i(161))}}catch(s){wu(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ya(e,t,n){Xs=e,ba(e,t,n)}function ba(e,t,n){for(var o=0!==(1&e.mode);null!==Xs;){var r=Xs,i=r.child;if(22===r.tag&&o){var l=null!==r.memoizedState||Ks;if(!l){var s=r.alternate,a=null!==s&&null!==s.memoizedState||Qs;s=Ks;var u=Qs;if(Ks=l,(Qs=a)&&!u)for(Xs=r;null!==Xs;)a=(l=Xs).child,22===l.tag&&null!==l.memoizedState?_a(r):null!==a?(a.return=l,Xs=a):_a(r);for(;null!==i;)Xs=i,ba(i,t,n),i=i.sibling;Xs=r,Ks=s,Qs=u}Ea(e)}else 0!==(8772&r.subtreeFlags)&&null!==i?(i.return=r,Xs=i):Ea(e)}}function Ea(e){for(;null!==Xs;){var t=Xs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qs||oa(5,t);break;case 1:var o=t.stateNode;if(4&t.flags&&!Qs)if(null===n)o.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);o.componentDidUpdate(r,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;null!==l&&zi(t,l,o);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}zi(t,s,n)}break;case 5:var a=t.stateNode;if(null===n&&4&t.flags){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var p=d.dehydrated;null!==p&&Ht(p)}}}break;default:throw Error(i(163))}Qs||512&t.flags&&ra(t)}catch(f){wu(t,t.return,f)}}if(t===e){Xs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xs=n;break}Xs=t.return}}function Sa(e){for(;null!==Xs;){var t=Xs;if(t===e){Xs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xs=n;break}Xs=t.return}}function _a(e){for(;null!==Xs;){var t=Xs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{oa(4,t)}catch(a){wu(t,n,a)}break;case 1:var o=t.stateNode;if("function"===typeof o.componentDidMount){var r=t.return;try{o.componentDidMount()}catch(a){wu(t,r,a)}}var i=t.return;try{ra(t)}catch(a){wu(t,i,a)}break;case 5:var l=t.return;try{ra(t)}catch(a){wu(t,l,a)}}}catch(a){wu(t,t.return,a)}if(t===e){Xs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Xs=s;break}Xs=t.return}}var Ca,wa=Math.ceil,Ta=E.ReactCurrentDispatcher,Ia=E.ReactCurrentOwner,xa=E.ReactCurrentBatchConfig,Na=0,Aa=null,Oa=null,ka=0,Pa=0,Ra=Tr(0),Da=0,Ma=null,ja=0,La=0,Ua=0,Fa=null,qa=null,Ga=0,Ha=1/0,Va=null,za=!1,Ba=null,Ja=null,Wa=!1,Ya=null,Ka=0,Qa=0,$a=null,Xa=-1,Za=0;function eu(){return 0!==(6&Na)?$e():-1!==Xa?Xa:Xa=$e()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Na)&&0!==ka?ka&-ka:null!==gi.transition?(0===Za&&(Za=mt()),Za):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nu(e,t,n,o){if(50<Qa)throw Qa=0,$a=null,Error(i(185));vt(e,n,o),0!==(2&Na)&&e===Aa||(e===Aa&&(0===(2&Na)&&(La|=n),4===Da&&su(e,ka)),ou(e,o),1===n&&0===Na&&0===(1&t.mode)&&(Ha=$e()+500,qr&&Vr()))}function ou(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,o=e.pingedLanes,r=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-lt(i),s=1<<l,a=r[l];-1===a?0!==(s&n)&&0===(s&o)||(r[l]=ft(s,t)):a<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var o=pt(e,e===Aa?ka:0);if(0===o)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){qr=!0,Hr(e)}(au.bind(null,e)):Hr(au.bind(null,e)),sr(function(){0===(6&Na)&&Vr()}),n=null;else{switch(Et(o)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=ot}n=Au(n,ru.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ru(e,t){if(Xa=-1,Za=0,0!==(6&Na))throw Error(i(327));var n=e.callbackNode;if(_u()&&e.callbackNode!==n)return null;var o=pt(e,e===Aa?ka:0);if(0===o)return null;if(0!==(30&o)||0!==(o&e.expiredLanes)||t)t=gu(e,o);else{t=o;var r=Na;Na|=2;var l=hu();for(Aa===e&&ka===t||(Va=null,Ha=$e()+500,pu(e,t));;)try{yu();break}catch(a){fu(e,a)}xi(),Ta.current=l,Na=r,null!==Oa?t=0:(Aa=null,ka=0,t=Da)}if(0!==t){if(2===t&&(0!==(r=ht(e))&&(o=r,t=iu(e,r))),1===t)throw n=Ma,pu(e,0),su(e,o),ou(e,$e()),n;if(6===t)su(e,o);else{if(r=e.current.alternate,0===(30&o)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var o=0;o<n.length;o++){var r=n[o],i=r.getSnapshot;r=r.value;try{if(!so(i(),r))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=gu(e,o))&&(0!==(l=ht(e))&&(o=l,t=iu(e,l))),1===t))throw n=Ma,pu(e,0),su(e,o),ou(e,$e()),n;switch(e.finishedWork=r,e.finishedLanes=o,t){case 0:case 1:throw Error(i(345));case 2:case 5:Su(e,qa,Va);break;case 3:if(su(e,o),(130023424&o)===o&&10<(t=Ga+500-$e())){if(0!==pt(e,0))break;if(((r=e.suspendedLanes)&o)!==o){eu(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=rr(Su.bind(null,e,qa,Va),t);break}Su(e,qa,Va);break;case 4:if(su(e,o),(4194240&o)===o)break;for(t=e.eventTimes,r=-1;0<o;){var s=31-lt(o);l=1<<s,(s=t[s])>r&&(r=s),o&=~l}if(o=r,10<(o=(120>(o=$e()-o)?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*wa(o/1960))-o)){e.timeoutHandle=rr(Su.bind(null,e,qa,Va),o);break}Su(e,qa,Va);break;default:throw Error(i(329))}}}return ou(e,$e()),e.callbackNode===n?ru.bind(null,e):null}function iu(e,t){var n=Fa;return e.current.memoizedState.isDehydrated&&(pu(e,t).flags|=256),2!==(e=gu(e,t))&&(t=qa,qa=n,null!==t&&lu(t)),e}function lu(e){null===qa?qa=e:qa.push.apply(qa,e)}function su(e,t){for(t&=~Ua,t&=~La,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-lt(t),o=1<<n;e[n]=-1,t&=~o}}function au(e){if(0!==(6&Na))throw Error(i(327));_u();var t=pt(e,0);if(0===(1&t))return ou(e,$e()),null;var n=gu(e,t);if(0!==e.tag&&2===n){var o=ht(e);0!==o&&(t=o,n=iu(e,o))}if(1===n)throw n=Ma,pu(e,0),su(e,t),ou(e,$e()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Su(e,qa,Va),ou(e,$e()),null}function uu(e,t){var n=Na;Na|=1;try{return e(t)}finally{0===(Na=n)&&(Ha=$e()+500,qr&&Vr())}}function cu(e){null!==Ya&&0===Ya.tag&&0===(6&Na)&&_u();var t=Na;Na|=1;var n=xa.transition,o=bt;try{if(xa.transition=null,bt=1,e)return e()}finally{bt=o,xa.transition=n,0===(6&(Na=t))&&Vr()}}function du(){Pa=Ra.current,Ir(Ra)}function pu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ir(n)),null!==Oa)for(n=Oa.return;null!==n;){var o=n;switch(ni(o),o.tag){case 1:null!==(o=o.type.childContextTypes)&&void 0!==o&&Dr();break;case 3:$i(),Ir(Or),Ir(Ar),ol();break;case 5:Zi(o);break;case 4:$i();break;case 13:case 19:Ir(el);break;case 10:Ni(o.type._context);break;case 22:case 23:du()}n=n.return}if(Aa=e,Oa=e=Ru(e.current,null),ka=Pa=t,Da=0,Ma=null,Ua=La=ja=0,qa=Fa=null,null!==Pi){for(t=0;t<Pi.length;t++)if(null!==(o=(n=Pi[t]).interleaved)){n.interleaved=null;var r=o.next,i=n.pending;if(null!==i){var l=i.next;i.next=r,o.next=l}n.pending=o}Pi=null}return e}function fu(e,t){for(;;){var n=Oa;try{if(xi(),rl.current=Xl,cl){for(var o=sl.memoizedState;null!==o;){var r=o.queue;null!==r&&(r.pending=null),o=o.next}cl=!1}if(ll=0,ul=al=sl=null,dl=!1,pl=0,Ia.current=null,null===n||null===n.return){Da=1,Ma=t,Oa=null;break}e:{var l=e,s=n.return,a=n,u=t;if(t=ka,a.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=a,p=d.tag;if(0===(1&d.mode)&&(0===p||11===p||15===p)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=gs(s);if(null!==h){h.flags&=-257,vs(h,s,a,0,t),1&h.mode&&ms(l,c,t),u=c;var m=(t=h).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0===(1&t)){ms(l,c,t),mu();break e}u=Error(i(426))}else if(ii&&1&a.mode){var v=gs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vs(v,s,a,0,t),mi(us(u,a));break e}}l=u=us(u,a),4!==Da&&(Da=2),null===Fa?Fa=[l]:Fa.push(l),l=s;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,Hi(l,fs(0,u,t));break e;case 1:a=u;var y=l.type,b=l.stateNode;if(0===(128&l.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ja||!Ja.has(b)))){l.flags|=65536,t&=-t,l.lanes|=t,Hi(l,hs(l,a,t));break e}}l=l.return}while(null!==l)}Eu(n)}catch(E){t=E,Oa===n&&null!==n&&(Oa=n=n.return);continue}break}}function hu(){var e=Ta.current;return Ta.current=Xl,null===e?Xl:e}function mu(){0!==Da&&3!==Da&&2!==Da||(Da=4),null===Aa||0===(268435455&ja)&&0===(268435455&La)||su(Aa,ka)}function gu(e,t){var n=Na;Na|=2;var o=hu();for(Aa===e&&ka===t||(Va=null,pu(e,t));;)try{vu();break}catch(r){fu(e,r)}if(xi(),Na=n,Ta.current=o,null!==Oa)throw Error(i(261));return Aa=null,ka=0,Da}function vu(){for(;null!==Oa;)bu(Oa)}function yu(){for(;null!==Oa&&!Ke();)bu(Oa)}function bu(e){var t=Ca(e.alternate,e,Pa);e.memoizedProps=e.pendingProps,null===t?Eu(e):Oa=t,Ia.current=null}function Eu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ws(n,t,Pa)))return void(Oa=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Oa=n);if(null===e)return Da=6,void(Oa=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Oa=t);Oa=t=e}while(null!==t);0===Da&&(Da=5)}function Su(e,t,n){var o=bt,r=xa.transition;try{xa.transition=null,bt=1,function(e,t,n,o){do{_u()}while(null!==Ya);if(0!==(6&Na))throw Error(i(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-lt(n),i=1<<r;t[r]=0,o[r]=-1,e[r]=-1,n&=~i}}(e,l),e===Aa&&(Oa=Aa=null,ka=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Wa||(Wa=!0,Au(tt,function(){return _u(),null})),l=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||l){l=xa.transition,xa.transition=null;var s=bt;bt=1;var a=Na;Na|=4,Ia.current=null,function(e,t){if(tr=zt,ho(e=fo())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var o=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(o&&0!==o.rangeCount){n=o.anchorNode;var r=o.anchorOffset,l=o.focusNode;o=o.focusOffset;try{n.nodeType,l.nodeType}catch(S){n=null;break e}var s=0,a=-1,u=-1,c=0,d=0,p=e,f=null;t:for(;;){for(var h;p!==n||0!==r&&3!==p.nodeType||(a=s+r),p!==l||0!==o&&3!==p.nodeType||(u=s+o),3===p.nodeType&&(s+=p.nodeValue.length),null!==(h=p.firstChild);)f=p,p=h;for(;;){if(p===e)break t;if(f===n&&++c===r&&(a=s),f===l&&++d===o&&(u=s),null!==(h=p.nextSibling))break;f=(p=f).parentNode}p=h}n=-1===a||-1===u?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(nr={focusedElem:e,selectionRange:n},zt=!1,Xs=t;null!==Xs;)if(e=(t=Xs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xs=e;else for(;null!==Xs;){t=Xs;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ns(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var E=t.stateNode.containerInfo;1===E.nodeType?E.textContent="":9===E.nodeType&&E.documentElement&&E.removeChild(E.documentElement);break;default:throw Error(i(163))}}catch(S){wu(t,t.return,S)}if(null!==(e=t.sibling)){e.return=t.return,Xs=e;break}Xs=t.return}m=ta,ta=!1}(e,n),ga(n,e),mo(nr),zt=!!tr,nr=tr=null,e.current=n,ya(n,e,r),Qe(),Na=a,bt=s,xa.transition=l}else e.current=n;if(Wa&&(Wa=!1,Ya=e,Ka=r),l=e.pendingLanes,0===l&&(Ja=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ou(e,$e()),null!==t)for(o=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],o(r.value,{componentStack:r.stack,digest:r.digest});if(za)throw za=!1,e=Ba,Ba=null,e;0!==(1&Ka)&&0!==e.tag&&_u(),l=e.pendingLanes,0!==(1&l)?e===$a?Qa++:(Qa=0,$a=e):Qa=0,Vr()}(e,t,n,o)}finally{xa.transition=r,bt=o}return null}function _u(){if(null!==Ya){var e=Et(Ka),t=xa.transition,n=bt;try{if(xa.transition=null,bt=16>e?16:e,null===Ya)var o=!1;else{if(e=Ya,Ya=null,Ka=0,0!==(6&Na))throw Error(i(331));var r=Na;for(Na|=4,Xs=e.current;null!==Xs;){var l=Xs,s=l.child;if(0!==(16&Xs.flags)){var a=l.deletions;if(null!==a){for(var u=0;u<a.length;u++){var c=a[u];for(Xs=c;null!==Xs;){var d=Xs;switch(d.tag){case 0:case 11:case 15:na(8,d,l)}var p=d.child;if(null!==p)p.return=d,Xs=p;else for(;null!==Xs;){var f=(d=Xs).sibling,h=d.return;if(ia(d),d===c){Xs=null;break}if(null!==f){f.return=h,Xs=f;break}Xs=h}}}var m=l.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Xs=l}}if(0!==(2064&l.subtreeFlags)&&null!==s)s.return=l,Xs=s;else e:for(;null!==Xs;){if(0!==(2048&(l=Xs).flags))switch(l.tag){case 0:case 11:case 15:na(9,l,l.return)}var y=l.sibling;if(null!==y){y.return=l.return,Xs=y;break e}Xs=l.return}}var b=e.current;for(Xs=b;null!==Xs;){var E=(s=Xs).child;if(0!==(2064&s.subtreeFlags)&&null!==E)E.return=s,Xs=E;else e:for(s=b;null!==Xs;){if(0!==(2048&(a=Xs).flags))try{switch(a.tag){case 0:case 11:case 15:oa(9,a)}}catch(_){wu(a,a.return,_)}if(a===s){Xs=null;break e}var S=a.sibling;if(null!==S){S.return=a.return,Xs=S;break e}Xs=a.return}}if(Na=r,Vr(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(rt,e)}catch(_){}o=!0}return o}finally{bt=n,xa.transition=t}}return!1}function Cu(e,t,n){e=qi(e,t=fs(0,t=us(n,t),1),1),t=eu(),null!==e&&(vt(e,1,t),ou(e,t))}function wu(e,t,n){if(3===e.tag)Cu(e,e,n);else for(;null!==t;){if(3===t.tag){Cu(t,e,n);break}if(1===t.tag){var o=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof o.componentDidCatch&&(null===Ja||!Ja.has(o))){t=qi(t,e=hs(t,e=us(n,e),1),1),e=eu(),null!==t&&(vt(t,1,e),ou(t,e));break}}t=t.return}}function Tu(e,t,n){var o=e.pingCache;null!==o&&o.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Aa===e&&(ka&n)===n&&(4===Da||3===Da&&(130023424&ka)===ka&&500>$e()-Ga?pu(e,0):Ua|=n),ou(e,t)}function Iu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=Mi(e,t))&&(vt(e,t,n),ou(e,n))}function xu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Iu(e,n)}function Nu(e,t){var n=0;switch(e.tag){case 13:var o=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(i(314))}null!==o&&o.delete(t),Iu(e,n)}function Au(e,t){return We(e,t)}function Ou(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ku(e,t,n,o){return new Ou(e,t,n,o)}function Pu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ru(e,t){var n=e.alternate;return null===n?((n=ku(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Du(e,t,n,o,r,l){var s=2;if(o=e,"function"===typeof e)Pu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case C:return Mu(n.children,r,l,t);case w:s=8,r|=8;break;case T:return(e=ku(12,n,t,2|r)).elementType=T,e.lanes=l,e;case A:return(e=ku(13,n,t,r)).elementType=A,e.lanes=l,e;case O:return(e=ku(19,n,t,r)).elementType=O,e.lanes=l,e;case R:return ju(n,r,l,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:s=10;break e;case x:s=9;break e;case N:s=11;break e;case k:s=14;break e;case P:s=16,o=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=ku(s,n,t,r)).elementType=e,t.type=o,t.lanes=l,t}function Mu(e,t,n,o){return(e=ku(7,e,o,t)).lanes=n,e}function ju(e,t,n,o){return(e=ku(22,e,o,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Lu(e,t,n){return(e=ku(6,e,null,t)).lanes=n,e}function Uu(e,t,n){return(t=ku(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fu(e,t,n,o,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=o,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function qu(e,t,n,o,r,i,l,s,a){return e=new Fu(e,t,n,s,a),1===t?(t=1,!0===i&&(t|=8)):t=0,i=ku(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Li(i),e}function Gu(e){if(!e)return Nr;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Rr(n))return jr(e,n,t)}return t}function Hu(e,t,n,o,r,i,l,s,a){return(e=qu(n,o,!0,e,0,i,0,s,a)).context=Gu(null),n=e.current,(i=Fi(o=eu(),r=tu(n))).callback=void 0!==t&&null!==t?t:null,qi(n,i,r),e.current.lanes=r,vt(e,r,o),ou(e,o),e}function Vu(e,t,n,o){var r=t.current,i=eu(),l=tu(r);return n=Gu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fi(i,l)).payload={element:e},null!==(o=void 0===o?null:o)&&(t.callback=o),null!==(e=qi(r,t,l))&&(nu(e,r,l,i),Gi(e,r,l)),l}function zu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Bu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Ju(e,t){Bu(e,t),(e=e.alternate)&&Bu(e,t)}Ca=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Or.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:As(t),hi();break;case 5:Xi(t);break;case 1:Rr(t.type)&&Lr(t);break;case 4:Qi(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,r=t.memoizedProps.value;xr(Ci,o._currentValue),o._currentValue=r;break;case 13:if(null!==(o=t.memoizedState))return null!==o.dehydrated?(xr(el,1&el.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ls(e,t,n):(xr(el,1&el.current),null!==(e=zs(e,t,n))?e.sibling:null);xr(el,1&el.current);break;case 19:if(o=0!==(n&t.childLanes),0!==(128&e.flags)){if(o)return Hs(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),xr(el,el.current),o)break;return null;case 22:case 23:return t.lanes=0,ws(e,t,n)}return zs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ii&&0!==(1048576&t.flags)&&ei(t,Wr,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;Vs(e,t),e=t.pendingProps;var r=Pr(t,Ar.current);Oi(t,n),r=gl(null,t,o,e,r,n);var l=vl();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rr(o)?(l=!0,Lr(t)):l=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Li(t),r.updater=rs,t.stateNode=r,r._reactInternals=t,as(t,o,e,n),t=Ns(null,t,o,!0,l,n)):(t.tag=0,ii&&l&&ti(t),Es(null,t,r,n),t=t.child),t;case 16:o=t.elementType;e:{switch(Vs(e,t),e=t.pendingProps,o=(r=o._init)(o._payload),t.type=o,r=t.tag=function(e){if("function"===typeof e)return Pu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===k)return 14}return 2}(o),e=ns(o,e),r){case 0:t=Is(null,t,o,e,n);break e;case 1:t=xs(null,t,o,e,n);break e;case 11:t=Ss(null,t,o,e,n);break e;case 14:t=_s(null,t,o,ns(o.type,e),n);break e}throw Error(i(306,o,""))}return t;case 0:return o=t.type,r=t.pendingProps,Is(e,t,o,r=t.elementType===o?r:ns(o,r),n);case 1:return o=t.type,r=t.pendingProps,xs(e,t,o,r=t.elementType===o?r:ns(o,r),n);case 3:e:{if(As(t),null===e)throw Error(i(387));o=t.pendingProps,r=(l=t.memoizedState).element,Ui(e,t),Vi(t,o,null,n);var s=t.memoizedState;if(o=s.element,l.isDehydrated){if(l={element:o,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=l,t.memoizedState=l,256&t.flags){t=Os(e,t,o,n,r=us(Error(i(423)),t));break e}if(o!==r){t=Os(e,t,o,n,r=us(Error(i(424)),t));break e}for(ri=cr(t.stateNode.containerInfo.firstChild),oi=t,ii=!0,li=null,n=_i(t,null,o,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hi(),o===r){t=zs(e,t,n);break e}Es(e,t,o,n)}t=t.child}return t;case 5:return Xi(t),null===e&&ci(t),o=t.type,r=t.pendingProps,l=null!==e?e.memoizedProps:null,s=r.children,or(o,r)?s=null:null!==l&&or(o,l)&&(t.flags|=32),Ts(e,t),Es(e,t,s,n),t.child;case 6:return null===e&&ci(t),null;case 13:return Ls(e,t,n);case 4:return Qi(t,t.stateNode.containerInfo),o=t.pendingProps,null===e?t.child=Si(t,null,o,n):Es(e,t,o,n),t.child;case 11:return o=t.type,r=t.pendingProps,Ss(e,t,o,r=t.elementType===o?r:ns(o,r),n);case 7:return Es(e,t,t.pendingProps,n),t.child;case 8:case 12:return Es(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(o=t.type._context,r=t.pendingProps,l=t.memoizedProps,s=r.value,xr(Ci,o._currentValue),o._currentValue=s,null!==l)if(so(l.value,s)){if(l.children===r.children&&!Or.current){t=zs(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var a=l.dependencies;if(null!==a){s=l.child;for(var u=a.firstContext;null!==u;){if(u.context===o){if(1===l.tag){(u=Fi(-1,n&-n)).tag=2;var c=l.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}l.lanes|=n,null!==(u=l.alternate)&&(u.lanes|=n),Ai(l.return,n,t),a.lanes|=n;break}u=u.next}}else if(10===l.tag)s=l.type===t.type?null:l.child;else if(18===l.tag){if(null===(s=l.return))throw Error(i(341));s.lanes|=n,null!==(a=s.alternate)&&(a.lanes|=n),Ai(s,n,t),s=l.sibling}else s=l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Es(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,o=t.pendingProps.children,Oi(t,n),o=o(r=ki(r)),t.flags|=1,Es(e,t,o,n),t.child;case 14:return r=ns(o=t.type,t.pendingProps),_s(e,t,o,r=ns(o.type,r),n);case 15:return Cs(e,t,t.type,t.pendingProps,n);case 17:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:ns(o,r),Vs(e,t),t.tag=1,Rr(o)?(e=!0,Lr(t)):e=!1,Oi(t,n),ls(t,o,r),as(t,o,r,n),Ns(null,t,o,!0,e,n);case 19:return Hs(e,t,n);case 22:return ws(e,t,n)}throw Error(i(156,t.tag))};var Wu="function"===typeof reportError?reportError:function(e){console.error(e)};function Yu(e){this._internalRoot=e}function Ku(e){this._internalRoot=e}function Qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $u(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xu(){}function Zu(e,t,n,o,r){var i=n._reactRootContainer;if(i){var l=i;if("function"===typeof r){var s=r;r=function(){var e=zu(l);s.call(e)}}Vu(t,l,e,r)}else l=function(e,t,n,o,r){if(r){if("function"===typeof o){var i=o;o=function(){var e=zu(l);i.call(e)}}var l=Hu(t,o,e,0,null,!1,0,"",Xu);return e._reactRootContainer=l,e[mr]=l.current,Vo(8===e.nodeType?e.parentNode:e),cu(),l}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof o){var s=o;o=function(){var e=zu(a);s.call(e)}}var a=qu(e,0,!1,null,0,!1,0,"",Xu);return e._reactRootContainer=a,e[mr]=a.current,Vo(8===e.nodeType?e.parentNode:e),cu(function(){Vu(t,a,n,o)}),a}(n,t,e,r,o);return zu(l)}Ku.prototype.render=Yu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Vu(e,t,null,null)},Ku.prototype.unmount=Yu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu(function(){Vu(null,e,null,null)}),t[mr]=null}},Ku.prototype.unstable_scheduleHydration=function(e){if(e){var t=wt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Lt(e)}},St=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ou(t,$e()),0===(6&Na)&&(Ha=$e()+500,Vr()))}break;case 13:cu(function(){var t=Mi(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}}),Ju(e,1)}},_t=function(e){if(13===e.tag){var t=Mi(e,134217728);if(null!==t)nu(t,e,134217728,eu());Ju(e,134217728)}},Ct=function(e){if(13===e.tag){var t=tu(e),n=Mi(e,t);if(null!==n)nu(n,e,t,eu());Ju(e,t)}},wt=function(){return bt},Tt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},_e=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var r=_r(o);if(!r)throw Error(i(90));W(o),X(o,r)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=uu,Ae=cu;var ec={usingClientEntryPoint:!1,Events:[Er,Sr,_r,Ie,xe,uu]},tc={findFiberByHostInstance:br,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Be(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{rt=oc.inject(nc),it=oc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qu(t))throw Error(i(200));return function(e,t,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==o?null:""+o,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qu(e))throw Error(i(299));var n=!1,o="",r=Wu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(o=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=qu(e,1,!1,null,0,n,0,o,r),e[mr]=t.current,Vo(8===e.nodeType?e.parentNode:e),new Yu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=Be(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!$u(t))throw Error(i(200));return Zu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qu(e))throw Error(i(405));var o=null!=n&&n.hydratedSources||null,r=!1,l="",s=Wu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(l=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Hu(t,null,e,1,null!=n?n:null,r,0,l,s),e[mr]=t.current,Vo(e),o)for(e=0;e<o.length;e++)r=(r=(n=o[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Ku(t)},t.render=function(e,t,n){if(!$u(t))throw Error(i(200));return Zu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$u(e))throw Error(i(40));return!!e._reactRootContainer&&(cu(function(){Zu(null,null,e,!1,function(){e._reactRootContainer=null,e[mr]=null})}),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,o){if(!$u(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Zu(e,t,n,!1,o)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function r(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function i(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var a=n(43),u=n(391);let c,d;function p(e,t,n,o){var r,i;if(!(null===e||void 0===e?void 0:e.baseUrl)){const e={geminiUrl:c,vertexUrl:d};return t?null!==(r=e.vertexUrl)&&void 0!==r?r:n:null!==(i=e.geminiUrl)&&void 0!==i?i:o}return e.baseUrl}class f{}function h(e,t){return e.replace(/\{([^}]+)\}/g,(e,n)=>{if(Object.prototype.hasOwnProperty.call(t,n)){const e=t[n];return void 0!==e&&null!==e?String(e):""}throw new Error("Key '".concat(n,"' not found in valueMap."))})}function m(e,t,n){for(let i=0;i<t.length-1;i++){const o=t[i];if(o.endsWith("[]")){const r=o.slice(0,-2);if(!(r in e)){if(!Array.isArray(n))throw new Error("Value must be a list given an array path ".concat(o));e[r]=Array.from({length:n.length},()=>({}))}if(Array.isArray(e[r])){const o=e[r];if(Array.isArray(n))for(let e=0;e<o.length;e++){m(o[e],t.slice(i+1),n[e])}else for(const e of o)m(e,t.slice(i+1),n)}return}if(o.endsWith("[0]")){const r=o.slice(0,-3);r in e||(e[r]=[{}]);return void m(e[r][0],t.slice(i+1),n)}e[o]&&"object"===typeof e[o]||(e[o]={}),e=e[o]}const o=t[t.length-1],r=e[o];if(void 0!==r){if(!n||"object"===typeof n&&0===Object.keys(n).length)return;if(n===r)return;if("object"!==typeof r||"object"!==typeof n||null===r||null===n)throw new Error("Cannot set value for an existing key. Key: ".concat(o));Object.assign(r,n)}else if("_self"!==o||"object"!==typeof n||null===n||Array.isArray(n))e[o]=n;else{const t=n;Object.assign(e,t)}}function g(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;try{if(1===t.length&&"_self"===t[0])return e;for(let o=0;o<t.length;o++){if("object"!==typeof e||null===e)return n;const r=t[o];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in e){const r=e[i];return Array.isArray(r)?r.map(e=>g(e,t.slice(o+1),n)):n}return n}e=e[r]}return e}catch(o){if(o instanceof TypeError)return n;throw o}}function v(e,t,n,o,r){if(o>=t.length)return;if("object"!==typeof e||null===e)return;const i=t[o];if(i.endsWith("[]")){const l=i.slice(0,-2),s=e;if(l in s&&Array.isArray(s[l]))for(const e of s[l])v(e,t,n,o+1,r)}else if("*"===i){if("object"===typeof e&&null!==e&&!Array.isArray(e)){const t=e,i=Object.keys(t).filter(e=>!e.startsWith("_")&&!r.has(e)),l={};for(const e of i)l[e]=t[e];for(const[e,r]of Object.entries(l)){const i=[];for(const t of n.slice(o))"*"===t?i.push(e):i.push(t);m(t,i,r)}for(const e of i)delete t[e]}}else{i in e&&v(e[i],t,n,o+1,r)}}function y(e){if("string"!==typeof e)throw new Error("fromImageBytes must be a string");return e}function b(e){const t={},n=g(e,["name"]);null!=n&&m(t,["name"],n);const o=g(e,["metadata"]);null!=o&&m(t,["metadata"],o);const r=g(e,["done"]);null!=r&&m(t,["done"],r);const i=g(e,["error"]);null!=i&&m(t,["error"],i);const l=g(e,["response","generateVideoResponse"]);return null!=l&&m(t,["response"],function(e){const t={},n=g(e,["generatedSamples"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=g(e,["video"]);null!=n&&m(t,["video"],function(e){const t={},n=g(e,["uri"]);null!=n&&m(t,["uri"],n);const o=g(e,["encodedVideo"]);null!=o&&m(t,["videoBytes"],y(o));const r=g(e,["encoding"]);null!=r&&m(t,["mimeType"],r);return t}(n));return t}(e))),m(t,["generatedVideos"],e)}const o=g(e,["raiMediaFilteredCount"]);null!=o&&m(t,["raiMediaFilteredCount"],o);const r=g(e,["raiMediaFilteredReasons"]);null!=r&&m(t,["raiMediaFilteredReasons"],r);return t}(l)),t}function E(e){const t={},n=g(e,["name"]);null!=n&&m(t,["name"],n);const o=g(e,["metadata"]);null!=o&&m(t,["metadata"],o);const r=g(e,["done"]);null!=r&&m(t,["done"],r);const i=g(e,["error"]);null!=i&&m(t,["error"],i);const l=g(e,["response"]);return null!=l&&m(t,["response"],function(e){const t={},n=g(e,["videos"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=g(e,["_self"]);null!=n&&m(t,["video"],function(e){const t={},n=g(e,["gcsUri"]);null!=n&&m(t,["uri"],n);const o=g(e,["bytesBase64Encoded"]);null!=o&&m(t,["videoBytes"],y(o));const r=g(e,["mimeType"]);null!=r&&m(t,["mimeType"],r);return t}(n));return t}(e))),m(t,["generatedVideos"],e)}const o=g(e,["raiMediaFilteredCount"]);null!=o&&m(t,["raiMediaFilteredCount"],o);const r=g(e,["raiMediaFilteredReasons"]);null!=r&&m(t,["raiMediaFilteredReasons"],r);return t}(l)),t}function S(e){const t={},n=g(e,["name"]);null!=n&&m(t,["name"],n);const o=g(e,["metadata"]);null!=o&&m(t,["metadata"],o);const r=g(e,["done"]);null!=r&&m(t,["done"],r);const i=g(e,["error"]);null!=i&&m(t,["error"],i);const l=g(e,["response"]);return null!=l&&m(t,["response"],function(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&m(t,["sdkHttpResponse"],n);const o=g(e,["parent"]);null!=o&&m(t,["parent"],o);const r=g(e,["documentName"]);null!=r&&m(t,["documentName"],r);return t}(l)),t}function _(e){const t={},n=g(e,["name"]);null!=n&&m(t,["name"],n);const o=g(e,["metadata"]);null!=o&&m(t,["metadata"],o);const r=g(e,["done"]);null!=r&&m(t,["done"],r);const i=g(e,["error"]);null!=i&&m(t,["error"],i);const l=g(e,["response"]);return null!=l&&m(t,["response"],function(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&m(t,["sdkHttpResponse"],n);const o=g(e,["parent"]);null!=o&&m(t,["parent"],o);const r=g(e,["documentName"]);null!=r&&m(t,["documentName"],r);return t}(l)),t}var C,w,T,I,x,N,A,O,k,P,R,D,M,j,L,U,F,q,G,H,V,z,B,J,W,Y,K,Q,$,X,Z,ee,te,ne,oe,re,ie,le,se,ae,ue,ce,de,pe,fe,he,me,ge,ve,ye,be,Ee,Se,_e,Ce,we;!function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"}(C||(C={})),function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"}(w||(w={})),function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"}(T||(T={})),function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"}(I||(I={})),function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"}(x||(x={})),function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"}(N||(N={})),function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"}(A||(A={})),function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"}(O||(O={})),function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"}(k||(k={})),function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.HIGH="HIGH"}(P||(P={})),function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"}(R||(R={})),function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"}(D||(D={})),function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"}(M||(M={})),function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE"}(j||(j={})),function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"}(L||(L={})),function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"}(U||(U={})),function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"}(F||(F={})),function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"}(q||(q={})),function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"}(G||(G={})),function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"}(H||(H={})),function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"}(V||(V={})),function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"}(z||(z={})),function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"}(B||(B={})),function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"}(J||(J={})),function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"}(W||(W={})),function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"}(Y||(Y={})),function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"}(K||(K={})),function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"}(Q||(Q={})),function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"}($||($={})),function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"}(X||(X={})),function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"}(Z||(Z={})),function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"}(ee||(ee={})),function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"}(te||(te={})),function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"}(ne||(ne={})),function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"}(oe||(oe={})),function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"}(re||(re={})),function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"}(ie||(ie={})),function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"}(le||(le={})),function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"}(se||(se={})),function(e){e.ASSET="ASSET",e.STYLE="STYLE"}(ae||(ae={})),function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"}(ue||(ue={})),function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"}(ce||(ce={})),function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"}(de||(de={})),function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"}(pe||(pe={})),function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"}(fe||(fe={})),function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"}(he||(he={})),function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"}(me||(me={})),function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"}(ge||(ge={})),function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"}(ve||(ve={})),function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"}(ye||(ye={})),function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"}(be||(be={})),function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"}(Ee||(Ee={})),function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"}(Se||(Se={})),function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"}(_e||(_e={})),function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"}(Ce||(Ce={}));class Te{constructor(e){const t={};for(const n of e.headers.entries())t[n[0]]=n[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class Ie{get text(){var e,t,n,o,r,i,l,s;if(0===(null===(o=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===o?void 0:o.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let a="",u=!1;const c=[];for(const d of null!==(s=null===(l=null===(i=null===(r=this.candidates)||void 0===r?void 0:r[0])||void 0===i?void 0:i.content)||void 0===l?void 0:l.parts)&&void 0!==s?s:[]){for(const[e,t]of Object.entries(d))"text"===e||"thought"===e||"thoughtSignature"===e||null===t&&void 0===t||c.push(e);if("string"===typeof d.text){if("boolean"===typeof d.thought&&d.thought)continue;u=!0,a+=d.text}}return c.length>0&&console.warn("there are non-text parts ".concat(c," in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.")),u?a:void 0}get data(){var e,t,n,o,r,i,l,s;if(0===(null===(o=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===o?void 0:o.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let a="";const u=[];for(const c of null!==(s=null===(l=null===(i=null===(r=this.candidates)||void 0===r?void 0:r[0])||void 0===i?void 0:i.content)||void 0===l?void 0:l.parts)&&void 0!==s?s:[]){for(const[e,t]of Object.entries(c))"inlineData"===e||null===t&&void 0===t||u.push(e);c.inlineData&&"string"===typeof c.inlineData.data&&(a+=atob(c.inlineData.data))}return u.length>0&&console.warn("there are non-data parts ".concat(u," in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.")),a.length>0?btoa(a):void 0}get functionCalls(){var e,t,n,o,r,i,l,s;if(0===(null===(o=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===o?void 0:o.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const a=null===(s=null===(l=null===(i=null===(r=this.candidates)||void 0===r?void 0:r[0])||void 0===i?void 0:i.content)||void 0===l?void 0:l.parts)||void 0===s?void 0:s.filter(e=>e.functionCall).map(e=>e.functionCall).filter(e=>void 0!==e);return 0!==(null===a||void 0===a?void 0:a.length)?a:void 0}get executableCode(){var e,t,n,o,r,i,l,s,a;if(0===(null===(o=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===o?void 0:o.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const u=null===(s=null===(l=null===(i=null===(r=this.candidates)||void 0===r?void 0:r[0])||void 0===i?void 0:i.content)||void 0===l?void 0:l.parts)||void 0===s?void 0:s.filter(e=>e.executableCode).map(e=>e.executableCode).filter(e=>void 0!==e);return 0!==(null===u||void 0===u?void 0:u.length)?null===(a=null===u||void 0===u?void 0:u[0])||void 0===a?void 0:a.code:void 0}get codeExecutionResult(){var e,t,n,o,r,i,l,s,a;if(0===(null===(o=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===o?void 0:o.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const u=null===(s=null===(l=null===(i=null===(r=this.candidates)||void 0===r?void 0:r[0])||void 0===i?void 0:i.content)||void 0===l?void 0:l.parts)||void 0===s?void 0:s.filter(e=>e.codeExecutionResult).map(e=>e.codeExecutionResult).filter(e=>void 0!==e);return 0!==(null===u||void 0===u?void 0:u.length)?null===(a=null===u||void 0===u?void 0:u[0])||void 0===a?void 0:a.output:void 0}}class xe{}class Ne{}class Ae{}class Oe{}class ke{}class Pe{}class Re{}class De{}class Me{}class je{}class Le{_fromAPIResponse(e){let{apiResponse:t,_isVertexAI:n}=e;const o=new Le;let r;const i=t;return r=n?E(i):b(i),Object.assign(o,r),o}}class Ue{}class Fe{}class qe{}class Ge{}class He{}class Ve{}class ze{_fromAPIResponse(e){let{apiResponse:t,_isVertexAI:n}=e;const o=new ze,r=S(t);return Object.assign(o,r),o}}class Be{}class Je{}class We{}class Ye{}class Ke{get text(){var e,t,n;let o="",r=!1;const i=[];for(const l of null!==(n=null===(t=null===(e=this.serverContent)||void 0===e?void 0:e.modelTurn)||void 0===t?void 0:t.parts)&&void 0!==n?n:[]){for(const[e,t]of Object.entries(l))"text"!==e&&"thought"!==e&&null!==t&&i.push(e);if("string"===typeof l.text){if("boolean"===typeof l.thought&&l.thought)continue;r=!0,o+=l.text}}return i.length>0&&console.warn("there are non-text parts ".concat(i," in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.")),r?o:void 0}get data(){var e,t,n;let o="";const r=[];for(const i of null!==(n=null===(t=null===(e=this.serverContent)||void 0===e?void 0:e.modelTurn)||void 0===t?void 0:t.parts)&&void 0!==n?n:[]){for(const[e,t]of Object.entries(i))"inlineData"!==e&&null!==t&&r.push(e);i.inlineData&&"string"===typeof i.inlineData.data&&(o+=atob(i.inlineData.data))}return r.length>0&&console.warn("there are non-data parts ".concat(r," in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.")),o.length>0?btoa(o):void 0}}class Qe{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class $e{_fromAPIResponse(e){let{apiResponse:t,_isVertexAI:n}=e;const o=new $e,r=_(t);return Object.assign(o,r),o}}function Xe(e,t){if(!t||"string"!==typeof t)throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const e=t.split("/",2);return"publishers/".concat(e[0],"/models/").concat(e[1])}return"publishers/google/models/".concat(t)}return t.startsWith("models/")||t.startsWith("tunedModels/")?t:"models/".concat(t)}function Ze(e,t){const n=Xe(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?"projects/".concat(e.getProject(),"/locations/").concat(e.getLocation(),"/").concat(n):n.startsWith("models/")&&e.isVertexAI()?"projects/".concat(e.getProject(),"/locations/").concat(e.getLocation(),"/publishers/google/").concat(n):n:""}function et(e){return Array.isArray(e)?e.map(e=>tt(e)):[tt(e)]}function tt(e){if("object"===typeof e&&null!==e)return e;throw new Error("Could not parse input as Blob. Unsupported blob type: ".concat(typeof e))}function nt(e){const t=tt(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error("Unsupported mime type: ".concat(t.mimeType))}function ot(e){const t=tt(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error("Unsupported mime type: ".concat(t.mimeType))}function rt(e){if(null===e||void 0===e)throw new Error("PartUnion is required");if("object"===typeof e)return e;if("string"===typeof e)return{text:e};throw new Error("Unsupported part type: ".concat(typeof e))}function it(e){if(null===e||void 0===e||Array.isArray(e)&&0===e.length)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(e=>rt(e)):[rt(e)]}function lt(e){return null!==e&&void 0!==e&&"object"===typeof e&&"parts"in e&&Array.isArray(e.parts)}function st(e){return null!==e&&void 0!==e&&"object"===typeof e&&"functionCall"in e}function at(e){return null!==e&&void 0!==e&&"object"===typeof e&&"functionResponse"in e}function ut(e){if(null===e||void 0===e)throw new Error("ContentUnion is required");return lt(e)?e:{role:"user",parts:it(e)}}function ct(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(e=>{const t=ut(e);return t.parts&&t.parts.length>0&&void 0!==t.parts[0].text?[t.parts[0].text]:[]});if(e.isVertexAI()){const e=ut(t);return e.parts&&e.parts.length>0&&void 0!==e.parts[0].text?[e.parts[0].text]:[]}return Array.isArray(t)?t.map(e=>ut(e)):[ut(t)]}function dt(e){if(null===e||void 0===e||Array.isArray(e)&&0===e.length)throw new Error("contents are required");if(!Array.isArray(e)){if(st(e)||at(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ut(e)]}const t=[],n=[],o=lt(e[0]);for(const r of e){const e=lt(r);if(e!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(e)t.push(r);else{if(st(r)||at(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return o||t.push({role:"user",parts:it(n)}),t}function pt(e){const t={},n=["items"],o=["anyOf"],r=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=e.anyOf;null!=i&&2==i.length&&("null"===i[0].type?(t.nullable=!0,e=i[1]):"null"===i[1].type&&(t.nullable=!0,e=i[0])),e.type instanceof Array&&function(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(e=>"null"!==e);if(1===n.length)t.type=Object.values(I).includes(n[0].toUpperCase())?n[0].toUpperCase():I.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const e of n)t.anyOf.push({type:Object.values(I).includes(e.toUpperCase())?e.toUpperCase():I.TYPE_UNSPECIFIED})}}(e.type,t);for(const[l,s]of Object.entries(e))if(null!=s)if("type"==l){if("null"===s)throw new Error("type: null can not be the only possible type for the field.");if(s instanceof Array)continue;t.type=Object.values(I).includes(s.toUpperCase())?s.toUpperCase():I.TYPE_UNSPECIFIED}else if(n.includes(l))t[l]=pt(s);else if(o.includes(l)){const e=[];for(const n of s)"null"!=n.type?e.push(pt(n)):t.nullable=!0;t[l]=e}else if(r.includes(l)){const e={};for(const[t,n]of Object.entries(s))e[t]=pt(n);t[l]=e}else{if("additionalProperties"===l)continue;t[l]=s}return t}function ft(e){return pt(e)}function ht(e){if("object"===typeof e)return e;if("string"===typeof e)return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error("Unsupported speechConfig type: ".concat(typeof e))}function mt(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function gt(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=pt(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=pt(t.response));return e}function vt(e){if(void 0===e||null===e)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function yt(e,t){if("string"!==typeof t)throw new Error("name must be a string");return function(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const r=!t.startsWith("".concat(n,"/"))&&t.split("/").length===o;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?"projects/".concat(e.getProject(),"/").concat(t):t.startsWith("".concat(n,"/"))?"projects/".concat(e.getProject(),"/locations/").concat(e.getLocation(),"/").concat(t):r?"projects/".concat(e.getProject(),"/locations/").concat(e.getLocation(),"/").concat(n,"/").concat(t):t:r?"".concat(n,"/").concat(t):t}(e,t,"cachedContents")}function bt(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Et(e){return y(e)}function St(e){var t;let n;var o;if(null!==(o=e)&&void 0!==o&&"object"===typeof o&&"name"in o&&(n=e.name),(!function(e){return null!==e&&void 0!==e&&"object"===typeof e&&"uri"in e}(e)||(n=e.uri,void 0!==n))&&(!function(e){return null!==e&&void 0!==e&&"object"===typeof e&&"video"in e}(e)||(n=null===(t=e.video)||void 0===t?void 0:t.uri,void 0!==n))){if("string"===typeof e&&(n=e),void 0===n)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const e=n.split("files/")[1].match(/[a-z0-9]+/);if(null===e)throw new Error("Could not extract file name from URI ".concat(n));n=e[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function _t(e,t){let n;return n=e.isVertexAI()?t?"publishers/google/models":"models":t?"models":"tunedModels",n}function Ct(e){for(const t of["models","tunedModels","publisherModels"])if(wt(e,t))return e[t];return[]}function wt(e,t){return null!==e&&"object"===typeof e&&t in e}function Tt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e,o={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};n.outputSchema&&(o.responseJsonSchema=n.outputSchema),t.behavior&&(o.behavior=t.behavior);return{functionDeclarations:[o]}}function It(e,t){let n;if("string"===typeof t)if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else{if(!t.startsWith("bq://"))throw new Error("Unsupported string source for Vertex AI: ".concat(t));n={format:"bigquery",bigqueryUri:t}}else{if(!t.startsWith("files/"))throw new Error("Unsupported string source for Gemini API: ".concat(t));n={fileName:t}}else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const o=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,r=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(r>0||1!==o)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||1!==r)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function xt(e){if("object"!==typeof e||null===e)return{};const t=e,n=t.inlinedResponses;if("object"!==typeof n||null===n)return e;const o=n.inlinedResponses;if(!Array.isArray(o)||0===o.length)return e;let r=!1;for(const i of o){if("object"!==typeof i||null===i)continue;const e=i.response;if("object"!==typeof e||null===e)continue;if(void 0!==e.embedding){r=!0;break}}return r&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function Nt(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error("Invalid batch job name: ".concat(n,"."))}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error("Invalid batch job name: ".concat(n,"."))}function At(e){return"BATCH_STATE_UNSPECIFIED"===e?"JOB_STATE_UNSPECIFIED":"BATCH_STATE_PENDING"===e?"JOB_STATE_PENDING":"BATCH_STATE_RUNNING"===e?"JOB_STATE_RUNNING":"BATCH_STATE_SUCCEEDED"===e?"JOB_STATE_SUCCEEDED":"BATCH_STATE_FAILED"===e?"JOB_STATE_FAILED":"BATCH_STATE_CANCELLED"===e?"JOB_STATE_CANCELLED":"BATCH_STATE_EXPIRED"===e?"JOB_STATE_EXPIRED":e}function Ot(e){const t={},n=g(e,["responsesFile"]);null!=n&&m(t,["fileName"],n);const o=g(e,["inlinedResponses","inlinedResponses"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=g(e,["response"]);null!=n&&m(t,["response"],function(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&m(t,["sdkHttpResponse"],n);const o=g(e,["candidates"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=g(e,["content"]);null!=n&&m(t,["content"],n);const o=g(e,["citationMetadata"]);null!=o&&m(t,["citationMetadata"],function(e){const t={},n=g(e,["citationSources"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),m(t,["citations"],e)}return t}(o));const r=g(e,["tokenCount"]);null!=r&&m(t,["tokenCount"],r);const i=g(e,["finishReason"]);null!=i&&m(t,["finishReason"],i);const l=g(e,["avgLogprobs"]);null!=l&&m(t,["avgLogprobs"],l);const s=g(e,["groundingMetadata"]);null!=s&&m(t,["groundingMetadata"],s);const a=g(e,["index"]);null!=a&&m(t,["index"],a);const u=g(e,["logprobsResult"]);null!=u&&m(t,["logprobsResult"],u);const c=g(e,["safetyRatings"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>e)),m(t,["safetyRatings"],e)}const d=g(e,["urlContextMetadata"]);null!=d&&m(t,["urlContextMetadata"],d);return t}(e))),m(t,["candidates"],e)}const r=g(e,["modelVersion"]);null!=r&&m(t,["modelVersion"],r);const i=g(e,["promptFeedback"]);null!=i&&m(t,["promptFeedback"],i);const l=g(e,["responseId"]);null!=l&&m(t,["responseId"],l);const s=g(e,["usageMetadata"]);null!=s&&m(t,["usageMetadata"],s);return t}(n));const o=g(e,["error"]);null!=o&&m(t,["error"],o);return t}(e))),m(t,["inlinedResponses"],e)}const r=g(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),m(t,["inlinedEmbedContentResponses"],e)}return t}function kt(e){const t={},n=g(e,["name"]);null!=n&&m(t,["name"],n);const o=g(e,["metadata","displayName"]);null!=o&&m(t,["displayName"],o);const r=g(e,["metadata","state"]);null!=r&&m(t,["state"],At(r));const i=g(e,["metadata","createTime"]);null!=i&&m(t,["createTime"],i);const l=g(e,["metadata","endTime"]);null!=l&&m(t,["endTime"],l);const s=g(e,["metadata","updateTime"]);null!=s&&m(t,["updateTime"],s);const a=g(e,["metadata","model"]);null!=a&&m(t,["model"],a);const u=g(e,["metadata","output"]);return null!=u&&m(t,["dest"],Ot(xt(u))),t}function Pt(e){const t={},n=g(e,["name"]);null!=n&&m(t,["name"],n);const o=g(e,["displayName"]);null!=o&&m(t,["displayName"],o);const r=g(e,["state"]);null!=r&&m(t,["state"],At(r));const i=g(e,["error"]);null!=i&&m(t,["error"],i);const l=g(e,["createTime"]);null!=l&&m(t,["createTime"],l);const s=g(e,["startTime"]);null!=s&&m(t,["startTime"],s);const a=g(e,["endTime"]);null!=a&&m(t,["endTime"],a);const u=g(e,["updateTime"]);null!=u&&m(t,["updateTime"],u);const c=g(e,["model"]);null!=c&&m(t,["model"],c);const d=g(e,["inputConfig"]);null!=d&&m(t,["src"],function(e){const t={},n=g(e,["instancesFormat"]);null!=n&&m(t,["format"],n);const o=g(e,["gcsSource","uris"]);null!=o&&m(t,["gcsUri"],o);const r=g(e,["bigquerySource","inputUri"]);null!=r&&m(t,["bigqueryUri"],r);return t}(d));const p=g(e,["outputConfig"]);null!=p&&m(t,["dest"],function(e){const t={},n=g(e,["predictionsFormat"]);null!=n&&m(t,["format"],n);const o=g(e,["gcsDestination","outputUriPrefix"]);null!=o&&m(t,["gcsUri"],o);const r=g(e,["bigqueryDestination","outputUri"]);return null!=r&&m(t,["bigqueryUri"],r),t}(xt(p)));const f=g(e,["completionStats"]);return null!=f&&m(t,["completionStats"],f),t}function Rt(e,t){const n={};if(void 0!==g(t,["format"]))throw new Error("format parameter is not supported in Gemini API.");if(void 0!==g(t,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");if(void 0!==g(t,["bigqueryUri"]))throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=g(t,["fileName"]);null!=o&&m(n,["fileName"],o);const r=g(t,["inlinedRequests"]);if(null!=r){let t=r;Array.isArray(t)&&(t=t.map(t=>function(e,t){const n={},o=g(t,["model"]);null!=o&&m(n,["request","model"],Xe(e,o));const r=g(t,["contents"]);if(null!=r){let e=dt(r);Array.isArray(e)&&(e=e.map(e=>Dt(e))),m(n,["request","contents"],e)}const i=g(t,["metadata"]);null!=i&&m(n,["metadata"],i);const l=g(t,["config"]);null!=l&&m(n,["request","generationConfig"],function(e,t,n){const o={},r=g(t,["systemInstruction"]);void 0!==n&&null!=r&&m(n,["systemInstruction"],Dt(ut(r)));const i=g(t,["temperature"]);null!=i&&m(o,["temperature"],i);const l=g(t,["topP"]);null!=l&&m(o,["topP"],l);const s=g(t,["topK"]);null!=s&&m(o,["topK"],s);const a=g(t,["candidateCount"]);null!=a&&m(o,["candidateCount"],a);const u=g(t,["maxOutputTokens"]);null!=u&&m(o,["maxOutputTokens"],u);const c=g(t,["stopSequences"]);null!=c&&m(o,["stopSequences"],c);const d=g(t,["responseLogprobs"]);null!=d&&m(o,["responseLogprobs"],d);const p=g(t,["logprobs"]);null!=p&&m(o,["logprobs"],p);const f=g(t,["presencePenalty"]);null!=f&&m(o,["presencePenalty"],f);const h=g(t,["frequencyPenalty"]);null!=h&&m(o,["frequencyPenalty"],h);const v=g(t,["seed"]);null!=v&&m(o,["seed"],v);const y=g(t,["responseMimeType"]);null!=y&&m(o,["responseMimeType"],y);const b=g(t,["responseSchema"]);null!=b&&m(o,["responseSchema"],ft(b));const E=g(t,["responseJsonSchema"]);null!=E&&m(o,["responseJsonSchema"],E);if(void 0!==g(t,["routingConfig"]))throw new Error("routingConfig parameter is not supported in Gemini API.");if(void 0!==g(t,["modelSelectionConfig"]))throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=g(t,["safetySettings"]);if(void 0!==n&&null!=S){let e=S;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=g(e,["category"]);null!=n&&m(t,["category"],n);if(void 0!==g(e,["method"]))throw new Error("method parameter is not supported in Gemini API.");const o=g(e,["threshold"]);null!=o&&m(t,["threshold"],o);return t}(e))),m(n,["safetySettings"],e)}const _=g(t,["tools"]);if(void 0!==n&&null!=_){let e=vt(_);Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=g(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),m(t,["functionDeclarations"],e)}if(void 0!==g(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const o=g(e,["googleSearchRetrieval"]);null!=o&&m(t,["googleSearchRetrieval"],o);const r=g(e,["computerUse"]);null!=r&&m(t,["computerUse"],r);const i=g(e,["fileSearch"]);null!=i&&m(t,["fileSearch"],i);const l=g(e,["codeExecution"]);null!=l&&m(t,["codeExecution"],l);if(void 0!==g(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=g(e,["googleMaps"]);null!=s&&m(t,["googleMaps"],function(e){const t={};if(void 0!==g(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);null!=n&&m(t,["enableWidget"],n);return t}(s));const a=g(e,["googleSearch"]);null!=a&&m(t,["googleSearch"],function(e){const t={};if(void 0!==g(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==g(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);null!=n&&m(t,["timeRangeFilter"],n);return t}(a));const u=g(e,["urlContext"]);null!=u&&m(t,["urlContext"],u);return t}(gt(e)))),m(n,["tools"],e)}const C=g(t,["toolConfig"]);void 0!==n&&null!=C&&m(n,["toolConfig"],function(e){const t={},n=g(e,["functionCallingConfig"]);null!=n&&m(t,["functionCallingConfig"],function(e){const t={},n=g(e,["mode"]);null!=n&&m(t,["mode"],n);const o=g(e,["allowedFunctionNames"]);null!=o&&m(t,["allowedFunctionNames"],o);if(void 0!==g(e,["streamFunctionCallArguments"]))throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}(n));const o=g(e,["retrievalConfig"]);null!=o&&m(t,["retrievalConfig"],o);return t}(C));if(void 0!==g(t,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const w=g(t,["cachedContent"]);void 0!==n&&null!=w&&m(n,["cachedContent"],yt(e,w));const T=g(t,["responseModalities"]);null!=T&&m(o,["responseModalities"],T);const I=g(t,["mediaResolution"]);null!=I&&m(o,["mediaResolution"],I);const x=g(t,["speechConfig"]);null!=x&&m(o,["speechConfig"],ht(x));if(void 0!==g(t,["audioTimestamp"]))throw new Error("audioTimestamp parameter is not supported in Gemini API.");const N=g(t,["thinkingConfig"]);null!=N&&m(o,["thinkingConfig"],N);const A=g(t,["imageConfig"]);null!=A&&m(o,["imageConfig"],function(e){const t={},n=g(e,["aspectRatio"]);null!=n&&m(t,["aspectRatio"],n);const o=g(e,["imageSize"]);null!=o&&m(t,["imageSize"],o);if(void 0!==g(e,["outputMimeType"]))throw new Error("outputMimeType parameter is not supported in Gemini API.");if(void 0!==g(e,["outputCompressionQuality"]))throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}(A));return o}(e,l,g(n,["request"],{})));return n}(e,t))),m(n,["requests","requests"],t)}return n}function Dt(e){const t={},n=g(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=g(e,["mediaResolution"]);null!=n&&m(t,["mediaResolution"],n);const o=g(e,["codeExecutionResult"]);null!=o&&m(t,["codeExecutionResult"],o);const r=g(e,["executableCode"]);null!=r&&m(t,["executableCode"],r);const i=g(e,["fileData"]);null!=i&&m(t,["fileData"],function(e){const t={};if(void 0!==g(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);null!=n&&m(t,["fileUri"],n);const o=g(e,["mimeType"]);null!=o&&m(t,["mimeType"],o);return t}(i));const l=g(e,["functionCall"]);null!=l&&m(t,["functionCall"],function(e){const t={},n=g(e,["id"]);null!=n&&m(t,["id"],n);const o=g(e,["args"]);null!=o&&m(t,["args"],o);const r=g(e,["name"]);null!=r&&m(t,["name"],r);if(void 0!==g(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==g(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(l));const s=g(e,["functionResponse"]);null!=s&&m(t,["functionResponse"],s);const a=g(e,["inlineData"]);null!=a&&m(t,["inlineData"],function(e){const t={},n=g(e,["data"]);if(null!=n&&m(t,["data"],n),void 0!==g(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const o=g(e,["mimeType"]);return null!=o&&m(t,["mimeType"],o),t}(a));const u=g(e,["text"]);null!=u&&m(t,["text"],u);const c=g(e,["thought"]);null!=c&&m(t,["thought"],c);const d=g(e,["thoughtSignature"]);null!=d&&m(t,["thoughtSignature"],d);const p=g(e,["videoMetadata"]);null!=p&&m(t,["videoMetadata"],p);return t}(e))),m(t,["parts"],e)}const o=g(e,["role"]);return null!=o&&m(t,["role"],o),t}function Mt(e,t){const n=g(e,["displayName"]);void 0!==t&&null!=n&&m(t,["displayName"],n);const o=g(e,["dest"]);return void 0!==t&&null!=o&&m(t,["outputConfig"],function(e){const t={},n=g(e,["format"]);null!=n&&m(t,["predictionsFormat"],n);const o=g(e,["gcsUri"]);null!=o&&m(t,["gcsDestination","outputUriPrefix"],o);const r=g(e,["bigqueryUri"]);if(null!=r&&m(t,["bigqueryDestination","outputUri"],r),void 0!==g(e,["fileName"]))throw new Error("fileName parameter is not supported in Vertex AI.");if(void 0!==g(e,["inlinedResponses"]))throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(void 0!==g(e,["inlinedEmbedContentResponses"]))throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}(function(e){if("string"!==typeof e)return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error("Unsupported destination: ".concat(t))}(o))),{}}function jt(e,t){const n={},o=g(t,["model"]);null!=o&&m(n,["_url","model"],Xe(e,o));const r=g(t,["src"]);null!=r&&m(n,["batch","inputConfig"],Rt(e,It(e,r)));const i=g(t,["config"]);return null!=i&&function(e,t){const n=g(e,["displayName"]);if(void 0!==t&&null!=n&&m(t,["batch","displayName"],n),void 0!==g(e,["dest"]))throw new Error("dest parameter is not supported in Gemini API.")}(i,n),n}function Lt(e,t){const n={},o=g(t,["model"]);null!=o&&m(n,["model"],Xe(e,o));const r=g(t,["src"]);null!=r&&m(n,["inputConfig"],function(e){const t={},n=g(e,["format"]);null!=n&&m(t,["instancesFormat"],n);const o=g(e,["gcsUri"]);null!=o&&m(t,["gcsSource","uris"],o);const r=g(e,["bigqueryUri"]);if(null!=r&&m(t,["bigquerySource","inputUri"],r),void 0!==g(e,["fileName"]))throw new Error("fileName parameter is not supported in Vertex AI.");if(void 0!==g(e,["inlinedRequests"]))throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}(It(e,r)));const i=g(t,["config"]);return null!=i&&Mt(i,n),n}function Ut(e,t){const n={},o=g(t,["model"]);null!=o&&m(n,["_url","model"],Xe(e,o));const r=g(t,["src"]);null!=r&&m(n,["batch","inputConfig"],function(e,t){const n={},o=g(t,["fileName"]);null!=o&&m(n,["file_name"],o);const r=g(t,["inlinedRequests"]);null!=r&&m(n,["requests"],function(e,t){const n={},o=g(t,["contents"]);if(null!=o){let t=ct(e,o);Array.isArray(t)&&(t=t.map(e=>e)),m(n,["requests[]","request","content"],t)}const r=g(t,["config"]);null!=r&&(m(n,["_self"],function(e,t){const n={},o=g(e,["taskType"]);void 0!==t&&null!=o&&m(t,["requests[]","taskType"],o);const r=g(e,["title"]);void 0!==t&&null!=r&&m(t,["requests[]","title"],r);const i=g(e,["outputDimensionality"]);void 0!==t&&null!=i&&m(t,["requests[]","outputDimensionality"],i);if(void 0!==g(e,["mimeType"]))throw new Error("mimeType parameter is not supported in Gemini API.");if(void 0!==g(e,["autoTruncate"]))throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}(r,n)),function(e,t){for(const[n,o]of Object.entries(t)){const t=n.split("."),r=o.split("."),i=new Set;let l=-1;for(let e=0;e<t.length;e++)if("*"===t[e]){l=e;break}if(-1!==l&&r.length>l)for(let e=l;e<r.length;e++){const t=r[e];"*"===t||t.endsWith("[]")||t.endsWith("[0]")||i.add(t)}v(e,t,r,0,i)}}(n,{"requests[].*":"requests[].request.*"}));return n}(e,r));return n}(e,r));const i=g(t,["config"]);return null!=i&&function(e,t){const n=g(e,["displayName"]);void 0!==t&&null!=n&&m(t,["batch","displayName"],n)}(i,n),n}function Ft(e){const t={},n=g(e,["config"]);return null!=n&&function(e,t){const n=g(e,["pageSize"]);void 0!==t&&null!=n&&m(t,["_query","pageSize"],n);const o=g(e,["pageToken"]);if(void 0!==t&&null!=o&&m(t,["_query","pageToken"],o),void 0!==g(e,["filter"]))throw new Error("filter parameter is not supported in Gemini API.")}(n,t),t}function qt(e){const t={},n=g(e,["config"]);return null!=n&&function(e,t){const n=g(e,["pageSize"]);void 0!==t&&null!=n&&m(t,["_query","pageSize"],n);const o=g(e,["pageToken"]);void 0!==t&&null!=o&&m(t,["_query","pageToken"],o);const r=g(e,["filter"]);void 0!==t&&null!=r&&m(t,["_query","filter"],r)}(n,t),t}!function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"}(we||(we={}));class Gt{constructor(e,t,n,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,n,o)}init(e,t,n){var o,r;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=null===t||void 0===t?void 0:t.sdkHttpResponse,this.idxInternal=0;let i={config:{}};i=n&&0!==Object.keys(n).length?"object"===typeof n?Object.assign({},n):n:{config:{}},i.config&&(i.config.pageToken=t.nextPageToken),this.paramsInternal=i,this.pageInternalSize=null!==(r=null===(o=i.config)||void 0===o?void 0:o.pageSize)&&void 0!==r?r:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength){if(!this.hasNextPage())return{value:void 0,done:!0};await this.nextPage()}const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return void 0!==(null===(e=this.params.config)||void 0===e?void 0:e.pageToken)}}class Ht extends f{constructor(e){var t;super(),t=this,this.apiClient=e,this.create=async e=>(this.apiClient.isVertexAI()&&(e.config=this.formatDestination(e.src,e.config)),this.createInternal(e)),this.createEmbeddings=async e=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(e)},this.list=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Gt(we.PAGED_ITEM_BATCH_JOBS,e=>t.listInternal(e),await t.listInternal(e),e)}}createInlinedGenerateContentRequest(e){const t=jt(this.apiClient,e),n=h("{model}:batchGenerateContent",t._url),o=t.batch.inputConfig.requests,r=o.requests,i=[];for(const l of r){const e=Object.assign({},l);if(e.systemInstruction){const t=e.systemInstruction;delete e.systemInstruction;const n=e.request;n.systemInstruction=t,e.request=n}i.push(e)}return o.requests=i,delete t.config,delete t._url,delete t._query,{path:n,body:t}}getGcsUri(e){return"string"===typeof e?e.startsWith("gs://")?e:void 0:!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0?e.gcsUri[0]:void 0}getBigqueryUri(e){return"string"===typeof e?e.startsWith("bq://")?e:void 0:Array.isArray(e)?void 0:e.bigqueryUri}formatDestination(e,t){const n=t?Object.assign({},t):{},o=Date.now().toString();if(n.displayName||(n.displayName="genaiBatchJob_".concat(o)),void 0===n.dest){const t=this.getGcsUri(e),r=this.getBigqueryUri(e);if(t)t.endsWith(".jsonl")?n.dest="".concat(t.slice(0,-6),"/dest"):n.dest="".concat(t,"_dest_").concat(o);else{if(!r)throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.");n.dest="".concat(r,"_dest_").concat(o)}}return n}async createInternal(e){var t,n,o,r;let i,l="",s={};if(this.apiClient.isVertexAI()){const o=Lt(this.apiClient,e);return l=h("batchPredictionJobs",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>Pt(e))}{const t=jt(this.apiClient,e);return l=h("{model}:batchGenerateContent",t._url),s=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json()),i.then(e=>kt(e))}}async createEmbeddingsInternal(e){var t,n;let o,r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Ut(this.apiClient,e);return r=h("{model}:asyncBatchEmbedContent",l._url),i=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>kt(e))}}async get(e){var t,n,o,r;let i,l="",s={};if(this.apiClient.isVertexAI()){const o=function(e,t){const n={},o=g(t,["name"]);return null!=o&&m(n,["_url","name"],Nt(e,o)),n}(this.apiClient,e);return l=h("batchPredictionJobs/{name}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>Pt(e))}{const t=function(e,t){const n={},o=g(t,["name"]);return null!=o&&m(n,["_url","name"],Nt(e,o)),n}(this.apiClient,e);return l=h("batches/{name}",t._url),s=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json()),i.then(e=>kt(e))}}async cancel(e){var t,n,o,r;let i="",l={};if(this.apiClient.isVertexAI()){const o=function(e,t){const n={},o=g(t,["name"]);return null!=o&&m(n,["_url","name"],Nt(e,o)),n}(this.apiClient,e);i=h("batchPredictionJobs/{name}:cancel",o._url),l=o._query,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal})}else{const t=function(e,t){const n={},o=g(t,["name"]);return null!=o&&m(n,["_url","name"],Nt(e,o)),n}(this.apiClient,e);i=h("batches/{name}:cancel",t._url),l=t._query,delete t._url,delete t._query,await this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal})}}async listInternal(e){var t,n,o,r;let i,l="",s={};if(this.apiClient.isVertexAI()){const o=qt(e);return l=h("batchPredictionJobs",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&m(t,["sdkHttpResponse"],n);const o=g(e,["nextPageToken"]);null!=o&&m(t,["nextPageToken"],o);const r=g(e,["batchPredictionJobs"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>Pt(e))),m(t,["batchJobs"],e)}return t}(e),n=new Ye;return Object.assign(n,t),n})}{const t=Ft(e);return l=h("batches",t._url),s=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&m(t,["sdkHttpResponse"],n);const o=g(e,["nextPageToken"]);null!=o&&m(t,["nextPageToken"],o);const r=g(e,["operations"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>kt(e))),m(t,["batchJobs"],e)}return t}(e),n=new Ye;return Object.assign(n,t),n})}}async delete(e){var t,n,o,r;let i,l="",s={};if(this.apiClient.isVertexAI()){const o=function(e,t){const n={},o=g(t,["name"]);return null!=o&&m(n,["_url","name"],Nt(e,o)),n}(this.apiClient,e);return l=h("batchPredictionJobs/{name}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>function(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&m(t,["sdkHttpResponse"],n);const o=g(e,["name"]);null!=o&&m(t,["name"],o);const r=g(e,["done"]);null!=r&&m(t,["done"],r);const i=g(e,["error"]);return null!=i&&m(t,["error"],i),t}(e))}{const t=function(e,t){const n={},o=g(t,["name"]);return null!=o&&m(n,["_url","name"],Nt(e,o)),n}(this.apiClient,e);return l=h("batches/{name}",t._url),s=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>function(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&m(t,["sdkHttpResponse"],n);const o=g(e,["name"]);null!=o&&m(t,["name"],o);const r=g(e,["done"]);null!=r&&m(t,["done"],r);const i=g(e,["error"]);return null!=i&&m(t,["error"],i),t}(e))}}}function Vt(e){const t={},n=g(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=g(e,["mediaResolution"]);null!=n&&m(t,["mediaResolution"],n);const o=g(e,["codeExecutionResult"]);null!=o&&m(t,["codeExecutionResult"],o);const r=g(e,["executableCode"]);null!=r&&m(t,["executableCode"],r);const i=g(e,["fileData"]);null!=i&&m(t,["fileData"],function(e){const t={};if(void 0!==g(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);null!=n&&m(t,["fileUri"],n);const o=g(e,["mimeType"]);null!=o&&m(t,["mimeType"],o);return t}(i));const l=g(e,["functionCall"]);null!=l&&m(t,["functionCall"],function(e){const t={},n=g(e,["id"]);null!=n&&m(t,["id"],n);const o=g(e,["args"]);null!=o&&m(t,["args"],o);const r=g(e,["name"]);null!=r&&m(t,["name"],r);if(void 0!==g(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==g(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(l));const s=g(e,["functionResponse"]);null!=s&&m(t,["functionResponse"],s);const a=g(e,["inlineData"]);null!=a&&m(t,["inlineData"],function(e){const t={},n=g(e,["data"]);if(null!=n&&m(t,["data"],n),void 0!==g(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const o=g(e,["mimeType"]);return null!=o&&m(t,["mimeType"],o),t}(a));const u=g(e,["text"]);null!=u&&m(t,["text"],u);const c=g(e,["thought"]);null!=c&&m(t,["thought"],c);const d=g(e,["thoughtSignature"]);null!=d&&m(t,["thoughtSignature"],d);const p=g(e,["videoMetadata"]);null!=p&&m(t,["videoMetadata"],p);return t}(e))),m(t,["parts"],e)}const o=g(e,["role"]);return null!=o&&m(t,["role"],o),t}function zt(e,t){const n=g(e,["ttl"]);void 0!==t&&null!=n&&m(t,["ttl"],n);const o=g(e,["expireTime"]);void 0!==t&&null!=o&&m(t,["expireTime"],o);const r=g(e,["displayName"]);void 0!==t&&null!=r&&m(t,["displayName"],r);const i=g(e,["contents"]);if(void 0!==t&&null!=i){let e=dt(i);Array.isArray(e)&&(e=e.map(e=>Vt(e))),m(t,["contents"],e)}const l=g(e,["systemInstruction"]);void 0!==t&&null!=l&&m(t,["systemInstruction"],Vt(ut(l)));const s=g(e,["tools"]);if(void 0!==t&&null!=s){let e=s;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=g(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),m(t,["functionDeclarations"],e)}if(void 0!==g(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const o=g(e,["googleSearchRetrieval"]);null!=o&&m(t,["googleSearchRetrieval"],o);const r=g(e,["computerUse"]);null!=r&&m(t,["computerUse"],r);const i=g(e,["fileSearch"]);null!=i&&m(t,["fileSearch"],i);const l=g(e,["codeExecution"]);null!=l&&m(t,["codeExecution"],l);if(void 0!==g(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=g(e,["googleMaps"]);null!=s&&m(t,["googleMaps"],function(e){const t={};if(void 0!==g(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);null!=n&&m(t,["enableWidget"],n);return t}(s));const a=g(e,["googleSearch"]);null!=a&&m(t,["googleSearch"],function(e){const t={};if(void 0!==g(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==g(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);null!=n&&m(t,["timeRangeFilter"],n);return t}(a));const u=g(e,["urlContext"]);null!=u&&m(t,["urlContext"],u);return t}(e))),m(t,["tools"],e)}const a=g(e,["toolConfig"]);if(void 0!==t&&null!=a&&m(t,["toolConfig"],function(e){const t={},n=g(e,["functionCallingConfig"]);null!=n&&m(t,["functionCallingConfig"],function(e){const t={},n=g(e,["mode"]);null!=n&&m(t,["mode"],n);const o=g(e,["allowedFunctionNames"]);null!=o&&m(t,["allowedFunctionNames"],o);if(void 0!==g(e,["streamFunctionCallArguments"]))throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}(n));const o=g(e,["retrievalConfig"]);null!=o&&m(t,["retrievalConfig"],o);return t}(a)),void 0!==g(e,["kmsKeyName"]))throw new Error("kmsKeyName parameter is not supported in Gemini API.");return{}}function Bt(e,t){const n=g(e,["ttl"]);void 0!==t&&null!=n&&m(t,["ttl"],n);const o=g(e,["expireTime"]);void 0!==t&&null!=o&&m(t,["expireTime"],o);const r=g(e,["displayName"]);void 0!==t&&null!=r&&m(t,["displayName"],r);const i=g(e,["contents"]);if(void 0!==t&&null!=i){let e=dt(i);Array.isArray(e)&&(e=e.map(e=>e)),m(t,["contents"],e)}const l=g(e,["systemInstruction"]);void 0!==t&&null!=l&&m(t,["systemInstruction"],ut(l));const s=g(e,["tools"]);if(void 0!==t&&null!=s){let e=s;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=g(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==g(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(e,["description"]);null!=n&&m(t,["description"],n);const o=g(e,["name"]);null!=o&&m(t,["name"],o);const r=g(e,["parameters"]);null!=r&&m(t,["parameters"],r);const i=g(e,["parametersJsonSchema"]);null!=i&&m(t,["parametersJsonSchema"],i);const l=g(e,["response"]);null!=l&&m(t,["response"],l);const s=g(e,["responseJsonSchema"]);null!=s&&m(t,["responseJsonSchema"],s);return t}(e))),m(t,["functionDeclarations"],e)}const o=g(e,["retrieval"]);null!=o&&m(t,["retrieval"],o);const r=g(e,["googleSearchRetrieval"]);null!=r&&m(t,["googleSearchRetrieval"],r);const i=g(e,["computerUse"]);null!=i&&m(t,["computerUse"],i);if(void 0!==g(e,["fileSearch"]))throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=g(e,["codeExecution"]);null!=l&&m(t,["codeExecution"],l);const s=g(e,["enterpriseWebSearch"]);null!=s&&m(t,["enterpriseWebSearch"],s);const a=g(e,["googleMaps"]);null!=a&&m(t,["googleMaps"],a);const u=g(e,["googleSearch"]);null!=u&&m(t,["googleSearch"],u);const c=g(e,["urlContext"]);null!=c&&m(t,["urlContext"],c);return t}(e))),m(t,["tools"],e)}const a=g(e,["toolConfig"]);void 0!==t&&null!=a&&m(t,["toolConfig"],a);const u=g(e,["kmsKeyName"]);return void 0!==t&&null!=u&&m(t,["encryption_spec","kmsKeyName"],u),{}}function Jt(e){const t={},n=g(e,["config"]);return null!=n&&function(e,t){const n=g(e,["pageSize"]);void 0!==t&&null!=n&&m(t,["_query","pageSize"],n);const o=g(e,["pageToken"]);void 0!==t&&null!=o&&m(t,["_query","pageToken"],o)}(n,t),t}function Wt(e){const t={},n=g(e,["config"]);return null!=n&&function(e,t){const n=g(e,["pageSize"]);void 0!==t&&null!=n&&m(t,["_query","pageSize"],n);const o=g(e,["pageToken"]);void 0!==t&&null!=o&&m(t,["_query","pageToken"],o)}(n,t),t}function Yt(e,t){const n={},o=g(t,["name"]);null!=o&&m(n,["_url","name"],yt(e,o));const r=g(t,["config"]);return null!=r&&function(e,t){const n=g(e,["ttl"]);void 0!==t&&null!=n&&m(t,["ttl"],n);const o=g(e,["expireTime"]);void 0!==t&&null!=o&&m(t,["expireTime"],o)}(r,n),n}function Kt(e,t){const n={},o=g(t,["name"]);null!=o&&m(n,["_url","name"],yt(e,o));const r=g(t,["config"]);return null!=r&&function(e,t){const n=g(e,["ttl"]);void 0!==t&&null!=n&&m(t,["ttl"],n);const o=g(e,["expireTime"]);void 0!==t&&null!=o&&m(t,["expireTime"],o)}(r,n),n}class Qt extends f{constructor(e){var t;super(),t=this,this.apiClient=e,this.list=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Gt(we.PAGED_ITEM_CACHED_CONTENTS,e=>t.listInternal(e),await t.listInternal(e),e)}}async create(e){var t,n,o,r;let i,l="",s={};if(this.apiClient.isVertexAI()){const o=function(e,t){const n={},o=g(t,["model"]);null!=o&&m(n,["model"],Ze(e,o));const r=g(t,["config"]);return null!=r&&Bt(r,n),n}(this.apiClient,e);return l=h("cachedContents",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>e)}{const t=function(e,t){const n={},o=g(t,["model"]);null!=o&&m(n,["model"],Ze(e,o));const r=g(t,["config"]);return null!=r&&zt(r,n),n}(this.apiClient,e);return l=h("cachedContents",t._url),s=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json()),i.then(e=>e)}}async get(e){var t,n,o,r;let i,l="",s={};if(this.apiClient.isVertexAI()){const o=function(e,t){const n={},o=g(t,["name"]);return null!=o&&m(n,["_url","name"],yt(e,o)),n}(this.apiClient,e);return l=h("{name}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>e)}{const t=function(e,t){const n={},o=g(t,["name"]);return null!=o&&m(n,["_url","name"],yt(e,o)),n}(this.apiClient,e);return l=h("{name}",t._url),s=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json()),i.then(e=>e)}}async delete(e){var t,n,o,r;let i,l="",s={};if(this.apiClient.isVertexAI()){const o=function(e,t){const n={},o=g(t,["name"]);return null!=o&&m(n,["_url","name"],yt(e,o)),n}(this.apiClient,e);return l=h("{name}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=g(e,["sdkHttpResponse"]);return null!=n&&m(t,["sdkHttpResponse"],n),t}(e),n=new Fe;return Object.assign(n,t),n})}{const t=function(e,t){const n={},o=g(t,["name"]);return null!=o&&m(n,["_url","name"],yt(e,o)),n}(this.apiClient,e);return l=h("{name}",t._url),s=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=g(e,["sdkHttpResponse"]);return null!=n&&m(t,["sdkHttpResponse"],n),t}(e),n=new Fe;return Object.assign(n,t),n})}}async update(e){var t,n,o,r;let i,l="",s={};if(this.apiClient.isVertexAI()){const o=Kt(this.apiClient,e);return l=h("{name}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(o),httpMethod:"PATCH",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>e)}{const t=Yt(this.apiClient,e);return l=h("{name}",t._url),s=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(t),httpMethod:"PATCH",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json()),i.then(e=>e)}}async listInternal(e){var t,n,o,r;let i,l="",s={};if(this.apiClient.isVertexAI()){const o=Wt(e);return l=h("cachedContents",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&m(t,["sdkHttpResponse"],n);const o=g(e,["nextPageToken"]);null!=o&&m(t,["nextPageToken"],o);const r=g(e,["cachedContents"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),m(t,["cachedContents"],e)}return t}(e),n=new qe;return Object.assign(n,t),n})}{const t=Jt(e);return l=h("cachedContents",t._url),s=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&m(t,["sdkHttpResponse"],n);const o=g(e,["nextPageToken"]);null!=o&&m(t,["nextPageToken"],o);const r=g(e,["cachedContents"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),m(t,["cachedContents"],e)}return t}(e),n=new qe;return Object.assign(n,t),n})}}}function $t(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Xt(e){return this instanceof Xt?(this.v=e,this):new Xt(e)}function Zt(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=n.apply(e,t||[]),i=[];return o=Object.create(("function"===typeof AsyncIterator?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",function(e){return function(t){return Promise.resolve(t).then(e,u)}}),o[Symbol.asyncIterator]=function(){return this},o;function l(e,t){r[e]&&(o[e]=function(t){return new Promise(function(n,o){i.push([e,t,n,o])>1||s(e,t)})},t&&(o[e]=t(o[e])))}function s(e,t){try{(n=r[e](t)).value instanceof Xt?Promise.resolve(n.value.v).then(a,u):c(i[0][2],n)}catch(o){c(i[0][3],o)}var n}function a(e){s("next",e)}function u(e){s("throw",e)}function c(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function en(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=$t(e),t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t);function o(n){t[n]=e[n]&&function(t){return new Promise(function(o,r){(function(e,t,n,o){Promise.resolve(o).then(function(t){e({value:t,done:n})},t)})(o,r,(t=e[n](t)).done,t.value)})}}}function tn(e){var t;if(void 0==e.candidates||0===e.candidates.length)return!1;const n=null===(t=e.candidates[0])||void 0===t?void 0:t.content;return void 0!==n&&nn(n)}function nn(e){if(void 0===e.parts||0===e.parts.length)return!1;for(const t of e.parts)if(void 0===t||0===Object.keys(t).length)return!1;return!0}function on(e){if(void 0===e||0===e.length)return[];const t=[],n=e.length;let o=0;for(;o<n;)if("user"===e[o].role)t.push(e[o]),o++;else{const r=[];let i=!0;for(;o<n&&"model"===e[o].role;)r.push(e[o]),i&&!nn(e[o])&&(i=!1),o++;i?t.push(...r):t.pop()}return t}"function"===typeof SuppressedError&&SuppressedError;class rn{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new ln(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class ln{constructor(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];this.apiClient=e,this.modelsModule=t,this.model=n,this.config=o,this.history=r,this.sendPromise=Promise.resolve(),function(e){if(0!==e.length)for(const t of e)if("user"!==t.role&&"model"!==t.role)throw new Error("Role must be user or model, but got ".concat(t.role,"."))}(r)}async sendMessage(e){var t;await this.sendPromise;const n=ut(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(n),config:null!==(t=e.config)&&void 0!==t?t:this.config});return this.sendPromise=(async()=>{var e,t,r;const i=await o,l=null===(t=null===(e=i.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content,s=i.automaticFunctionCallingHistory,a=this.getHistory(!0).length;let u=[];null!=s&&(u=null!==(r=s.slice(a))&&void 0!==r?r:[]);const c=l?[l]:[];this.recordHistory(n,c,u)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var t;await this.sendPromise;const n=ut(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(n),config:null!==(t=e.config)&&void 0!==t?t:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const r=await o;return this.processStreamResponse(r,n)}getHistory(){const e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?on(this.history):this.history;return structuredClone(e)}processStreamResponse(e,t){var n,o;return Zt(this,arguments,function*(){var r,i,l,s;const a=[];try{for(var u,c=!0,d=en(e);!(r=(u=yield Xt(d.next())).done);c=!0){s=u.value,c=!1;const e=s;if(tn(e)){const t=null===(o=null===(n=e.candidates)||void 0===n?void 0:n[0])||void 0===o?void 0:o.content;void 0!==t&&a.push(t)}yield yield Xt(e)}}catch(p){i={error:p}}finally{try{c||r||!(l=d.return)||(yield Xt(l.call(d)))}finally{if(i)throw i.error}}this.recordHistory(t,a)})}recordHistory(e,t,n){let o=[];t.length>0&&t.every(e=>void 0!==e.role)?o=t:o.push({role:"model",parts:[]}),n&&n.length>0?this.history.push(...on(n)):this.history.push(e),this.history.push(...o)}}class sn extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,sn.prototype)}}function an(e){const t={},n=g(e,["config"]);return null!=n&&function(e,t){const n=g(e,["pageSize"]);void 0!==t&&null!=n&&m(t,["_query","pageSize"],n);const o=g(e,["pageToken"]);void 0!==t&&null!=o&&m(t,["_query","pageToken"],o)}(n,t),t}class un extends f{constructor(e){var t;super(),t=this,this.apiClient=e,this.list=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Gt(we.PAGED_ITEM_FILES,e=>t.listInternal(e),await t.listInternal(e),e)}}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(e=>e)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,n;let o,r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=an(e);return r=h("files",l._url),i=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&m(t,["sdkHttpResponse"],n);const o=g(e,["nextPageToken"]);null!=o&&m(t,["nextPageToken"],o);const r=g(e,["files"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),m(t,["files"],e)}return t}(e),n=new Be;return Object.assign(n,t),n})}}async createInternal(e){var t,n;let o,r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=g(e,["file"]);return null!=n&&m(t,["file"],n),t}(e);return r=h("upload/v1beta/files",l._url),i=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>{const t=function(e){const t={},n=g(e,["sdkHttpResponse"]);return null!=n&&m(t,["sdkHttpResponse"],n),t}(e),n=new Je;return Object.assign(n,t),n})}}async get(e){var t,n;let o,r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=g(e,["name"]);return null!=n&&m(t,["_url","file"],St(n)),t}(e);return r=h("files/{file}",l._url),i=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>e)}}async delete(e){var t,n;let o,r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=g(e,["name"]);return null!=n&&m(t,["_url","file"],St(n)),t}(e);return r=h("files/{file}",l._url),i=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=g(e,["sdkHttpResponse"]);return null!=n&&m(t,["sdkHttpResponse"],n),t}(e),n=new We;return Object.assign(n,t),n})}}}function cn(e){const t={},n=g(e,["data"]);if(null!=n&&m(t,["data"],n),void 0!==g(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const o=g(e,["mimeType"]);return null!=o&&m(t,["mimeType"],o),t}function dn(e){const t={},n=g(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=g(e,["mediaResolution"]);null!=n&&m(t,["mediaResolution"],n);const o=g(e,["codeExecutionResult"]);null!=o&&m(t,["codeExecutionResult"],o);const r=g(e,["executableCode"]);null!=r&&m(t,["executableCode"],r);const i=g(e,["fileData"]);null!=i&&m(t,["fileData"],function(e){const t={};if(void 0!==g(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);null!=n&&m(t,["fileUri"],n);const o=g(e,["mimeType"]);null!=o&&m(t,["mimeType"],o);return t}(i));const l=g(e,["functionCall"]);null!=l&&m(t,["functionCall"],function(e){const t={},n=g(e,["id"]);null!=n&&m(t,["id"],n);const o=g(e,["args"]);null!=o&&m(t,["args"],o);const r=g(e,["name"]);null!=r&&m(t,["name"],r);if(void 0!==g(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==g(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(l));const s=g(e,["functionResponse"]);null!=s&&m(t,["functionResponse"],s);const a=g(e,["inlineData"]);null!=a&&m(t,["inlineData"],cn(a));const u=g(e,["text"]);null!=u&&m(t,["text"],u);const c=g(e,["thought"]);null!=c&&m(t,["thought"],c);const d=g(e,["thoughtSignature"]);null!=d&&m(t,["thoughtSignature"],d);const p=g(e,["videoMetadata"]);null!=p&&m(t,["videoMetadata"],p);return t}(e))),m(t,["parts"],e)}const o=g(e,["role"]);return null!=o&&m(t,["role"],o),t}function pn(e,t){const n=g(e,["generationConfig"]);void 0!==t&&null!=n&&m(t,["setup","generationConfig"],n);const o=g(e,["responseModalities"]);void 0!==t&&null!=o&&m(t,["setup","generationConfig","responseModalities"],o);const r=g(e,["temperature"]);void 0!==t&&null!=r&&m(t,["setup","generationConfig","temperature"],r);const i=g(e,["topP"]);void 0!==t&&null!=i&&m(t,["setup","generationConfig","topP"],i);const l=g(e,["topK"]);void 0!==t&&null!=l&&m(t,["setup","generationConfig","topK"],l);const s=g(e,["maxOutputTokens"]);void 0!==t&&null!=s&&m(t,["setup","generationConfig","maxOutputTokens"],s);const a=g(e,["mediaResolution"]);void 0!==t&&null!=a&&m(t,["setup","generationConfig","mediaResolution"],a);const u=g(e,["seed"]);void 0!==t&&null!=u&&m(t,["setup","generationConfig","seed"],u);const c=g(e,["speechConfig"]);void 0!==t&&null!=c&&m(t,["setup","generationConfig","speechConfig"],mt(c));const d=g(e,["thinkingConfig"]);void 0!==t&&null!=d&&m(t,["setup","generationConfig","thinkingConfig"],d);const p=g(e,["enableAffectiveDialog"]);void 0!==t&&null!=p&&m(t,["setup","generationConfig","enableAffectiveDialog"],p);const f=g(e,["systemInstruction"]);void 0!==t&&null!=f&&m(t,["setup","systemInstruction"],dn(ut(f)));const h=g(e,["tools"]);if(void 0!==t&&null!=h){let e=vt(h);Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=g(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),m(t,["functionDeclarations"],e)}if(void 0!==g(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const o=g(e,["googleSearchRetrieval"]);null!=o&&m(t,["googleSearchRetrieval"],o);const r=g(e,["computerUse"]);null!=r&&m(t,["computerUse"],r);const i=g(e,["fileSearch"]);null!=i&&m(t,["fileSearch"],i);const l=g(e,["codeExecution"]);null!=l&&m(t,["codeExecution"],l);if(void 0!==g(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=g(e,["googleMaps"]);null!=s&&m(t,["googleMaps"],function(e){const t={};if(void 0!==g(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return null!=n&&m(t,["enableWidget"],n),t}(s));const a=g(e,["googleSearch"]);null!=a&&m(t,["googleSearch"],function(e){const t={};if(void 0!==g(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==g(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return null!=n&&m(t,["timeRangeFilter"],n),t}(a));const u=g(e,["urlContext"]);null!=u&&m(t,["urlContext"],u);return t}(gt(e)))),m(t,["setup","tools"],e)}const v=g(e,["sessionResumption"]);void 0!==t&&null!=v&&m(t,["setup","sessionResumption"],function(e){const t={},n=g(e,["handle"]);null!=n&&m(t,["handle"],n);if(void 0!==g(e,["transparent"]))throw new Error("transparent parameter is not supported in Gemini API.");return t}(v));const y=g(e,["inputAudioTranscription"]);void 0!==t&&null!=y&&m(t,["setup","inputAudioTranscription"],y);const b=g(e,["outputAudioTranscription"]);void 0!==t&&null!=b&&m(t,["setup","outputAudioTranscription"],b);const E=g(e,["realtimeInputConfig"]);void 0!==t&&null!=E&&m(t,["setup","realtimeInputConfig"],E);const S=g(e,["contextWindowCompression"]);void 0!==t&&null!=S&&m(t,["setup","contextWindowCompression"],S);const _=g(e,["proactivity"]);return void 0!==t&&null!=_&&m(t,["setup","proactivity"],_),{}}function fn(e,t){const n=g(e,["generationConfig"]);void 0!==t&&null!=n&&m(t,["setup","generationConfig"],function(e){const t={},n=g(e,["modelSelectionConfig"]);null!=n&&m(t,["modelConfig"],n);const o=g(e,["responseJsonSchema"]);null!=o&&m(t,["responseJsonSchema"],o);const r=g(e,["audioTimestamp"]);null!=r&&m(t,["audioTimestamp"],r);const i=g(e,["candidateCount"]);null!=i&&m(t,["candidateCount"],i);const l=g(e,["enableAffectiveDialog"]);null!=l&&m(t,["enableAffectiveDialog"],l);const s=g(e,["frequencyPenalty"]);null!=s&&m(t,["frequencyPenalty"],s);const a=g(e,["logprobs"]);null!=a&&m(t,["logprobs"],a);const u=g(e,["maxOutputTokens"]);null!=u&&m(t,["maxOutputTokens"],u);const c=g(e,["mediaResolution"]);null!=c&&m(t,["mediaResolution"],c);const d=g(e,["presencePenalty"]);null!=d&&m(t,["presencePenalty"],d);const p=g(e,["responseLogprobs"]);null!=p&&m(t,["responseLogprobs"],p);const f=g(e,["responseMimeType"]);null!=f&&m(t,["responseMimeType"],f);const h=g(e,["responseModalities"]);null!=h&&m(t,["responseModalities"],h);const v=g(e,["responseSchema"]);null!=v&&m(t,["responseSchema"],v);const y=g(e,["routingConfig"]);null!=y&&m(t,["routingConfig"],y);const b=g(e,["seed"]);null!=b&&m(t,["seed"],b);const E=g(e,["speechConfig"]);null!=E&&m(t,["speechConfig"],vn(E));const S=g(e,["stopSequences"]);null!=S&&m(t,["stopSequences"],S);const _=g(e,["temperature"]);null!=_&&m(t,["temperature"],_);const C=g(e,["thinkingConfig"]);null!=C&&m(t,["thinkingConfig"],C);const w=g(e,["topK"]);null!=w&&m(t,["topK"],w);const T=g(e,["topP"]);if(null!=T&&m(t,["topP"],T),void 0!==g(e,["enableEnhancedCivicAnswers"]))throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}(n));const o=g(e,["responseModalities"]);void 0!==t&&null!=o&&m(t,["setup","generationConfig","responseModalities"],o);const r=g(e,["temperature"]);void 0!==t&&null!=r&&m(t,["setup","generationConfig","temperature"],r);const i=g(e,["topP"]);void 0!==t&&null!=i&&m(t,["setup","generationConfig","topP"],i);const l=g(e,["topK"]);void 0!==t&&null!=l&&m(t,["setup","generationConfig","topK"],l);const s=g(e,["maxOutputTokens"]);void 0!==t&&null!=s&&m(t,["setup","generationConfig","maxOutputTokens"],s);const a=g(e,["mediaResolution"]);void 0!==t&&null!=a&&m(t,["setup","generationConfig","mediaResolution"],a);const u=g(e,["seed"]);void 0!==t&&null!=u&&m(t,["setup","generationConfig","seed"],u);const c=g(e,["speechConfig"]);void 0!==t&&null!=c&&m(t,["setup","generationConfig","speechConfig"],vn(mt(c)));const d=g(e,["thinkingConfig"]);void 0!==t&&null!=d&&m(t,["setup","generationConfig","thinkingConfig"],d);const p=g(e,["enableAffectiveDialog"]);void 0!==t&&null!=p&&m(t,["setup","generationConfig","enableAffectiveDialog"],p);const f=g(e,["systemInstruction"]);void 0!==t&&null!=f&&m(t,["setup","systemInstruction"],ut(f));const h=g(e,["tools"]);if(void 0!==t&&null!=h){let e=vt(h);Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=g(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==g(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(e,["description"]);null!=n&&m(t,["description"],n);const o=g(e,["name"]);null!=o&&m(t,["name"],o);const r=g(e,["parameters"]);null!=r&&m(t,["parameters"],r);const i=g(e,["parametersJsonSchema"]);null!=i&&m(t,["parametersJsonSchema"],i);const l=g(e,["response"]);null!=l&&m(t,["response"],l);const s=g(e,["responseJsonSchema"]);return null!=s&&m(t,["responseJsonSchema"],s),t}(e))),m(t,["functionDeclarations"],e)}const o=g(e,["retrieval"]);null!=o&&m(t,["retrieval"],o);const r=g(e,["googleSearchRetrieval"]);null!=r&&m(t,["googleSearchRetrieval"],r);const i=g(e,["computerUse"]);null!=i&&m(t,["computerUse"],i);if(void 0!==g(e,["fileSearch"]))throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=g(e,["codeExecution"]);null!=l&&m(t,["codeExecution"],l);const s=g(e,["enterpriseWebSearch"]);null!=s&&m(t,["enterpriseWebSearch"],s);const a=g(e,["googleMaps"]);null!=a&&m(t,["googleMaps"],a);const u=g(e,["googleSearch"]);null!=u&&m(t,["googleSearch"],u);const c=g(e,["urlContext"]);null!=c&&m(t,["urlContext"],c);return t}(gt(e)))),m(t,["setup","tools"],e)}const v=g(e,["sessionResumption"]);void 0!==t&&null!=v&&m(t,["setup","sessionResumption"],v);const y=g(e,["inputAudioTranscription"]);void 0!==t&&null!=y&&m(t,["setup","inputAudioTranscription"],y);const b=g(e,["outputAudioTranscription"]);void 0!==t&&null!=b&&m(t,["setup","outputAudioTranscription"],b);const E=g(e,["realtimeInputConfig"]);void 0!==t&&null!=E&&m(t,["setup","realtimeInputConfig"],E);const S=g(e,["contextWindowCompression"]);void 0!==t&&null!=S&&m(t,["setup","contextWindowCompression"],S);const _=g(e,["proactivity"]);return void 0!==t&&null!=_&&m(t,["setup","proactivity"],_),{}}function hn(e){const t={},n=g(e,["media"]);if(null!=n){let e=et(n);Array.isArray(e)&&(e=e.map(e=>cn(e))),m(t,["mediaChunks"],e)}const o=g(e,["audio"]);null!=o&&m(t,["audio"],cn(ot(o)));const r=g(e,["audioStreamEnd"]);null!=r&&m(t,["audioStreamEnd"],r);const i=g(e,["video"]);null!=i&&m(t,["video"],cn(nt(i)));const l=g(e,["text"]);null!=l&&m(t,["text"],l);const s=g(e,["activityStart"]);null!=s&&m(t,["activityStart"],s);const a=g(e,["activityEnd"]);return null!=a&&m(t,["activityEnd"],a),t}function mn(e){const t={},n=g(e,["media"]);if(null!=n){let e=et(n);Array.isArray(e)&&(e=e.map(e=>e)),m(t,["mediaChunks"],e)}const o=g(e,["audio"]);null!=o&&m(t,["audio"],ot(o));const r=g(e,["audioStreamEnd"]);null!=r&&m(t,["audioStreamEnd"],r);const i=g(e,["video"]);null!=i&&m(t,["video"],nt(i));const l=g(e,["text"]);null!=l&&m(t,["text"],l);const s=g(e,["activityStart"]);null!=s&&m(t,["activityStart"],s);const a=g(e,["activityEnd"]);return null!=a&&m(t,["activityEnd"],a),t}function gn(e){const t={},n=g(e,["setupComplete"]);null!=n&&m(t,["setupComplete"],n);const o=g(e,["serverContent"]);null!=o&&m(t,["serverContent"],o);const r=g(e,["toolCall"]);null!=r&&m(t,["toolCall"],r);const i=g(e,["toolCallCancellation"]);null!=i&&m(t,["toolCallCancellation"],i);const l=g(e,["usageMetadata"]);null!=l&&m(t,["usageMetadata"],function(e){const t={},n=g(e,["promptTokenCount"]);null!=n&&m(t,["promptTokenCount"],n);const o=g(e,["cachedContentTokenCount"]);null!=o&&m(t,["cachedContentTokenCount"],o);const r=g(e,["candidatesTokenCount"]);null!=r&&m(t,["responseTokenCount"],r);const i=g(e,["toolUsePromptTokenCount"]);null!=i&&m(t,["toolUsePromptTokenCount"],i);const l=g(e,["thoughtsTokenCount"]);null!=l&&m(t,["thoughtsTokenCount"],l);const s=g(e,["totalTokenCount"]);null!=s&&m(t,["totalTokenCount"],s);const a=g(e,["promptTokensDetails"]);if(null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>e)),m(t,["promptTokensDetails"],e)}const u=g(e,["cacheTokensDetails"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map(e=>e)),m(t,["cacheTokensDetails"],e)}const c=g(e,["candidatesTokensDetails"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>e)),m(t,["responseTokensDetails"],e)}const d=g(e,["toolUsePromptTokensDetails"]);if(null!=d){let e=d;Array.isArray(e)&&(e=e.map(e=>e)),m(t,["toolUsePromptTokensDetails"],e)}const p=g(e,["trafficType"]);null!=p&&m(t,["trafficType"],p);return t}(l));const s=g(e,["goAway"]);null!=s&&m(t,["goAway"],s);const a=g(e,["sessionResumptionUpdate"]);return null!=a&&m(t,["sessionResumptionUpdate"],a),t}function vn(e){const t={},n=g(e,["languageCode"]);null!=n&&m(t,["languageCode"],n);const o=g(e,["voiceConfig"]);if(null!=o&&m(t,["voiceConfig"],o),void 0!==g(e,["multiSpeakerVoiceConfig"]))throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function yn(e){const t={},n=g(e,["content"]);null!=n&&m(t,["content"],n);const o=g(e,["citationMetadata"]);null!=o&&m(t,["citationMetadata"],function(e){const t={},n=g(e,["citationSources"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),m(t,["citations"],e)}return t}(o));const r=g(e,["tokenCount"]);null!=r&&m(t,["tokenCount"],r);const i=g(e,["finishReason"]);null!=i&&m(t,["finishReason"],i);const l=g(e,["avgLogprobs"]);null!=l&&m(t,["avgLogprobs"],l);const s=g(e,["groundingMetadata"]);null!=s&&m(t,["groundingMetadata"],s);const a=g(e,["index"]);null!=a&&m(t,["index"],a);const u=g(e,["logprobsResult"]);null!=u&&m(t,["logprobsResult"],u);const c=g(e,["safetyRatings"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>e)),m(t,["safetyRatings"],e)}const d=g(e,["urlContextMetadata"]);return null!=d&&m(t,["urlContextMetadata"],d),t}function bn(e){const t={},n=g(e,["values"]);null!=n&&m(t,["values"],n);const o=g(e,["statistics"]);return null!=o&&m(t,["statistics"],function(e){const t={},n=g(e,["truncated"]);null!=n&&m(t,["truncated"],n);const o=g(e,["token_count"]);null!=o&&m(t,["tokenCount"],o);return t}(o)),t}function En(e){const t={},n=g(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=g(e,["mediaResolution"]);null!=n&&m(t,["mediaResolution"],n);const o=g(e,["codeExecutionResult"]);null!=o&&m(t,["codeExecutionResult"],o);const r=g(e,["executableCode"]);null!=r&&m(t,["executableCode"],r);const i=g(e,["fileData"]);null!=i&&m(t,["fileData"],function(e){const t={};if(void 0!==g(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);null!=n&&m(t,["fileUri"],n);const o=g(e,["mimeType"]);null!=o&&m(t,["mimeType"],o);return t}(i));const l=g(e,["functionCall"]);null!=l&&m(t,["functionCall"],function(e){const t={},n=g(e,["id"]);null!=n&&m(t,["id"],n);const o=g(e,["args"]);null!=o&&m(t,["args"],o);const r=g(e,["name"]);null!=r&&m(t,["name"],r);if(void 0!==g(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==g(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(l));const s=g(e,["functionResponse"]);null!=s&&m(t,["functionResponse"],s);const a=g(e,["inlineData"]);null!=a&&m(t,["inlineData"],function(e){const t={},n=g(e,["data"]);if(null!=n&&m(t,["data"],n),void 0!==g(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const o=g(e,["mimeType"]);return null!=o&&m(t,["mimeType"],o),t}(a));const u=g(e,["text"]);null!=u&&m(t,["text"],u);const c=g(e,["thought"]);null!=c&&m(t,["thought"],c);const d=g(e,["thoughtSignature"]);null!=d&&m(t,["thoughtSignature"],d);const p=g(e,["videoMetadata"]);null!=p&&m(t,["videoMetadata"],p);return t}(e))),m(t,["parts"],e)}const o=g(e,["role"]);return null!=o&&m(t,["role"],o),t}function Sn(e,t){const n=g(e,["systemInstruction"]);void 0!==t&&null!=n&&m(t,["systemInstruction"],ut(n));const o=g(e,["tools"]);if(void 0!==t&&null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>to(e))),m(t,["tools"],e)}const r=g(e,["generationConfig"]);return void 0!==t&&null!=r&&m(t,["generationConfig"],function(e){const t={},n=g(e,["modelSelectionConfig"]);null!=n&&m(t,["modelConfig"],n);const o=g(e,["responseJsonSchema"]);null!=o&&m(t,["responseJsonSchema"],o);const r=g(e,["audioTimestamp"]);null!=r&&m(t,["audioTimestamp"],r);const i=g(e,["candidateCount"]);null!=i&&m(t,["candidateCount"],i);const l=g(e,["enableAffectiveDialog"]);null!=l&&m(t,["enableAffectiveDialog"],l);const s=g(e,["frequencyPenalty"]);null!=s&&m(t,["frequencyPenalty"],s);const a=g(e,["logprobs"]);null!=a&&m(t,["logprobs"],a);const u=g(e,["maxOutputTokens"]);null!=u&&m(t,["maxOutputTokens"],u);const c=g(e,["mediaResolution"]);null!=c&&m(t,["mediaResolution"],c);const d=g(e,["presencePenalty"]);null!=d&&m(t,["presencePenalty"],d);const p=g(e,["responseLogprobs"]);null!=p&&m(t,["responseLogprobs"],p);const f=g(e,["responseMimeType"]);null!=f&&m(t,["responseMimeType"],f);const h=g(e,["responseModalities"]);null!=h&&m(t,["responseModalities"],h);const v=g(e,["responseSchema"]);null!=v&&m(t,["responseSchema"],v);const y=g(e,["routingConfig"]);null!=y&&m(t,["routingConfig"],y);const b=g(e,["seed"]);null!=b&&m(t,["seed"],b);const E=g(e,["speechConfig"]);null!=E&&m(t,["speechConfig"],eo(E));const S=g(e,["stopSequences"]);null!=S&&m(t,["stopSequences"],S);const _=g(e,["temperature"]);null!=_&&m(t,["temperature"],_);const C=g(e,["thinkingConfig"]);null!=C&&m(t,["thinkingConfig"],C);const w=g(e,["topK"]);null!=w&&m(t,["topK"],w);const T=g(e,["topP"]);null!=T&&m(t,["topP"],T);if(void 0!==g(e,["enableEnhancedCivicAnswers"]))throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}(r)),{}}function _n(e,t){const n={},o=g(t,["model"]);null!=o&&m(n,["_url","model"],Xe(e,o));const r=g(t,["contents"]);if(null!=r){let e=dt(r);Array.isArray(e)&&(e=e.map(e=>En(e))),m(n,["contents"],e)}const i=g(t,["config"]);return null!=i&&function(e){if(void 0!==g(e,["systemInstruction"]))throw new Error("systemInstruction parameter is not supported in Gemini API.");if(void 0!==g(e,["tools"]))throw new Error("tools parameter is not supported in Gemini API.");if(void 0!==g(e,["generationConfig"]))throw new Error("generationConfig parameter is not supported in Gemini API.")}(i),n}function Cn(e,t){const n={},o=g(t,["model"]);null!=o&&m(n,["_url","model"],Xe(e,o));const r=g(t,["prompt"]);null!=r&&m(n,["instances[0]","prompt"],r);const i=g(t,["referenceImages"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=g(e,["referenceImage"]);null!=n&&m(t,["referenceImage"],zn(n));const o=g(e,["referenceId"]);null!=o&&m(t,["referenceId"],o);const r=g(e,["referenceType"]);null!=r&&m(t,["referenceType"],r);const i=g(e,["maskImageConfig"]);null!=i&&m(t,["maskImageConfig"],function(e){const t={},n=g(e,["maskMode"]);null!=n&&m(t,["maskMode"],n);const o=g(e,["segmentationClasses"]);null!=o&&m(t,["maskClasses"],o);const r=g(e,["maskDilation"]);null!=r&&m(t,["dilation"],r);return t}(i));const l=g(e,["controlImageConfig"]);null!=l&&m(t,["controlImageConfig"],function(e){const t={},n=g(e,["controlType"]);null!=n&&m(t,["controlType"],n);const o=g(e,["enableControlImageComputation"]);return null!=o&&m(t,["computeControl"],o),t}(l));const s=g(e,["styleImageConfig"]);null!=s&&m(t,["styleImageConfig"],s);const a=g(e,["subjectImageConfig"]);null!=a&&m(t,["subjectImageConfig"],a);return t}(e))),m(n,["instances[0]","referenceImages"],e)}const l=g(t,["config"]);return null!=l&&function(e,t){const n=g(e,["outputGcsUri"]);void 0!==t&&null!=n&&m(t,["parameters","storageUri"],n);const o=g(e,["negativePrompt"]);void 0!==t&&null!=o&&m(t,["parameters","negativePrompt"],o);const r=g(e,["numberOfImages"]);void 0!==t&&null!=r&&m(t,["parameters","sampleCount"],r);const i=g(e,["aspectRatio"]);void 0!==t&&null!=i&&m(t,["parameters","aspectRatio"],i);const l=g(e,["guidanceScale"]);void 0!==t&&null!=l&&m(t,["parameters","guidanceScale"],l);const s=g(e,["seed"]);void 0!==t&&null!=s&&m(t,["parameters","seed"],s);const a=g(e,["safetyFilterLevel"]);void 0!==t&&null!=a&&m(t,["parameters","safetySetting"],a);const u=g(e,["personGeneration"]);void 0!==t&&null!=u&&m(t,["parameters","personGeneration"],u);const c=g(e,["includeSafetyAttributes"]);void 0!==t&&null!=c&&m(t,["parameters","includeSafetyAttributes"],c);const d=g(e,["includeRaiReason"]);void 0!==t&&null!=d&&m(t,["parameters","includeRaiReason"],d);const p=g(e,["language"]);void 0!==t&&null!=p&&m(t,["parameters","language"],p);const f=g(e,["outputMimeType"]);void 0!==t&&null!=f&&m(t,["parameters","outputOptions","mimeType"],f);const h=g(e,["outputCompressionQuality"]);void 0!==t&&null!=h&&m(t,["parameters","outputOptions","compressionQuality"],h);const v=g(e,["addWatermark"]);void 0!==t&&null!=v&&m(t,["parameters","addWatermark"],v);const y=g(e,["labels"]);void 0!==t&&null!=y&&m(t,["labels"],y);const b=g(e,["editMode"]);void 0!==t&&null!=b&&m(t,["parameters","editMode"],b);const E=g(e,["baseSteps"]);void 0!==t&&null!=E&&m(t,["parameters","editConfig","baseSteps"],E)}(l,n),n}function wn(e,t){const n={},o=g(t,["model"]);null!=o&&m(n,["_url","model"],Xe(e,o));const r=g(t,["contents"]);if(null!=r){let t=ct(e,r);Array.isArray(t)&&(t=t.map(e=>e)),m(n,["requests[]","content"],t)}const i=g(t,["config"]);null!=i&&function(e,t){const n=g(e,["taskType"]);void 0!==t&&null!=n&&m(t,["requests[]","taskType"],n);const o=g(e,["title"]);void 0!==t&&null!=o&&m(t,["requests[]","title"],o);const r=g(e,["outputDimensionality"]);if(void 0!==t&&null!=r&&m(t,["requests[]","outputDimensionality"],r),void 0!==g(e,["mimeType"]))throw new Error("mimeType parameter is not supported in Gemini API.");if(void 0!==g(e,["autoTruncate"]))throw new Error("autoTruncate parameter is not supported in Gemini API.")}(i,n);const l=g(t,["model"]);return void 0!==l&&m(n,["requests[]","model"],Xe(e,l)),n}function Tn(e,t){const n={},o=g(t,["model"]);null!=o&&m(n,["_url","model"],Xe(e,o));const r=g(t,["contents"]);if(null!=r){let t=ct(e,r);Array.isArray(t)&&(t=t.map(e=>e)),m(n,["instances[]","content"],t)}const i=g(t,["config"]);return null!=i&&function(e,t){const n=g(e,["taskType"]);void 0!==t&&null!=n&&m(t,["instances[]","task_type"],n);const o=g(e,["title"]);void 0!==t&&null!=o&&m(t,["instances[]","title"],o);const r=g(e,["outputDimensionality"]);void 0!==t&&null!=r&&m(t,["parameters","outputDimensionality"],r);const i=g(e,["mimeType"]);void 0!==t&&null!=i&&m(t,["instances[]","mimeType"],i);const l=g(e,["autoTruncate"]);void 0!==t&&null!=l&&m(t,["parameters","autoTruncate"],l)}(i,n),n}function In(e,t,n){const o={},r=g(t,["systemInstruction"]);void 0!==n&&null!=r&&m(n,["systemInstruction"],En(ut(r)));const i=g(t,["temperature"]);null!=i&&m(o,["temperature"],i);const l=g(t,["topP"]);null!=l&&m(o,["topP"],l);const s=g(t,["topK"]);null!=s&&m(o,["topK"],s);const a=g(t,["candidateCount"]);null!=a&&m(o,["candidateCount"],a);const u=g(t,["maxOutputTokens"]);null!=u&&m(o,["maxOutputTokens"],u);const c=g(t,["stopSequences"]);null!=c&&m(o,["stopSequences"],c);const d=g(t,["responseLogprobs"]);null!=d&&m(o,["responseLogprobs"],d);const p=g(t,["logprobs"]);null!=p&&m(o,["logprobs"],p);const f=g(t,["presencePenalty"]);null!=f&&m(o,["presencePenalty"],f);const h=g(t,["frequencyPenalty"]);null!=h&&m(o,["frequencyPenalty"],h);const v=g(t,["seed"]);null!=v&&m(o,["seed"],v);const y=g(t,["responseMimeType"]);null!=y&&m(o,["responseMimeType"],y);const b=g(t,["responseSchema"]);null!=b&&m(o,["responseSchema"],ft(b));const E=g(t,["responseJsonSchema"]);if(null!=E&&m(o,["responseJsonSchema"],E),void 0!==g(t,["routingConfig"]))throw new Error("routingConfig parameter is not supported in Gemini API.");if(void 0!==g(t,["modelSelectionConfig"]))throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=g(t,["safetySettings"]);if(void 0!==n&&null!=S){let e=S;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=g(e,["category"]);null!=n&&m(t,["category"],n);if(void 0!==g(e,["method"]))throw new Error("method parameter is not supported in Gemini API.");const o=g(e,["threshold"]);null!=o&&m(t,["threshold"],o);return t}(e))),m(n,["safetySettings"],e)}const _=g(t,["tools"]);if(void 0!==n&&null!=_){let e=vt(_);Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=g(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),m(t,["functionDeclarations"],e)}if(void 0!==g(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const o=g(e,["googleSearchRetrieval"]);null!=o&&m(t,["googleSearchRetrieval"],o);const r=g(e,["computerUse"]);null!=r&&m(t,["computerUse"],r);const i=g(e,["fileSearch"]);null!=i&&m(t,["fileSearch"],i);const l=g(e,["codeExecution"]);null!=l&&m(t,["codeExecution"],l);if(void 0!==g(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=g(e,["googleMaps"]);null!=s&&m(t,["googleMaps"],function(e){const t={};if(void 0!==g(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);null!=n&&m(t,["enableWidget"],n);return t}(s));const a=g(e,["googleSearch"]);null!=a&&m(t,["googleSearch"],function(e){const t={};if(void 0!==g(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==g(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);null!=n&&m(t,["timeRangeFilter"],n);return t}(a));const u=g(e,["urlContext"]);null!=u&&m(t,["urlContext"],u);return t}(gt(e)))),m(n,["tools"],e)}const C=g(t,["toolConfig"]);if(void 0!==n&&null!=C&&m(n,["toolConfig"],function(e){const t={},n=g(e,["functionCallingConfig"]);null!=n&&m(t,["functionCallingConfig"],function(e){const t={},n=g(e,["mode"]);null!=n&&m(t,["mode"],n);const o=g(e,["allowedFunctionNames"]);if(null!=o&&m(t,["allowedFunctionNames"],o),void 0!==g(e,["streamFunctionCallArguments"]))throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}(n));const o=g(e,["retrievalConfig"]);null!=o&&m(t,["retrievalConfig"],o);return t}(C)),void 0!==g(t,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const w=g(t,["cachedContent"]);void 0!==n&&null!=w&&m(n,["cachedContent"],yt(e,w));const T=g(t,["responseModalities"]);null!=T&&m(o,["responseModalities"],T);const I=g(t,["mediaResolution"]);null!=I&&m(o,["mediaResolution"],I);const x=g(t,["speechConfig"]);if(null!=x&&m(o,["speechConfig"],ht(x)),void 0!==g(t,["audioTimestamp"]))throw new Error("audioTimestamp parameter is not supported in Gemini API.");const N=g(t,["thinkingConfig"]);null!=N&&m(o,["thinkingConfig"],N);const A=g(t,["imageConfig"]);return null!=A&&m(o,["imageConfig"],function(e){const t={},n=g(e,["aspectRatio"]);null!=n&&m(t,["aspectRatio"],n);const o=g(e,["imageSize"]);null!=o&&m(t,["imageSize"],o);if(void 0!==g(e,["outputMimeType"]))throw new Error("outputMimeType parameter is not supported in Gemini API.");if(void 0!==g(e,["outputCompressionQuality"]))throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}(A)),o}function xn(e,t,n){const o={},r=g(t,["systemInstruction"]);void 0!==n&&null!=r&&m(n,["systemInstruction"],ut(r));const i=g(t,["temperature"]);null!=i&&m(o,["temperature"],i);const l=g(t,["topP"]);null!=l&&m(o,["topP"],l);const s=g(t,["topK"]);null!=s&&m(o,["topK"],s);const a=g(t,["candidateCount"]);null!=a&&m(o,["candidateCount"],a);const u=g(t,["maxOutputTokens"]);null!=u&&m(o,["maxOutputTokens"],u);const c=g(t,["stopSequences"]);null!=c&&m(o,["stopSequences"],c);const d=g(t,["responseLogprobs"]);null!=d&&m(o,["responseLogprobs"],d);const p=g(t,["logprobs"]);null!=p&&m(o,["logprobs"],p);const f=g(t,["presencePenalty"]);null!=f&&m(o,["presencePenalty"],f);const h=g(t,["frequencyPenalty"]);null!=h&&m(o,["frequencyPenalty"],h);const v=g(t,["seed"]);null!=v&&m(o,["seed"],v);const y=g(t,["responseMimeType"]);null!=y&&m(o,["responseMimeType"],y);const b=g(t,["responseSchema"]);null!=b&&m(o,["responseSchema"],ft(b));const E=g(t,["responseJsonSchema"]);null!=E&&m(o,["responseJsonSchema"],E);const S=g(t,["routingConfig"]);null!=S&&m(o,["routingConfig"],S);const _=g(t,["modelSelectionConfig"]);null!=_&&m(o,["modelConfig"],_);const C=g(t,["safetySettings"]);if(void 0!==n&&null!=C){let e=C;Array.isArray(e)&&(e=e.map(e=>e)),m(n,["safetySettings"],e)}const w=g(t,["tools"]);if(void 0!==n&&null!=w){let e=vt(w);Array.isArray(e)&&(e=e.map(e=>to(gt(e)))),m(n,["tools"],e)}const T=g(t,["toolConfig"]);void 0!==n&&null!=T&&m(n,["toolConfig"],T);const I=g(t,["labels"]);void 0!==n&&null!=I&&m(n,["labels"],I);const x=g(t,["cachedContent"]);void 0!==n&&null!=x&&m(n,["cachedContent"],yt(e,x));const N=g(t,["responseModalities"]);null!=N&&m(o,["responseModalities"],N);const A=g(t,["mediaResolution"]);null!=A&&m(o,["mediaResolution"],A);const O=g(t,["speechConfig"]);null!=O&&m(o,["speechConfig"],eo(ht(O)));const k=g(t,["audioTimestamp"]);null!=k&&m(o,["audioTimestamp"],k);const P=g(t,["thinkingConfig"]);null!=P&&m(o,["thinkingConfig"],P);const R=g(t,["imageConfig"]);return null!=R&&m(o,["imageConfig"],function(e){const t={},n=g(e,["aspectRatio"]);null!=n&&m(t,["aspectRatio"],n);const o=g(e,["imageSize"]);null!=o&&m(t,["imageSize"],o);const r=g(e,["outputMimeType"]);null!=r&&m(t,["imageOutputOptions","mimeType"],r);const i=g(e,["outputCompressionQuality"]);null!=i&&m(t,["imageOutputOptions","compressionQuality"],i);return t}(R)),o}function Nn(e,t){const n={},o=g(t,["model"]);null!=o&&m(n,["_url","model"],Xe(e,o));const r=g(t,["contents"]);if(null!=r){let e=dt(r);Array.isArray(e)&&(e=e.map(e=>En(e))),m(n,["contents"],e)}const i=g(t,["config"]);return null!=i&&m(n,["generationConfig"],In(e,i,n)),n}function An(e,t){const n={},o=g(t,["model"]);null!=o&&m(n,["_url","model"],Xe(e,o));const r=g(t,["contents"]);if(null!=r){let e=dt(r);Array.isArray(e)&&(e=e.map(e=>e)),m(n,["contents"],e)}const i=g(t,["config"]);return null!=i&&m(n,["generationConfig"],xn(e,i,n)),n}function On(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&m(t,["sdkHttpResponse"],n);const o=g(e,["candidates"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>yn(e))),m(t,["candidates"],e)}const r=g(e,["modelVersion"]);null!=r&&m(t,["modelVersion"],r);const i=g(e,["promptFeedback"]);null!=i&&m(t,["promptFeedback"],i);const l=g(e,["responseId"]);null!=l&&m(t,["responseId"],l);const s=g(e,["usageMetadata"]);return null!=s&&m(t,["usageMetadata"],s),t}function kn(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&m(t,["sdkHttpResponse"],n);const o=g(e,["candidates"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),m(t,["candidates"],e)}const r=g(e,["createTime"]);null!=r&&m(t,["createTime"],r);const i=g(e,["modelVersion"]);null!=i&&m(t,["modelVersion"],i);const l=g(e,["promptFeedback"]);null!=l&&m(t,["promptFeedback"],l);const s=g(e,["responseId"]);null!=s&&m(t,["responseId"],s);const a=g(e,["usageMetadata"]);return null!=a&&m(t,["usageMetadata"],a),t}function Pn(e,t){const n={},o=g(t,["model"]);null!=o&&m(n,["_url","model"],Xe(e,o));const r=g(t,["prompt"]);null!=r&&m(n,["instances[0]","prompt"],r);const i=g(t,["config"]);return null!=i&&function(e,t){if(void 0!==g(e,["outputGcsUri"]))throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==g(e,["negativePrompt"]))throw new Error("negativePrompt parameter is not supported in Gemini API.");const n=g(e,["numberOfImages"]);void 0!==t&&null!=n&&m(t,["parameters","sampleCount"],n);const o=g(e,["aspectRatio"]);void 0!==t&&null!=o&&m(t,["parameters","aspectRatio"],o);const r=g(e,["guidanceScale"]);if(void 0!==t&&null!=r&&m(t,["parameters","guidanceScale"],r),void 0!==g(e,["seed"]))throw new Error("seed parameter is not supported in Gemini API.");const i=g(e,["safetyFilterLevel"]);void 0!==t&&null!=i&&m(t,["parameters","safetySetting"],i);const l=g(e,["personGeneration"]);void 0!==t&&null!=l&&m(t,["parameters","personGeneration"],l);const s=g(e,["includeSafetyAttributes"]);void 0!==t&&null!=s&&m(t,["parameters","includeSafetyAttributes"],s);const a=g(e,["includeRaiReason"]);void 0!==t&&null!=a&&m(t,["parameters","includeRaiReason"],a);const u=g(e,["language"]);void 0!==t&&null!=u&&m(t,["parameters","language"],u);const c=g(e,["outputMimeType"]);void 0!==t&&null!=c&&m(t,["parameters","outputOptions","mimeType"],c);const d=g(e,["outputCompressionQuality"]);if(void 0!==t&&null!=d&&m(t,["parameters","outputOptions","compressionQuality"],d),void 0!==g(e,["addWatermark"]))throw new Error("addWatermark parameter is not supported in Gemini API.");if(void 0!==g(e,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const p=g(e,["imageSize"]);if(void 0!==t&&null!=p&&m(t,["parameters","sampleImageSize"],p),void 0!==g(e,["enhancePrompt"]))throw new Error("enhancePrompt parameter is not supported in Gemini API.")}(i,n),n}function Rn(e,t){const n={},o=g(t,["model"]);null!=o&&m(n,["_url","model"],Xe(e,o));const r=g(t,["prompt"]);null!=r&&m(n,["instances[0]","prompt"],r);const i=g(t,["config"]);return null!=i&&function(e,t){const n=g(e,["outputGcsUri"]);void 0!==t&&null!=n&&m(t,["parameters","storageUri"],n);const o=g(e,["negativePrompt"]);void 0!==t&&null!=o&&m(t,["parameters","negativePrompt"],o);const r=g(e,["numberOfImages"]);void 0!==t&&null!=r&&m(t,["parameters","sampleCount"],r);const i=g(e,["aspectRatio"]);void 0!==t&&null!=i&&m(t,["parameters","aspectRatio"],i);const l=g(e,["guidanceScale"]);void 0!==t&&null!=l&&m(t,["parameters","guidanceScale"],l);const s=g(e,["seed"]);void 0!==t&&null!=s&&m(t,["parameters","seed"],s);const a=g(e,["safetyFilterLevel"]);void 0!==t&&null!=a&&m(t,["parameters","safetySetting"],a);const u=g(e,["personGeneration"]);void 0!==t&&null!=u&&m(t,["parameters","personGeneration"],u);const c=g(e,["includeSafetyAttributes"]);void 0!==t&&null!=c&&m(t,["parameters","includeSafetyAttributes"],c);const d=g(e,["includeRaiReason"]);void 0!==t&&null!=d&&m(t,["parameters","includeRaiReason"],d);const p=g(e,["language"]);void 0!==t&&null!=p&&m(t,["parameters","language"],p);const f=g(e,["outputMimeType"]);void 0!==t&&null!=f&&m(t,["parameters","outputOptions","mimeType"],f);const h=g(e,["outputCompressionQuality"]);void 0!==t&&null!=h&&m(t,["parameters","outputOptions","compressionQuality"],h);const v=g(e,["addWatermark"]);void 0!==t&&null!=v&&m(t,["parameters","addWatermark"],v);const y=g(e,["labels"]);void 0!==t&&null!=y&&m(t,["labels"],y);const b=g(e,["imageSize"]);void 0!==t&&null!=b&&m(t,["parameters","sampleImageSize"],b);const E=g(e,["enhancePrompt"]);void 0!==t&&null!=E&&m(t,["parameters","enhancePrompt"],E)}(i,n),n}function Dn(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&m(t,["sdkHttpResponse"],n);const o=g(e,["predictions"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=g(e,["_self"]);null!=n&&m(t,["image"],function(e){const t={},n=g(e,["bytesBase64Encoded"]);null!=n&&m(t,["imageBytes"],Et(n));const o=g(e,["mimeType"]);null!=o&&m(t,["mimeType"],o);return t}(n));const o=g(e,["raiFilteredReason"]);null!=o&&m(t,["raiFilteredReason"],o);const r=g(e,["_self"]);null!=r&&m(t,["safetyAttributes"],Qn(r));return t}(e))),m(t,["generatedImages"],e)}const r=g(e,["positivePromptSafetyAttributes"]);return null!=r&&m(t,["positivePromptSafetyAttributes"],Qn(r)),t}function Mn(e,t){const n=g(e,["numberOfVideos"]);if(void 0!==t&&null!=n&&m(t,["parameters","sampleCount"],n),void 0!==g(e,["outputGcsUri"]))throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==g(e,["fps"]))throw new Error("fps parameter is not supported in Gemini API.");const o=g(e,["durationSeconds"]);if(void 0!==t&&null!=o&&m(t,["parameters","durationSeconds"],o),void 0!==g(e,["seed"]))throw new Error("seed parameter is not supported in Gemini API.");const r=g(e,["aspectRatio"]);void 0!==t&&null!=r&&m(t,["parameters","aspectRatio"],r);const i=g(e,["resolution"]);void 0!==t&&null!=i&&m(t,["parameters","resolution"],i);const l=g(e,["personGeneration"]);if(void 0!==t&&null!=l&&m(t,["parameters","personGeneration"],l),void 0!==g(e,["pubsubTopic"]))throw new Error("pubsubTopic parameter is not supported in Gemini API.");const s=g(e,["negativePrompt"]);void 0!==t&&null!=s&&m(t,["parameters","negativePrompt"],s);const a=g(e,["enhancePrompt"]);if(void 0!==t&&null!=a&&m(t,["parameters","enhancePrompt"],a),void 0!==g(e,["generateAudio"]))throw new Error("generateAudio parameter is not supported in Gemini API.");const u=g(e,["lastFrame"]);void 0!==t&&null!=u&&m(t,["instances[0]","lastFrame"],Vn(u));const c=g(e,["referenceImages"]);if(void 0!==t&&null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=g(e,["image"]);null!=n&&m(t,["image"],Vn(n));const o=g(e,["referenceType"]);null!=o&&m(t,["referenceType"],o);return t}(e))),m(t,["instances[0]","referenceImages"],e)}if(void 0!==g(e,["mask"]))throw new Error("mask parameter is not supported in Gemini API.");if(void 0!==g(e,["compressionQuality"]))throw new Error("compressionQuality parameter is not supported in Gemini API.");return{}}function jn(e,t){const n=g(e,["numberOfVideos"]);void 0!==t&&null!=n&&m(t,["parameters","sampleCount"],n);const o=g(e,["outputGcsUri"]);void 0!==t&&null!=o&&m(t,["parameters","storageUri"],o);const r=g(e,["fps"]);void 0!==t&&null!=r&&m(t,["parameters","fps"],r);const i=g(e,["durationSeconds"]);void 0!==t&&null!=i&&m(t,["parameters","durationSeconds"],i);const l=g(e,["seed"]);void 0!==t&&null!=l&&m(t,["parameters","seed"],l);const s=g(e,["aspectRatio"]);void 0!==t&&null!=s&&m(t,["parameters","aspectRatio"],s);const a=g(e,["resolution"]);void 0!==t&&null!=a&&m(t,["parameters","resolution"],a);const u=g(e,["personGeneration"]);void 0!==t&&null!=u&&m(t,["parameters","personGeneration"],u);const c=g(e,["pubsubTopic"]);void 0!==t&&null!=c&&m(t,["parameters","pubsubTopic"],c);const d=g(e,["negativePrompt"]);void 0!==t&&null!=d&&m(t,["parameters","negativePrompt"],d);const p=g(e,["enhancePrompt"]);void 0!==t&&null!=p&&m(t,["parameters","enhancePrompt"],p);const f=g(e,["generateAudio"]);void 0!==t&&null!=f&&m(t,["parameters","generateAudio"],f);const h=g(e,["lastFrame"]);void 0!==t&&null!=h&&m(t,["instances[0]","lastFrame"],zn(h));const v=g(e,["referenceImages"]);if(void 0!==t&&null!=v){let e=v;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=g(e,["image"]);null!=n&&m(t,["image"],zn(n));const o=g(e,["referenceType"]);null!=o&&m(t,["referenceType"],o);return t}(e))),m(t,["instances[0]","referenceImages"],e)}const y=g(e,["mask"]);void 0!==t&&null!=y&&m(t,["instances[0]","mask"],function(e){const t={},n=g(e,["image"]);null!=n&&m(t,["_self"],zn(n));const o=g(e,["maskMode"]);null!=o&&m(t,["maskMode"],o);return t}(y));const b=g(e,["compressionQuality"]);return void 0!==t&&null!=b&&m(t,["parameters","compressionQuality"],b),{}}function Ln(e){const t={},n=g(e,["name"]);null!=n&&m(t,["name"],n);const o=g(e,["metadata"]);null!=o&&m(t,["metadata"],o);const r=g(e,["done"]);null!=r&&m(t,["done"],r);const i=g(e,["error"]);null!=i&&m(t,["error"],i);const l=g(e,["response","generateVideoResponse"]);return null!=l&&m(t,["response"],function(e){const t={},n=g(e,["generatedSamples"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=g(e,["video"]);null!=n&&m(t,["video"],function(e){const t={},n=g(e,["uri"]);null!=n&&m(t,["uri"],n);const o=g(e,["encodedVideo"]);null!=o&&m(t,["videoBytes"],Et(o));const r=g(e,["encoding"]);null!=r&&m(t,["mimeType"],r);return t}(n));return t}(e))),m(t,["generatedVideos"],e)}const o=g(e,["raiMediaFilteredCount"]);null!=o&&m(t,["raiMediaFilteredCount"],o);const r=g(e,["raiMediaFilteredReasons"]);null!=r&&m(t,["raiMediaFilteredReasons"],r);return t}(l)),t}function Un(e){const t={},n=g(e,["name"]);null!=n&&m(t,["name"],n);const o=g(e,["metadata"]);null!=o&&m(t,["metadata"],o);const r=g(e,["done"]);null!=r&&m(t,["done"],r);const i=g(e,["error"]);null!=i&&m(t,["error"],i);const l=g(e,["response"]);return null!=l&&m(t,["response"],function(e){const t={},n=g(e,["videos"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=g(e,["_self"]);null!=n&&m(t,["video"],function(e){const t={},n=g(e,["gcsUri"]);null!=n&&m(t,["uri"],n);const o=g(e,["bytesBase64Encoded"]);null!=o&&m(t,["videoBytes"],Et(o));const r=g(e,["mimeType"]);null!=r&&m(t,["mimeType"],r);return t}(n));return t}(e))),m(t,["generatedVideos"],e)}const o=g(e,["raiMediaFilteredCount"]);null!=o&&m(t,["raiMediaFilteredCount"],o);const r=g(e,["raiMediaFilteredReasons"]);null!=r&&m(t,["raiMediaFilteredReasons"],r);return t}(l)),t}function Fn(e,t){const n={},o=g(t,["model"]);null!=o&&m(n,["_url","model"],Xe(e,o));const r=g(t,["prompt"]);null!=r&&m(n,["instances[0]","prompt"],r);const i=g(t,["image"]);null!=i&&m(n,["instances[0]","image"],Vn(i));const l=g(t,["video"]);null!=l&&m(n,["instances[0]","video"],io(l));const s=g(t,["source"]);null!=s&&function(e,t){const n={},o=g(e,["prompt"]);void 0!==t&&null!=o&&m(t,["instances[0]","prompt"],o);const r=g(e,["image"]);void 0!==t&&null!=r&&m(t,["instances[0]","image"],Vn(r));const i=g(e,["video"]);void 0!==t&&null!=i&&m(t,["instances[0]","video"],io(i))}(s,n);const a=g(t,["config"]);return null!=a&&Mn(a,n),n}function qn(e,t){const n={},o=g(t,["model"]);null!=o&&m(n,["_url","model"],Xe(e,o));const r=g(t,["prompt"]);null!=r&&m(n,["instances[0]","prompt"],r);const i=g(t,["image"]);null!=i&&m(n,["instances[0]","image"],zn(i));const l=g(t,["video"]);null!=l&&m(n,["instances[0]","video"],lo(l));const s=g(t,["source"]);null!=s&&function(e,t){const n={},o=g(e,["prompt"]);void 0!==t&&null!=o&&m(t,["instances[0]","prompt"],o);const r=g(e,["image"]);void 0!==t&&null!=r&&m(t,["instances[0]","image"],zn(r));const i=g(e,["video"]);void 0!==t&&null!=i&&m(t,["instances[0]","video"],lo(i))}(s,n);const a=g(t,["config"]);return null!=a&&jn(a,n),n}function Gn(e){const t={},n=g(e,["_self"]);null!=n&&m(t,["image"],Hn(n));const o=g(e,["raiFilteredReason"]);null!=o&&m(t,["raiFilteredReason"],o);const r=g(e,["_self"]);null!=r&&m(t,["safetyAttributes"],$n(r));const i=g(e,["prompt"]);return null!=i&&m(t,["enhancedPrompt"],i),t}function Hn(e){const t={},n=g(e,["gcsUri"]);null!=n&&m(t,["gcsUri"],n);const o=g(e,["bytesBase64Encoded"]);null!=o&&m(t,["imageBytes"],Et(o));const r=g(e,["mimeType"]);return null!=r&&m(t,["mimeType"],r),t}function Vn(e){const t={};if(void 0!==g(e,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");const n=g(e,["imageBytes"]);null!=n&&m(t,["bytesBase64Encoded"],Et(n));const o=g(e,["mimeType"]);return null!=o&&m(t,["mimeType"],o),t}function zn(e){const t={},n=g(e,["gcsUri"]);null!=n&&m(t,["gcsUri"],n);const o=g(e,["imageBytes"]);null!=o&&m(t,["bytesBase64Encoded"],Et(o));const r=g(e,["mimeType"]);return null!=r&&m(t,["mimeType"],r),t}function Bn(e,t){const n={},o=g(t,["config"]);return null!=o&&function(e,t,n){const o=g(t,["pageSize"]);void 0!==n&&null!=o&&m(n,["_query","pageSize"],o);const r=g(t,["pageToken"]);void 0!==n&&null!=r&&m(n,["_query","pageToken"],r);const i=g(t,["filter"]);void 0!==n&&null!=i&&m(n,["_query","filter"],i);const l=g(t,["queryBase"]);void 0!==n&&null!=l&&m(n,["_url","models_url"],_t(e,l))}(e,o,n),n}function Jn(e,t){const n={},o=g(t,["config"]);return null!=o&&function(e,t,n){const o=g(t,["pageSize"]);void 0!==n&&null!=o&&m(n,["_query","pageSize"],o);const r=g(t,["pageToken"]);void 0!==n&&null!=r&&m(n,["_query","pageToken"],r);const i=g(t,["filter"]);void 0!==n&&null!=i&&m(n,["_query","filter"],i);const l=g(t,["queryBase"]);void 0!==n&&null!=l&&m(n,["_url","models_url"],_t(e,l))}(e,o,n),n}function Wn(e){const t={},n=g(e,["name"]);null!=n&&m(t,["name"],n);const o=g(e,["displayName"]);null!=o&&m(t,["displayName"],o);const r=g(e,["description"]);null!=r&&m(t,["description"],r);const i=g(e,["version"]);null!=i&&m(t,["version"],i);const l=g(e,["_self"]);null!=l&&m(t,["tunedModelInfo"],function(e){const t={},n=g(e,["baseModel"]);null!=n&&m(t,["baseModel"],n);const o=g(e,["createTime"]);null!=o&&m(t,["createTime"],o);const r=g(e,["updateTime"]);null!=r&&m(t,["updateTime"],r);return t}(l));const s=g(e,["inputTokenLimit"]);null!=s&&m(t,["inputTokenLimit"],s);const a=g(e,["outputTokenLimit"]);null!=a&&m(t,["outputTokenLimit"],a);const u=g(e,["supportedGenerationMethods"]);null!=u&&m(t,["supportedActions"],u);const c=g(e,["temperature"]);null!=c&&m(t,["temperature"],c);const d=g(e,["maxTemperature"]);null!=d&&m(t,["maxTemperature"],d);const p=g(e,["topP"]);null!=p&&m(t,["topP"],p);const f=g(e,["topK"]);null!=f&&m(t,["topK"],f);const h=g(e,["thinking"]);return null!=h&&m(t,["thinking"],h),t}function Yn(e){const t={},n=g(e,["name"]);null!=n&&m(t,["name"],n);const o=g(e,["displayName"]);null!=o&&m(t,["displayName"],o);const r=g(e,["description"]);null!=r&&m(t,["description"],r);const i=g(e,["versionId"]);null!=i&&m(t,["version"],i);const l=g(e,["deployedModels"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=g(e,["endpoint"]);null!=n&&m(t,["name"],n);const o=g(e,["deployedModelId"]);return null!=o&&m(t,["deployedModelId"],o),t}(e))),m(t,["endpoints"],e)}const s=g(e,["labels"]);null!=s&&m(t,["labels"],s);const a=g(e,["_self"]);null!=a&&m(t,["tunedModelInfo"],function(e){const t={},n=g(e,["labels","google-vertex-llm-tuning-base-model-id"]);null!=n&&m(t,["baseModel"],n);const o=g(e,["createTime"]);null!=o&&m(t,["createTime"],o);const r=g(e,["updateTime"]);null!=r&&m(t,["updateTime"],r);return t}(a));const u=g(e,["defaultCheckpointId"]);null!=u&&m(t,["defaultCheckpointId"],u);const c=g(e,["checkpoints"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>e)),m(t,["checkpoints"],e)}return t}function Kn(e,t){const n={},o=g(t,["model"]);null!=o&&m(n,["_url","model"],Xe(e,o));const r=g(t,["source"]);null!=r&&function(e,t){const n={},o=g(e,["prompt"]);void 0!==t&&null!=o&&m(t,["instances[0]","prompt"],o);const r=g(e,["personImage"]);void 0!==t&&null!=r&&m(t,["instances[0]","personImage","image"],zn(r));const i=g(e,["productImages"]);if(void 0!==t&&null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=g(e,["productImage"]);return null!=n&&m(t,["image"],zn(n)),t}(e))),m(t,["instances[0]","productImages"],e)}}(r,n);const i=g(t,["config"]);return null!=i&&function(e,t){const n=g(e,["numberOfImages"]);void 0!==t&&null!=n&&m(t,["parameters","sampleCount"],n);const o=g(e,["baseSteps"]);void 0!==t&&null!=o&&m(t,["parameters","baseSteps"],o);const r=g(e,["outputGcsUri"]);void 0!==t&&null!=r&&m(t,["parameters","storageUri"],r);const i=g(e,["seed"]);void 0!==t&&null!=i&&m(t,["parameters","seed"],i);const l=g(e,["safetyFilterLevel"]);void 0!==t&&null!=l&&m(t,["parameters","safetySetting"],l);const s=g(e,["personGeneration"]);void 0!==t&&null!=s&&m(t,["parameters","personGeneration"],s);const a=g(e,["addWatermark"]);void 0!==t&&null!=a&&m(t,["parameters","addWatermark"],a);const u=g(e,["outputMimeType"]);void 0!==t&&null!=u&&m(t,["parameters","outputOptions","mimeType"],u);const c=g(e,["outputCompressionQuality"]);void 0!==t&&null!=c&&m(t,["parameters","outputOptions","compressionQuality"],c);const d=g(e,["enhancePrompt"]);void 0!==t&&null!=d&&m(t,["parameters","enhancePrompt"],d);const p=g(e,["labels"]);void 0!==t&&null!=p&&m(t,["labels"],p)}(i,n),n}function Qn(e){const t={},n=g(e,["safetyAttributes","categories"]);null!=n&&m(t,["categories"],n);const o=g(e,["safetyAttributes","scores"]);null!=o&&m(t,["scores"],o);const r=g(e,["contentType"]);return null!=r&&m(t,["contentType"],r),t}function $n(e){const t={},n=g(e,["safetyAttributes","categories"]);null!=n&&m(t,["categories"],n);const o=g(e,["safetyAttributes","scores"]);null!=o&&m(t,["scores"],o);const r=g(e,["contentType"]);return null!=r&&m(t,["contentType"],r),t}function Xn(e,t){const n={},o=g(t,["model"]);null!=o&&m(n,["_url","model"],Xe(e,o));const r=g(t,["source"]);null!=r&&function(e,t){const n={},o=g(e,["prompt"]);void 0!==t&&null!=o&&m(t,["instances[0]","prompt"],o);const r=g(e,["image"]);void 0!==t&&null!=r&&m(t,["instances[0]","image"],zn(r));const i=g(e,["scribbleImage"]);void 0!==t&&null!=i&&m(t,["instances[0]","scribble"],function(e){const t={},n=g(e,["image"]);return null!=n&&m(t,["image"],zn(n)),t}(i))}(r,n);const i=g(t,["config"]);return null!=i&&function(e,t){const n=g(e,["mode"]);void 0!==t&&null!=n&&m(t,["parameters","mode"],n);const o=g(e,["maxPredictions"]);void 0!==t&&null!=o&&m(t,["parameters","maxPredictions"],o);const r=g(e,["confidenceThreshold"]);void 0!==t&&null!=r&&m(t,["parameters","confidenceThreshold"],r);const i=g(e,["maskDilation"]);void 0!==t&&null!=i&&m(t,["parameters","maskDilation"],i);const l=g(e,["binaryColorThreshold"]);void 0!==t&&null!=l&&m(t,["parameters","binaryColorThreshold"],l);const s=g(e,["labels"]);void 0!==t&&null!=s&&m(t,["labels"],s)}(i,n),n}function Zn(e){const t={},n=g(e,["predictions"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=g(e,["_self"]);null!=n&&m(t,["mask"],Hn(n));const o=g(e,["labels"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),m(t,["labels"],e)}return t}(e))),m(t,["generatedMasks"],e)}return t}function eo(e){const t={},n=g(e,["languageCode"]);null!=n&&m(t,["languageCode"],n);const o=g(e,["voiceConfig"]);if(null!=o&&m(t,["voiceConfig"],o),void 0!==g(e,["multiSpeakerVoiceConfig"]))throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function to(e){const t={},n=g(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==g(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(e,["description"]);null!=n&&m(t,["description"],n);const o=g(e,["name"]);null!=o&&m(t,["name"],o);const r=g(e,["parameters"]);null!=r&&m(t,["parameters"],r);const i=g(e,["parametersJsonSchema"]);null!=i&&m(t,["parametersJsonSchema"],i);const l=g(e,["response"]);null!=l&&m(t,["response"],l);const s=g(e,["responseJsonSchema"]);return null!=s&&m(t,["responseJsonSchema"],s),t}(e))),m(t,["functionDeclarations"],e)}const o=g(e,["retrieval"]);null!=o&&m(t,["retrieval"],o);const r=g(e,["googleSearchRetrieval"]);null!=r&&m(t,["googleSearchRetrieval"],r);const i=g(e,["computerUse"]);if(null!=i&&m(t,["computerUse"],i),void 0!==g(e,["fileSearch"]))throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=g(e,["codeExecution"]);null!=l&&m(t,["codeExecution"],l);const s=g(e,["enterpriseWebSearch"]);null!=s&&m(t,["enterpriseWebSearch"],s);const a=g(e,["googleMaps"]);null!=a&&m(t,["googleMaps"],a);const u=g(e,["googleSearch"]);null!=u&&m(t,["googleSearch"],u);const c=g(e,["urlContext"]);return null!=c&&m(t,["urlContext"],c),t}function no(e,t){const n={},o=g(t,["model"]);null!=o&&m(n,["_url","name"],Xe(e,o));const r=g(t,["config"]);return null!=r&&function(e,t){const n=g(e,["displayName"]);void 0!==t&&null!=n&&m(t,["displayName"],n);const o=g(e,["description"]);void 0!==t&&null!=o&&m(t,["description"],o);const r=g(e,["defaultCheckpointId"]);void 0!==t&&null!=r&&m(t,["defaultCheckpointId"],r)}(r,n),n}function oo(e,t){const n={},o=g(t,["model"]);null!=o&&m(n,["_url","model"],Xe(e,o));const r=g(t,["config"]);return null!=r&&function(e,t){const n=g(e,["displayName"]);void 0!==t&&null!=n&&m(t,["displayName"],n);const o=g(e,["description"]);void 0!==t&&null!=o&&m(t,["description"],o);const r=g(e,["defaultCheckpointId"]);void 0!==t&&null!=r&&m(t,["defaultCheckpointId"],r)}(r,n),n}function ro(e,t){const n={},o=g(t,["model"]);null!=o&&m(n,["_url","model"],Xe(e,o));const r=g(t,["image"]);null!=r&&m(n,["instances[0]","image"],zn(r));const i=g(t,["upscaleFactor"]);null!=i&&m(n,["parameters","upscaleConfig","upscaleFactor"],i);const l=g(t,["config"]);return null!=l&&function(e,t){const n=g(e,["outputGcsUri"]);void 0!==t&&null!=n&&m(t,["parameters","storageUri"],n);const o=g(e,["safetyFilterLevel"]);void 0!==t&&null!=o&&m(t,["parameters","safetySetting"],o);const r=g(e,["personGeneration"]);void 0!==t&&null!=r&&m(t,["parameters","personGeneration"],r);const i=g(e,["includeRaiReason"]);void 0!==t&&null!=i&&m(t,["parameters","includeRaiReason"],i);const l=g(e,["outputMimeType"]);void 0!==t&&null!=l&&m(t,["parameters","outputOptions","mimeType"],l);const s=g(e,["outputCompressionQuality"]);void 0!==t&&null!=s&&m(t,["parameters","outputOptions","compressionQuality"],s);const a=g(e,["enhanceInputImage"]);void 0!==t&&null!=a&&m(t,["parameters","upscaleConfig","enhanceInputImage"],a);const u=g(e,["imagePreservationFactor"]);void 0!==t&&null!=u&&m(t,["parameters","upscaleConfig","imagePreservationFactor"],u);const c=g(e,["labels"]);void 0!==t&&null!=c&&m(t,["labels"],c);const d=g(e,["numberOfImages"]);void 0!==t&&null!=d&&m(t,["parameters","sampleCount"],d);const p=g(e,["mode"]);void 0!==t&&null!=p&&m(t,["parameters","mode"],p)}(l,n),n}function io(e){const t={},n=g(e,["uri"]);null!=n&&m(t,["uri"],n);const o=g(e,["videoBytes"]);null!=o&&m(t,["encodedVideo"],Et(o));const r=g(e,["mimeType"]);return null!=r&&m(t,["encoding"],r),t}function lo(e){const t={},n=g(e,["uri"]);null!=n&&m(t,["gcsUri"],n);const o=g(e,["videoBytes"]);null!=o&&m(t,["bytesBase64Encoded"],Et(o));const r=g(e,["mimeType"]);return null!=r&&m(t,["mimeType"],r),t}const so="x-goog-api-client",ao="google-genai-sdk/".concat("1.30.0"),uo=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class co{constructor(e){var t,n;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=null!==(t=this.clientOptions.apiVersion)&&void 0!==t?t:"v1beta1",o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=null!==(n=this.clientOptions.apiVersion)&&void 0!==n?n:"v1beta",o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&"global"!==this.clientOptions.location?"https://".concat(this.clientOptions.location,"-aiplatform.googleapis.com/"):"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:(this.clientOptions.project=void 0,this.clientOptions.location=void 0)}isVertexAI(){var e;return null!==(e=this.clientOptions.vertexai)&&void 0!==e&&e}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.apiVersion)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.baseUrl)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.headers)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||void 0===e.baseUrl||void 0===e.apiVersion)throw new Error("HTTP options are not correctly set.");const t=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&""!==e.apiVersion&&t.push(e.apiVersion),t.join("/")}getBaseResourcePath(){return"projects/".concat(this.clientOptions.project,"/locations/").concat(this.clientOptions.location)}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol="http:"==t.protocol?"ws":"wss",t.toString()}setBaseUrl(e){if(!this.clientOptions.httpOptions)throw new Error("HTTP options are not correctly set.");this.clientOptions.httpOptions.baseUrl=e}constructUrl(e,t,n){const o=[this.getRequestUrlInternal(t)];n&&o.push(this.getBaseResourcePath()),""!==e&&o.push(e);return new URL("".concat(o.join("/")))}shouldPrependVertexProjectPath(e){return!this.clientOptions.apiKey&&(!!this.clientOptions.vertexai&&(!e.path.startsWith("projects/")&&("GET"!==e.httpMethod||!e.path.startsWith("publishers/google/models"))))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,t,n);if(e.queryParams)for(const[i,l]of Object.entries(e.queryParams))o.searchParams.append(i,String(l));let r={};if("GET"===e.httpMethod){if(e.body&&"{}"!==e.body)throw new Error("Request body should be empty for GET request, but got non empty request body")}else r.body=e.body;return r=await this.includeExtraHttpOptionsToRequestInit(r,t,o.toString(),e.abortSignal),this.unaryApiCall(o,r,e.httpMethod)}patchHttpOptions(e,t){const n=JSON.parse(JSON.stringify(e));for(const[o,r]of Object.entries(t))"object"===typeof r?n[o]=Object.assign(Object.assign({},n[o]),r):void 0!==r&&(n[o]=r);return n}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,t,n);o.searchParams.has("alt")&&"sse"===o.searchParams.get("alt")||o.searchParams.set("alt","sse");let r={};return r.body=e.body,r=await this.includeExtraHttpOptionsToRequestInit(r,t,o.toString(),e.abortSignal),this.streamApiCall(o,r,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,n,o){if(t&&t.timeout||o){const n=new AbortController,r=n.signal;if(t.timeout&&(null===t||void 0===t?void 0:t.timeout)>0){const e=setTimeout(()=>n.abort(),t.timeout);e&&"function"===typeof e.unref&&e.unref()}o&&o.addEventListener("abort",()=>{n.abort()}),e.signal=r}return t&&null!==t.extraBody&&function(e,t){if(!t||0===Object.keys(t).length)return;if(e.body instanceof Blob)return void console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");let n={};if("string"===typeof e.body&&e.body.length>0)try{const t=JSON.parse(e.body);if("object"!==typeof t||null===t||Array.isArray(t))return void console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");n=t}catch(i){return void console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.")}function o(e,t){const n=Object.assign({},e);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const e=t[r],i=n[r];e&&"object"===typeof e&&!Array.isArray(e)&&i&&"object"===typeof i&&!Array.isArray(i)?n[r]=o(i,e):(i&&e&&typeof i!==typeof e&&console.warn('includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "'.concat(r,'". Original type: ').concat(typeof i,", New type: ").concat(typeof e,". Overwriting.")),n[r]=e)}return n}const r=o(n,t);e.body=JSON.stringify(r)}(e,t.extraBody),e.headers=await this.getHeadersInternal(t,n),e}async unaryApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then(async e=>(await po(e),new Te(e))).catch(e=>{throw e instanceof Error?e:new Error(JSON.stringify(e))})}async streamApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then(async e=>(await po(e),this.processStreamResponse(e))).catch(e=>{throw e instanceof Error?e:new Error(JSON.stringify(e))})}processStreamResponse(e){var t;return Zt(this,arguments,function*(){const n=null===(t=null===e||void 0===e?void 0:e.body)||void 0===t?void 0:t.getReader(),o=new TextDecoder("utf-8");if(!n)throw new Error("Response body is empty");try{let t="";for(;;){const{done:i,value:l}=yield Xt(n.read());if(i){if(t.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const s=o.decode(l,{stream:!0});try{const e=JSON.parse(s);if("error"in e){const t=JSON.parse(JSON.stringify(e.error)),n=t.status,o=t.code,r="got status: ".concat(n,". ").concat(JSON.stringify(e));if(o>=400&&o<600){throw new sn({message:r,status:o})}}}catch(r){if("ApiError"===r.name)throw r}t+=s;let a=t.match(uo);for(;a;){const n=a[1];try{const o=new Response(n,{headers:null===e||void 0===e?void 0:e.headers,status:null===e||void 0===e?void 0:e.status,statusText:null===e||void 0===e?void 0:e.statusText});yield yield Xt(new Te(o)),t=t.slice(a[0].length),a=t.match(uo)}catch(r){throw new Error("exception parsing stream chunk ".concat(n,". ").concat(r))}}}}finally{n.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(e=>{throw new Error("exception ".concat(e," sending request"))})}getDefaultHeaders(){const e={},t=ao+" "+this.clientOptions.userAgentExtra;return e["User-Agent"]=t,e[so]=t,e["Content-Type"]="application/json",e}async getHeadersInternal(e,t){const n=new Headers;if(e&&e.headers){for(const[t,o]of Object.entries(e.headers))n.append(t,o);e.timeout&&e.timeout>0&&n.append("X-Server-Timeout",String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n,t),n}getFileName(e){var t;let n="";return"string"===typeof e&&(n=e.replace(/[/\\]+$/,""),n=null!==(t=n.split(/[/\\]/).pop())&&void 0!==t?t:""),n}async uploadFile(e,t){var n;const o={};null!=t&&(o.mimeType=t.mimeType,o.name=t.name,o.displayName=t.displayName),o.name&&!o.name.startsWith("files/")&&(o.name="files/".concat(o.name));const r=this.clientOptions.uploader,i=await r.stat(e);o.sizeBytes=String(i.size);const l=null!==(n=null===t||void 0===t?void 0:t.mimeType)&&void 0!==n?n:i.type;if(void 0===l||""===l)throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=l;const s={file:o},a=this.getFileName(e),u=h("upload/v1beta/files",s._url),c=await this.fetchUploadUrl(u,o.sizeBytes,o.mimeType,a,s,null===t||void 0===t?void 0:t.httpOptions);return r.upload(e,c,this)}async uploadFileToFileSearchStore(e,t,n){var o;const r=this.clientOptions.uploader,i=await r.stat(t),l=String(i.size),s=null!==(o=null===n||void 0===n?void 0:n.mimeType)&&void 0!==o?o:i.type;if(void 0===s||""===s)throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const a="upload/v1beta/".concat(e,":uploadToFileSearchStore"),u=this.getFileName(t),c={};(null===n||void 0===n?void 0:n.customMetadata)&&(c.customMetadata=n.customMetadata),(null===n||void 0===n?void 0:n.chunkingConfig)&&(c.chunkingConfig=n.chunkingConfig);const d=await this.fetchUploadUrl(a,l,s,u,c,null===n||void 0===n?void 0:n.httpOptions);return r.uploadToFileSearchStore(t,d,this)}async downloadFile(e){const t=this.clientOptions.downloader;await t.download(e,this)}async fetchUploadUrl(e,t,n,o,r,i){var l;let s={};s=i||{apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(t),"X-Goog-Upload-Header-Content-Type":"".concat(n)},o?{"X-Goog-Upload-File-Name":o}:{})};const a=await this.request({path:e,body:JSON.stringify(r),httpMethod:"POST",httpOptions:s});if(!a||!(null===a||void 0===a?void 0:a.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=null===(l=null===a||void 0===a?void 0:a.headers)||void 0===l?void 0:l["x-goog-upload-url"];if(void 0===u)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function po(e){var t;if(void 0===e)throw new Error("response is undefined");if(!e.ok){const n=e.status;let o;o=(null===(t=e.headers.get("content-type"))||void 0===t?void 0:t.includes("application/json"))?await e.json():{error:{message:await e.text(),code:e.status,status:e.statusText}};const r=JSON.stringify(o);if(n>=400&&n<600){throw new sn({message:r,status:n})}throw new Error(r)}}let fo=!1;function ho(e){for(const t of e){if(go(t))return!0;if("object"===typeof t&&"inputSchema"in t)return!0}return fo}function mo(e){var t;const n=null!==(t=e[so])&&void 0!==t?t:"";e[so]=(n+" ".concat("mcp_used/unknown")).trimStart()}function go(e){return null!==e&&"object"===typeof e&&e instanceof yo}function vo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return Zt(this,arguments,function*(){let n,o=0;for(;o<t;){const t=yield Xt(e.listTools({cursor:n}));for(const e of t.tools)yield yield Xt(e),o++;if(!t.nextCursor)break;n=t.nextCursor}})}class yo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new yo(e,t)}async initialize(){var e,t,n,o;if(this.mcpTools.length>0)return;const r={},i=[];for(const c of this.mcpClients)try{for(var l,s=!0,a=(t=void 0,en(vo(c)));!(e=(l=await a.next()).done);s=!0){o=l.value,s=!1;const e=o;i.push(e);const t=e.name;if(r[t])throw new Error("Duplicate function name ".concat(t," found in MCP tools. Please ensure function names are unique."));r[t]=c}}catch(u){t={error:u}}finally{try{s||e||!(n=a.return)||await n.call(a)}finally{if(t)throw t.error}}this.mcpTools=i,this.functionNameToMcpClient=r}async tool(){return await this.initialize(),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[],o=new Set;for(const r of e){const e=r.name;if(o.has(e))throw new Error("Duplicate function name ".concat(e," found in MCP tools. Please ensure function names are unique."));o.add(e);const i=Tt(r,t);i.functionDeclarations&&n.push(...i.functionDeclarations)}return{functionDeclarations:n}}(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const n of e)if(n.name in this.functionNameToMcpClient){const e=this.functionNameToMcpClient[n.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const r=await e.callTool({name:n.name,arguments:n.args},void 0,o);t.push({functionResponse:{name:n.name,response:r.isError?{error:r}:r}})}return t}}class bo{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n}async connect(e){var t,n;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),r=this.apiClient.getApiVersion(),i=function(e){const t=new Headers;for(const[n,o]of Object.entries(e))t.append(n,o);return t}(this.apiClient.getDefaultHeaders()),l=this.apiClient.getApiKey(),s="".concat(o,"/ws/google.ai.generativelanguage.").concat(r,".GenerativeService.BidiGenerateMusic?key=").concat(l);let a=()=>{};const u=new Promise(e=>{a=e}),c=e.callbacks,d=(this.apiClient,{onopen:function(){a({})},onmessage:e=>{!async function(e,t,n){const o=new Qe;let r;r=n.data instanceof Blob?JSON.parse(await n.data.text()):JSON.parse(n.data),Object.assign(o,r),t(o)}(0,c.onmessage,e)},onerror:null!==(t=null===c||void 0===c?void 0:c.onerror)&&void 0!==t?t:function(e){},onclose:null!==(n=null===c||void 0===c?void 0:c.onclose)&&void 0!==n?n:function(e){}}),p=this.webSocketFactory.create(s,function(e){const t={};return e.forEach((e,n)=>{t[n]=e}),t}(i),d);p.connect(),await u;const f={setup:{model:Xe(this.apiClient,e.model)}};return p.send(JSON.stringify(f)),new Eo(p,this.apiClient)}}class Eo{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||0===Object.keys(e.weightedPrompts).length)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=function(e){const t={},n=g(e,["weightedPrompts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),m(t,["weightedPrompts"],e)}return t}(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=function(e){const t={},n=g(e,["musicGenerationConfig"]);return null!=n&&m(t,["musicGenerationConfig"],n),t}(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Ce.PLAY)}pause(){this.sendPlaybackControl(Ce.PAUSE)}stop(){this.sendPlaybackControl(Ce.STOP)}resetContext(){this.sendPlaybackControl(Ce.RESET_CONTEXT)}close(){this.conn.close()}}class So{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n,this.music=new bo(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,n,o,r,i,l;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const s=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion();let u;const c=this.apiClient.getHeaders();e.config&&e.config.tools&&ho(e.config.tools)&&mo(c);const d=function(e){const t=new Headers;for(const[n,o]of Object.entries(e))t.append(n,o);return t}(c);if(this.apiClient.isVertexAI())u="".concat(s,"/ws/google.cloud.aiplatform.").concat(a,".LlmBidiService/BidiGenerateContent"),await this.auth.addAuthHeaders(d,u);else{const e=this.apiClient.getApiKey();let t="BidiGenerateContent",n="key";(null===e||void 0===e?void 0:e.startsWith("auth_tokens/"))&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),"v1alpha"!==a&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),t="BidiGenerateContentConstrained",n="access_token"),u="".concat(s,"/ws/google.ai.generativelanguage.").concat(a,".GenerativeService.").concat(t,"?").concat(n,"=").concat(e)}let p=()=>{};const f=new Promise(e=>{p=e}),h=e.callbacks,v=this.apiClient,y={onopen:function(){var e;null===(e=null===h||void 0===h?void 0:h.onopen)||void 0===e||e.call(h),p({})},onmessage:e=>{!async function(e,t,n){const o=new Ke;let r;r=n.data instanceof Blob?await n.data.text():n.data instanceof ArrayBuffer?(new TextDecoder).decode(n.data):n.data;const i=JSON.parse(r);if(e.isVertexAI()){const e=gn(i);Object.assign(o,e)}else{const e=i;Object.assign(o,e)}t(o)}(v,h.onmessage,e)},onerror:null!==(t=null===h||void 0===h?void 0:h.onerror)&&void 0!==t?t:function(e){},onclose:null!==(n=null===h||void 0===h?void 0:h.onclose)&&void 0!==n?n:function(e){}},b=this.webSocketFactory.create(u,function(e){const t={};return e.forEach((e,n)=>{t[n]=e}),t}(d),y);b.connect(),await f;let E=Xe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&E.startsWith("publishers/")){const e=this.apiClient.getProject(),t=this.apiClient.getLocation();E="projects/".concat(e,"/locations/").concat(t,"/")+E}let S={};this.apiClient.isVertexAI()&&void 0===(null===(o=e.config)||void 0===o?void 0:o.responseModalities)&&(void 0===e.config?e.config={responseModalities:[H.AUDIO]}:e.config.responseModalities=[H.AUDIO]),(null===(r=e.config)||void 0===r?void 0:r.generationConfig)&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const _=null!==(l=null===(i=e.config)||void 0===i?void 0:i.tools)&&void 0!==l?l:[],C=[];for(const m of _)if(this.isCallableTool(m)){const e=m;C.push(await e.tool())}else C.push(m);C.length>0&&(e.config.tools=C);const w={model:E,config:e.config,callbacks:e.callbacks};return S=this.apiClient.isVertexAI()?function(e,t){const n={},o=g(t,["model"]);null!=o&&m(n,["setup","model"],Xe(e,o));const r=g(t,["config"]);return null!=r&&m(n,["config"],fn(r,n)),n}(this.apiClient,w):function(e,t){const n={},o=g(t,["model"]);null!=o&&m(n,["setup","model"],Xe(e,o));const r=g(t,["config"]);return null!=r&&m(n,["config"],pn(r,n)),n}(this.apiClient,w),delete S.config,b.send(JSON.stringify(S)),new Co(b,this.apiClient)}isCallableTool(e){return"callTool"in e&&"function"===typeof e.callTool}}const _o={turnComplete:!0};class Co{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(null!==t.turns&&void 0!==t.turns){let o=[];try{o=dt(t.turns),e.isVertexAI()||(o=o.map(e=>En(e)))}catch(n){throw new Error('Failed to parse client content "turns", type: \''.concat(typeof t.turns,"'"))}return{clientContent:{turns:o,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let n=[];if(null==t.functionResponses)throw new Error("functionResponses is required.");if(n=Array.isArray(t.functionResponses)?t.functionResponses:[t.functionResponses],0===n.length)throw new Error("functionResponses is required.");for(const o of n){if("object"!==typeof o||null===o||!("name"in o)||!("response"in o))throw new Error("Could not parse function response, type '".concat(typeof o,"'."));if(!e.isVertexAI()&&!("id"in o))throw new Error("FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.")}return{toolResponse:{functionResponses:n}}}sendClientContent(e){e=Object.assign(Object.assign({},_o),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};t=this.apiClient.isVertexAI()?{realtimeInput:mn(e)}:{realtimeInput:hn(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(null==e.functionResponses)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function wo(e){var t,n,o;if(null===(t=null===e||void 0===e?void 0:e.automaticFunctionCalling)||void 0===t?void 0:t.disable)return!0;let r=!1;for(const l of null!==(n=null===e||void 0===e?void 0:e.tools)&&void 0!==n?n:[])if(To(l)){r=!0;break}if(!r)return!0;const i=null===(o=null===e||void 0===e?void 0:e.automaticFunctionCalling)||void 0===o?void 0:o.maximumRemoteCalls;return!!(i&&(i<0||!Number.isInteger(i))||0==i)&&(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0)}function To(e){return"callTool"in e&&"function"===typeof e.callTool}function Io(e){var t;const n=[];return(null===(t=null===e||void 0===e?void 0:e.config)||void 0===t?void 0:t.tools)?(e.config.tools.forEach((e,t)=>{if(To(e))return;const o=e;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(t)}),n):n}function xo(e){var t;return!(null===(t=null===e||void 0===e?void 0:e.automaticFunctionCalling)||void 0===t?void 0:t.ignoreCallHistory)}class No extends f{constructor(e){super(),this.apiClient=e,this.generateContent=async e=>{var t,n,o,r,i;const l=await this.processParamsMaybeAddMcpUsage(e);if(this.maybeMoveToResponseJsonSchem(e),!function(e){var t,n,o;return null!==(o=null===(n=null===(t=e.config)||void 0===t?void 0:t.tools)||void 0===n?void 0:n.some(e=>To(e)))&&void 0!==o&&o}(e)||wo(e.config))return await this.generateContentInternal(l);const s=Io(e);if(s.length>0){const e=s.map(e=>"tools[".concat(e,"]")).join(", ");throw new Error("Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ".concat(e,"."))}let a,u;const c=dt(l.contents),d=null!==(o=null===(n=null===(t=l.config)||void 0===t?void 0:t.automaticFunctionCalling)||void 0===n?void 0:n.maximumRemoteCalls)&&void 0!==o?o:10;let p=0;for(;p<d&&(a=await this.generateContentInternal(l),a.functionCalls&&0!==a.functionCalls.length);){const t=a.candidates[0].content,n=[];for(const o of null!==(i=null===(r=e.config)||void 0===r?void 0:r.tools)&&void 0!==i?i:[])if(To(o)){const e=o,t=await e.callTool(a.functionCalls);n.push(...t)}p++,u={role:"user",parts:n},l.contents=dt(l.contents),l.contents.push(t),l.contents.push(u),xo(l.config)&&(c.push(t),c.push(u))}return xo(l.config)&&(a.automaticFunctionCallingHistory=c),a},this.generateContentStream=async e=>{var t,n,o,r,i;if(this.maybeMoveToResponseJsonSchem(e),wo(e.config)){const t=await this.processParamsMaybeAddMcpUsage(e);return await this.generateContentStreamInternal(t)}const l=Io(e);if(l.length>0){const e=l.map(e=>"tools[".concat(e,"]")).join(", ");throw new Error("Incompatible tools found at ".concat(e,'. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.'))}const s=null===(o=null===(n=null===(t=null===e||void 0===e?void 0:e.config)||void 0===t?void 0:t.toolConfig)||void 0===n?void 0:n.functionCallingConfig)||void 0===o?void 0:o.streamFunctionCallArguments,a=null===(i=null===(r=null===e||void 0===e?void 0:e.config)||void 0===r?void 0:r.automaticFunctionCalling)||void 0===i?void 0:i.disable;if(s&&!a)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(e)},this.generateImages=async e=>await this.generateImagesInternal(e).then(e=>{var t;let n;const o=[];if(null===e||void 0===e?void 0:e.generatedImages)for(const i of e.generatedImages)i&&(null===i||void 0===i?void 0:i.safetyAttributes)&&"Positive Prompt"===(null===(t=null===i||void 0===i?void 0:i.safetyAttributes)||void 0===t?void 0:t.contentType)?n=null===i||void 0===i?void 0:i.safetyAttributes:o.push(i);let r;return r=n?{generatedImages:o,positivePromptSafetyAttributes:n,sdkHttpResponse:e.sdkHttpResponse}:{generatedImages:o,sdkHttpResponse:e.sdkHttpResponse},r}),this.list=async e=>{var t;const n={config:Object.assign(Object.assign({},{queryBase:!0}),null===e||void 0===e?void 0:e.config)};if(this.apiClient.isVertexAI()&&!n.config.queryBase){if(null===(t=n.config)||void 0===t?void 0:t.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");n.config.filter="labels.tune-type:*"}return new Gt(we.PAGED_ITEM_MODELS,e=>this.listInternal(e),await this.listInternal(n),n)},this.editImage=async e=>{const t={model:e.model,prompt:e.prompt,referenceImages:[],config:e.config};return e.referenceImages&&e.referenceImages&&(t.referenceImages=e.referenceImages.map(e=>e.toReferenceImageAPI())),await this.editImageInternal(t)},this.upscaleImage=async e=>{let t={numberOfImages:1,mode:"upscale"};e.config&&(t=Object.assign(Object.assign({},t),e.config));const n={model:e.model,image:e.image,upscaleFactor:e.upscaleFactor,config:t};return await this.upscaleImageInternal(n)},this.generateVideos=async e=>{var t,n,o,r,i,l;if((e.prompt||e.image||e.video)&&e.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||((null===(t=e.video)||void 0===t?void 0:t.uri)&&(null===(n=e.video)||void 0===n?void 0:n.videoBytes)?e.video={uri:e.video.uri,mimeType:e.video.mimeType}:(null===(r=null===(o=e.source)||void 0===o?void 0:o.video)||void 0===r?void 0:r.uri)&&(null===(l=null===(i=e.source)||void 0===i?void 0:i.video)||void 0===l?void 0:l.videoBytes)&&(e.source.video={uri:e.source.video.uri,mimeType:e.source.video.mimeType})),await this.generateVideosInternal(e)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,n,o;const r=null===(t=e.config)||void 0===t?void 0:t.tools;if(!r)return e;const i=await Promise.all(r.map(async e=>{if(To(e)){const t=e;return await t.tool()}return e})),l={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:i})};if(l.config.tools=i,e.config&&e.config.tools&&ho(e.config.tools)){const t=null!==(o=null===(n=e.config.httpOptions)||void 0===n?void 0:n.headers)&&void 0!==o?o:{};let r=Object.assign({},t);0===Object.keys(r).length&&(r=this.apiClient.getDefaultHeaders()),mo(r),l.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:r})}return l}async initAfcToolsMap(e){var t,n,o;const r=new Map;for(const i of null!==(n=null===(t=e.config)||void 0===t?void 0:t.tools)&&void 0!==n?n:[])if(To(i)){const e=i,t=await e.tool();for(const n of null!==(o=t.functionDeclarations)&&void 0!==o?o:[]){if(!n.name)throw new Error("Function declaration name is required.");if(r.has(n.name))throw new Error("Duplicate tool declaration name: ".concat(n.name));r.set(n.name,e)}}return r}async processAfcStream(e){var t,n,o;const r=null!==(o=null===(n=null===(t=e.config)||void 0===t?void 0:t.automaticFunctionCalling)||void 0===n?void 0:n.maximumRemoteCalls)&&void 0!==o?o:10;let i=!1,l=0;return function(e,t,n){var o,s;return Zt(this,arguments,function*(){for(var a,u,c,d;l<r;){i&&(l++,i=!1);const g=yield Xt(e.processParamsMaybeAddMcpUsage(n)),v=yield Xt(e.generateContentStreamInternal(g)),y=[],b=[];try{for(var p,f=!0,h=(u=void 0,en(v));!(a=(p=yield Xt(h.next())).done);f=!0){d=p.value,f=!1;const e=d;if(yield yield Xt(e),e.candidates&&(null===(o=e.candidates[0])||void 0===o?void 0:o.content)){b.push(e.candidates[0].content);for(const n of null!==(s=e.candidates[0].content.parts)&&void 0!==s?s:[])if(l<r&&n.functionCall){if(!n.functionCall.name)throw new Error("Function call name was not returned by the model.");if(!t.has(n.functionCall.name))throw new Error("Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ".concat(t.keys(),", mising tool: ").concat(n.functionCall.name));{const e=yield Xt(t.get(n.functionCall.name).callTool([n.functionCall]));y.push(...e)}}}}}catch(m){u={error:m}}finally{try{f||a||!(c=h.return)||(yield Xt(c.call(h)))}finally{if(u)throw u.error}}if(!(y.length>0))break;{i=!0;const e=new Ie;e.candidates=[{content:{role:"user",parts:y}}],yield yield Xt(e);const t=[];t.push(...b),t.push({role:"user",parts:y});const o=dt(n.contents).concat(t);n.contents=o}}})}(this,await this.initAfcToolsMap(e),e)}async generateContentInternal(e){var t,n,o,r;let i,l="",s={};if(this.apiClient.isVertexAI()){const o=An(this.apiClient,e);return l=h("{model}:generateContent",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=kn(e),n=new Ie;return Object.assign(n,t),n})}{const t=Nn(this.apiClient,e);return l=h("{model}:generateContent",t._url),s=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=On(e),n=new Ie;return Object.assign(n,t),n})}}async generateContentStreamInternal(e){var t,n,o,r;let i,l="",s={};if(this.apiClient.isVertexAI()){const o=An(this.apiClient,e);l=h("{model}:streamGenerateContent?alt=sse",o._url),s=o._query,delete o._url,delete o._query;return i=this.apiClient.requestStream({path:l,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}),i.then(function(e){return Zt(this,arguments,function*(){var t,n,o,r;try{for(var i,l=!0,s=en(e);!(t=(i=yield Xt(s.next())).done);l=!0){r=i.value,l=!1;const e=r,t=kn(yield Xt(e.json()));t.sdkHttpResponse={headers:e.headers};const n=new Ie;Object.assign(n,t),yield yield Xt(n)}}catch(a){n={error:a}}finally{try{l||t||!(o=s.return)||(yield Xt(o.call(s)))}finally{if(n)throw n.error}}})})}{const t=Nn(this.apiClient,e);l=h("{model}:streamGenerateContent?alt=sse",t._url),s=t._query,delete t._url,delete t._query;return i=this.apiClient.requestStream({path:l,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}),i.then(function(e){return Zt(this,arguments,function*(){var t,n,o,r;try{for(var i,l=!0,s=en(e);!(t=(i=yield Xt(s.next())).done);l=!0){r=i.value,l=!1;const e=r,t=On(yield Xt(e.json()));t.sdkHttpResponse={headers:e.headers};const n=new Ie;Object.assign(n,t),yield yield Xt(n)}}catch(a){n={error:a}}finally{try{l||t||!(o=s.return)||(yield Xt(o.call(s)))}finally{if(n)throw n.error}}})})}}async embedContent(e){var t,n,o,r;let i,l="",s={};if(this.apiClient.isVertexAI()){const o=Tn(this.apiClient,e);return l=h("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&m(t,["sdkHttpResponse"],n);const o=g(e,["predictions[]","embeddings"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>bn(e))),m(t,["embeddings"],e)}const r=g(e,["metadata"]);return null!=r&&m(t,["metadata"],r),t}(e),n=new xe;return Object.assign(n,t),n})}{const t=wn(this.apiClient,e);return l=h("{model}:batchEmbedContents",t._url),s=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&m(t,["sdkHttpResponse"],n);const o=g(e,["embeddings"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),m(t,["embeddings"],e)}const r=g(e,["metadata"]);return null!=r&&m(t,["metadata"],r),t}(e),n=new xe;return Object.assign(n,t),n})}}async generateImagesInternal(e){var t,n,o,r;let i,l="",s={};if(this.apiClient.isVertexAI()){const o=Rn(this.apiClient,e);return l=h("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&m(t,["sdkHttpResponse"],n);const o=g(e,["predictions"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>Gn(e))),m(t,["generatedImages"],e)}const r=g(e,["positivePromptSafetyAttributes"]);return null!=r&&m(t,["positivePromptSafetyAttributes"],$n(r)),t}(e),n=new Ne;return Object.assign(n,t),n})}{const t=Pn(this.apiClient,e);return l=h("{model}:predict",t._url),s=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=Dn(e),n=new Ne;return Object.assign(n,t),n})}}async editImageInternal(e){var t,n;let o,r="",i={};if(this.apiClient.isVertexAI()){const l=Cn(this.apiClient,e);return r=h("{model}:predict",l._url),i=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&m(t,["sdkHttpResponse"],n);const o=g(e,["predictions"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>Gn(e))),m(t,["generatedImages"],e)}return t}(e),n=new Ae;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,n;let o,r="",i={};if(this.apiClient.isVertexAI()){const l=ro(this.apiClient,e);return r=h("{model}:predict",l._url),i=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&m(t,["sdkHttpResponse"],n);const o=g(e,["predictions"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>Gn(e))),m(t,["generatedImages"],e)}return t}(e),n=new Oe;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,n;let o,r="",i={};if(this.apiClient.isVertexAI()){const l=Kn(this.apiClient,e);return r=h("{model}:predict",l._url),i=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>{const t=function(e){const t={},n=g(e,["predictions"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>Gn(e))),m(t,["generatedImages"],e)}return t}(e),n=new ke;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,n;let o,r="",i={};if(this.apiClient.isVertexAI()){const l=Xn(this.apiClient,e);return r=h("{model}:predict",l._url),i=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>{const t=Zn(e),n=new Pe;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,n,o,r;let i,l="",s={};if(this.apiClient.isVertexAI()){const o=function(e,t){const n={},o=g(t,["model"]);return null!=o&&m(n,["_url","name"],Xe(e,o)),n}(this.apiClient,e);return l=h("{name}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>Yn(e))}{const t=function(e,t){const n={},o=g(t,["model"]);return null!=o&&m(n,["_url","name"],Xe(e,o)),n}(this.apiClient,e);return l=h("{name}",t._url),s=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json()),i.then(e=>Wn(e))}}async listInternal(e){var t,n,o,r;let i,l="",s={};if(this.apiClient.isVertexAI()){const o=Jn(this.apiClient,e);return l=h("{models_url}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&m(t,["sdkHttpResponse"],n);const o=g(e,["nextPageToken"]);null!=o&&m(t,["nextPageToken"],o);const r=g(e,["_self"]);if(null!=r){let e=Ct(r);Array.isArray(e)&&(e=e.map(e=>Yn(e))),m(t,["models"],e)}return t}(e),n=new Re;return Object.assign(n,t),n})}{const t=Bn(this.apiClient,e);return l=h("{models_url}",t._url),s=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&m(t,["sdkHttpResponse"],n);const o=g(e,["nextPageToken"]);null!=o&&m(t,["nextPageToken"],o);const r=g(e,["_self"]);if(null!=r){let e=Ct(r);Array.isArray(e)&&(e=e.map(e=>Wn(e))),m(t,["models"],e)}return t}(e),n=new Re;return Object.assign(n,t),n})}}async update(e){var t,n,o,r;let i,l="",s={};if(this.apiClient.isVertexAI()){const o=oo(this.apiClient,e);return l=h("{model}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(o),httpMethod:"PATCH",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>Yn(e))}{const t=no(this.apiClient,e);return l=h("{name}",t._url),s=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(t),httpMethod:"PATCH",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json()),i.then(e=>Wn(e))}}async delete(e){var t,n,o,r;let i,l="",s={};if(this.apiClient.isVertexAI()){const o=function(e,t){const n={},o=g(t,["model"]);return null!=o&&m(n,["_url","name"],Xe(e,o)),n}(this.apiClient,e);return l=h("{name}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=g(e,["sdkHttpResponse"]);return null!=n&&m(t,["sdkHttpResponse"],n),t}(e),n=new De;return Object.assign(n,t),n})}{const t=function(e,t){const n={},o=g(t,["model"]);return null!=o&&m(n,["_url","name"],Xe(e,o)),n}(this.apiClient,e);return l=h("{name}",t._url),s=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=g(e,["sdkHttpResponse"]);return null!=n&&m(t,["sdkHttpResponse"],n),t}(e),n=new De;return Object.assign(n,t),n})}}async countTokens(e){var t,n,o,r;let i,l="",s={};if(this.apiClient.isVertexAI()){const o=function(e,t){const n={},o=g(t,["model"]);null!=o&&m(n,["_url","model"],Xe(e,o));const r=g(t,["contents"]);if(null!=r){let e=dt(r);Array.isArray(e)&&(e=e.map(e=>e)),m(n,["contents"],e)}const i=g(t,["config"]);return null!=i&&Sn(i,n),n}(this.apiClient,e);return l=h("{model}:countTokens",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&m(t,["sdkHttpResponse"],n);const o=g(e,["totalTokens"]);return null!=o&&m(t,["totalTokens"],o),t}(e),n=new Me;return Object.assign(n,t),n})}{const t=_n(this.apiClient,e);return l=h("{model}:countTokens",t._url),s=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&m(t,["sdkHttpResponse"],n);const o=g(e,["totalTokens"]);null!=o&&m(t,["totalTokens"],o);const r=g(e,["cachedContentTokenCount"]);return null!=r&&m(t,["cachedContentTokenCount"],r),t}(e),n=new Me;return Object.assign(n,t),n})}}async computeTokens(e){var t,n;let o,r="",i={};if(this.apiClient.isVertexAI()){const l=function(e,t){const n={},o=g(t,["model"]);null!=o&&m(n,["_url","model"],Xe(e,o));const r=g(t,["contents"]);if(null!=r){let e=dt(r);Array.isArray(e)&&(e=e.map(e=>e)),m(n,["contents"],e)}return n}(this.apiClient,e);return r=h("{model}:computeTokens",l._url),i=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&m(t,["sdkHttpResponse"],n);const o=g(e,["tokensInfo"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),m(t,["tokensInfo"],e)}return t}(e),n=new je;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,n,o,r;let i,l="",s={};if(this.apiClient.isVertexAI()){const o=qn(this.apiClient,e);return l=h("{model}:predictLongRunning",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>{const t=Un(e),n=new Le;return Object.assign(n,t),n})}{const t=Fn(this.apiClient,e);return l=h("{model}:predictLongRunning",t._url),s=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json()),i.then(e=>{const t=Ln(e),n=new Le;return Object.assign(n,t),n})}}}class Ao extends f{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,n=e.config;if(void 0===t.name||""===t.name)throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const e=t.name.split("/operations/")[0];let o;n&&"httpOptions"in n&&(o=n.httpOptions);const r=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:e,config:{httpOptions:o}});return t._fromAPIResponse({apiResponse:r,_isVertexAI:!0})}{const e=await this.getVideosOperationInternal({operationName:t.name,config:n});return t._fromAPIResponse({apiResponse:e,_isVertexAI:!1})}}async get(e){const t=e.operation,n=e.config;if(void 0===t.name||""===t.name)throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const e=t.name.split("/operations/")[0];let o;n&&"httpOptions"in n&&(o=n.httpOptions);const r=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:e,config:{httpOptions:o}});return t._fromAPIResponse({apiResponse:r,_isVertexAI:!0})}{const e=await this.getVideosOperationInternal({operationName:t.name,config:n});return t._fromAPIResponse({apiResponse:e,_isVertexAI:!1})}}async getVideosOperationInternal(e){var t,n,o,r;let i,l="",s={};if(this.apiClient.isVertexAI()){const o=function(e){const t={},n=g(e,["operationName"]);return null!=n&&m(t,["_url","operationName"],n),t}(e);return l=h("{operationName}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i}{const t=function(e){const t={},n=g(e,["operationName"]);return null!=n&&m(t,["_url","operationName"],n),t}(e);return l=h("{operationName}",t._url),s=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json()),i}}async fetchPredictVideosOperationInternal(e){var t,n;let o,r="",i={};if(this.apiClient.isVertexAI()){const l=function(e){const t={},n=g(e,["operationName"]);null!=n&&m(t,["operationName"],n);const o=g(e,["resourceName"]);return null!=o&&m(t,["_url","resourceName"],o),t}(e);return r=h("{resourceName}:fetchPredictOperation",l._url),i=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o}throw new Error("This method is only supported by the Vertex AI.")}}function Oo(e){const t={},n=g(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=g(e,["mediaResolution"]);null!=n&&m(t,["mediaResolution"],n);const o=g(e,["codeExecutionResult"]);null!=o&&m(t,["codeExecutionResult"],o);const r=g(e,["executableCode"]);null!=r&&m(t,["executableCode"],r);const i=g(e,["fileData"]);null!=i&&m(t,["fileData"],function(e){const t={};if(void 0!==g(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);null!=n&&m(t,["fileUri"],n);const o=g(e,["mimeType"]);null!=o&&m(t,["mimeType"],o);return t}(i));const l=g(e,["functionCall"]);null!=l&&m(t,["functionCall"],function(e){const t={},n=g(e,["id"]);null!=n&&m(t,["id"],n);const o=g(e,["args"]);null!=o&&m(t,["args"],o);const r=g(e,["name"]);null!=r&&m(t,["name"],r);if(void 0!==g(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==g(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(l));const s=g(e,["functionResponse"]);null!=s&&m(t,["functionResponse"],s);const a=g(e,["inlineData"]);null!=a&&m(t,["inlineData"],function(e){const t={},n=g(e,["data"]);if(null!=n&&m(t,["data"],n),void 0!==g(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const o=g(e,["mimeType"]);return null!=o&&m(t,["mimeType"],o),t}(a));const u=g(e,["text"]);null!=u&&m(t,["text"],u);const c=g(e,["thought"]);null!=c&&m(t,["thought"],c);const d=g(e,["thoughtSignature"]);null!=d&&m(t,["thoughtSignature"],d);const p=g(e,["videoMetadata"]);null!=p&&m(t,["videoMetadata"],p);return t}(e))),m(t,["parts"],e)}const o=g(e,["role"]);return null!=o&&m(t,["role"],o),t}function ko(e,t,n){const o=g(t,["expireTime"]);void 0!==n&&null!=o&&m(n,["expireTime"],o);const r=g(t,["newSessionExpireTime"]);void 0!==n&&null!=r&&m(n,["newSessionExpireTime"],r);const i=g(t,["uses"]);void 0!==n&&null!=i&&m(n,["uses"],i);const l=g(t,["liveConnectConstraints"]);void 0!==n&&null!=l&&m(n,["bidiGenerateContentSetup"],function(e,t){const n={},o=g(t,["model"]);null!=o&&m(n,["setup","model"],Xe(e,o));const r=g(t,["config"]);null!=r&&m(n,["config"],function(e,t){const n={},o=g(e,["generationConfig"]);void 0!==t&&null!=o&&m(t,["setup","generationConfig"],o);const r=g(e,["responseModalities"]);void 0!==t&&null!=r&&m(t,["setup","generationConfig","responseModalities"],r);const i=g(e,["temperature"]);void 0!==t&&null!=i&&m(t,["setup","generationConfig","temperature"],i);const l=g(e,["topP"]);void 0!==t&&null!=l&&m(t,["setup","generationConfig","topP"],l);const s=g(e,["topK"]);void 0!==t&&null!=s&&m(t,["setup","generationConfig","topK"],s);const a=g(e,["maxOutputTokens"]);void 0!==t&&null!=a&&m(t,["setup","generationConfig","maxOutputTokens"],a);const u=g(e,["mediaResolution"]);void 0!==t&&null!=u&&m(t,["setup","generationConfig","mediaResolution"],u);const c=g(e,["seed"]);void 0!==t&&null!=c&&m(t,["setup","generationConfig","seed"],c);const d=g(e,["speechConfig"]);void 0!==t&&null!=d&&m(t,["setup","generationConfig","speechConfig"],mt(d));const p=g(e,["thinkingConfig"]);void 0!==t&&null!=p&&m(t,["setup","generationConfig","thinkingConfig"],p);const f=g(e,["enableAffectiveDialog"]);void 0!==t&&null!=f&&m(t,["setup","generationConfig","enableAffectiveDialog"],f);const h=g(e,["systemInstruction"]);void 0!==t&&null!=h&&m(t,["setup","systemInstruction"],Oo(ut(h)));const v=g(e,["tools"]);if(void 0!==t&&null!=v){let e=vt(v);Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=g(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),m(t,["functionDeclarations"],e)}if(void 0!==g(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const o=g(e,["googleSearchRetrieval"]);null!=o&&m(t,["googleSearchRetrieval"],o);const r=g(e,["computerUse"]);null!=r&&m(t,["computerUse"],r);const i=g(e,["fileSearch"]);null!=i&&m(t,["fileSearch"],i);const l=g(e,["codeExecution"]);null!=l&&m(t,["codeExecution"],l);if(void 0!==g(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=g(e,["googleMaps"]);null!=s&&m(t,["googleMaps"],function(e){const t={};if(void 0!==g(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);null!=n&&m(t,["enableWidget"],n);return t}(s));const a=g(e,["googleSearch"]);null!=a&&m(t,["googleSearch"],function(e){const t={};if(void 0!==g(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==g(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);null!=n&&m(t,["timeRangeFilter"],n);return t}(a));const u=g(e,["urlContext"]);null!=u&&m(t,["urlContext"],u);return t}(gt(e)))),m(t,["setup","tools"],e)}const y=g(e,["sessionResumption"]);void 0!==t&&null!=y&&m(t,["setup","sessionResumption"],function(e){const t={},n=g(e,["handle"]);null!=n&&m(t,["handle"],n);if(void 0!==g(e,["transparent"]))throw new Error("transparent parameter is not supported in Gemini API.");return t}(y));const b=g(e,["inputAudioTranscription"]);void 0!==t&&null!=b&&m(t,["setup","inputAudioTranscription"],b);const E=g(e,["outputAudioTranscription"]);void 0!==t&&null!=E&&m(t,["setup","outputAudioTranscription"],E);const S=g(e,["realtimeInputConfig"]);void 0!==t&&null!=S&&m(t,["setup","realtimeInputConfig"],S);const _=g(e,["contextWindowCompression"]);void 0!==t&&null!=_&&m(t,["setup","contextWindowCompression"],_);const C=g(e,["proactivity"]);void 0!==t&&null!=C&&m(t,["setup","proactivity"],C);return n}(r,n));return n}(e,l));const s=g(t,["lockAdditionalFields"]);return void 0!==n&&null!=s&&m(n,["fieldMask"],s),{}}function Po(e,t){let n=null;const o=e.bidiGenerateContentSetup;if("object"===typeof o&&null!==o&&"setup"in o){const t=o.setup;"object"===typeof t&&null!==t?(e.bidiGenerateContentSetup=t,n=t):delete e.bidiGenerateContentSetup}else void 0!==o&&delete e.bidiGenerateContentSetup;const r=e.fieldMask;if(n){const o=function(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const o=e[n];if("object"===typeof o&&null!=o&&Object.keys(o).length>0){const e=Object.keys(o).map(e=>"".concat(n,".").concat(e));t.push(...e)}else t.push(n)}return t.join(",")}(n);if(Array.isArray(null===t||void 0===t?void 0:t.lockAdditionalFields)&&0===(null===t||void 0===t?void 0:t.lockAdditionalFields.length))o?e.fieldMask=o:delete e.fieldMask;else if((null===t||void 0===t?void 0:t.lockAdditionalFields)&&t.lockAdditionalFields.length>0&&null!==r&&Array.isArray(r)&&r.length>0){const t=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let n=[];r.length>0&&(n=r.map(e=>t.includes(e)?"generationConfig.".concat(e):e));const i=[];o&&i.push(o),n.length>0&&i.push(...n),i.length>0?e.fieldMask=i.join(","):delete e.fieldMask}else delete e.fieldMask}else null!==r&&Array.isArray(r)&&r.length>0?e.fieldMask=r.join(","):delete e.fieldMask;return e}class Ro extends f{constructor(e){super(),this.apiClient=e}async create(e){var t,n;let o,r="",i={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const l=function(e,t){const n={},o=g(t,["config"]);return null!=o&&m(n,["config"],ko(e,o,n)),n}(this.apiClient,e);r=h("auth_tokens",l._url),i=l._query,delete l.config,delete l._url,delete l._query;const s=Po(l,e.config);return o=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>e)}}}function Do(e){const t={},n=g(e,["config"]);return null!=n&&function(e,t){const n=g(e,["displayName"]);void 0!==t&&null!=n&&m(t,["displayName"],n)}(n,t),t}function Mo(e){const t={},n=g(e,["name"]);null!=n&&m(t,["_url","name"],n);const o=g(e,["config"]);return null!=o&&function(e,t){const n=g(e,["force"]);void 0!==t&&null!=n&&m(t,["_query","force"],n)}(o,t),t}function jo(e){const t={},n=g(e,["name"]);null!=n&&m(t,["name"],n);const o=g(e,["metadata"]);null!=o&&m(t,["metadata"],o);const r=g(e,["done"]);null!=r&&m(t,["done"],r);const i=g(e,["error"]);null!=i&&m(t,["error"],i);const l=g(e,["response"]);return null!=l&&m(t,["response"],function(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&m(t,["sdkHttpResponse"],n);const o=g(e,["parent"]);null!=o&&m(t,["parent"],o);const r=g(e,["documentName"]);null!=r&&m(t,["documentName"],r);return t}(l)),t}function Lo(e){const t={},n=g(e,["fileSearchStoreName"]);null!=n&&m(t,["_url","file_search_store_name"],n);const o=g(e,["fileName"]);null!=o&&m(t,["fileName"],o);const r=g(e,["config"]);return null!=r&&function(e,t){const n=g(e,["customMetadata"]);if(void 0!==t&&null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),m(t,["customMetadata"],e)}const o=g(e,["chunkingConfig"]);void 0!==t&&null!=o&&m(t,["chunkingConfig"],o)}(r,t),t}function Uo(e){const t={},n=g(e,["config"]);return null!=n&&function(e,t){const n=g(e,["pageSize"]);void 0!==t&&null!=n&&m(t,["_query","pageSize"],n);const o=g(e,["pageToken"]);void 0!==t&&null!=o&&m(t,["_query","pageToken"],o)}(n,t),t}function Fo(e){const t={},n=g(e,["fileSearchStoreName"]);null!=n&&m(t,["_url","file_search_store_name"],n);const o=g(e,["config"]);return null!=o&&function(e,t){const n=g(e,["mimeType"]);void 0!==t&&null!=n&&m(t,["mimeType"],n);const o=g(e,["displayName"]);void 0!==t&&null!=o&&m(t,["displayName"],o);const r=g(e,["customMetadata"]);if(void 0!==t&&null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),m(t,["customMetadata"],e)}const i=g(e,["chunkingConfig"]);void 0!==t&&null!=i&&m(t,["chunkingConfig"],i)}(o,t),t}function qo(e){const t={},n=g(e,["name"]);null!=n&&m(t,["_url","name"],n);const o=g(e,["config"]);return null!=o&&function(e,t){const n=g(e,["force"]);void 0!==t&&null!=n&&m(t,["_query","force"],n)}(o,t),t}function Go(e){const t={},n=g(e,["parent"]);null!=n&&m(t,["_url","parent"],n);const o=g(e,["config"]);return null!=o&&function(e,t){const n=g(e,["pageSize"]);void 0!==t&&null!=n&&m(t,["_query","pageSize"],n);const o=g(e,["pageToken"]);void 0!==t&&null!=o&&m(t,["_query","pageToken"],o)}(o,t),t}class Ho extends f{constructor(e){super(),this.apiClient=e,this.list=async e=>new Gt(we.PAGED_ITEM_DOCUMENTS,t=>this.listInternal({parent:e.parent,config:t.config}),await this.listInternal(e),e)}async get(e){var t,n;let o,r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=g(e,["name"]);return null!=n&&m(t,["_url","name"],n),t}(e);return r=h("{name}",l._url),i=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>e)}}async delete(e){var t,n;let o="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const i=qo(e);o=h("{name}",i._url),r=i._query,delete i._url,delete i._query,await this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(i),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal})}}async listInternal(e){var t,n;let o,r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Go(e);return r=h("{parent}/documents",l._url),i=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>{const t=function(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&m(t,["sdkHttpResponse"],n);const o=g(e,["nextPageToken"]);null!=o&&m(t,["nextPageToken"],o);const r=g(e,["documents"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),m(t,["documents"],e)}return t}(e),n=new Ge;return Object.assign(n,t),n})}}}class Vo extends f{constructor(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ho(e);super(),t=this,this.apiClient=e,this.documents=n,this.list=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Gt(we.PAGED_ITEM_FILE_SEARCH_STORES,e=>t.listInternal(e),await t.listInternal(e),e)}}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var t,n;let o,r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Do(e);return r=h("fileSearchStores",l._url),i=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>e)}}async get(e){var t,n;let o,r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=g(e,["name"]);return null!=n&&m(t,["_url","name"],n),t}(e);return r=h("{name}",l._url),i=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>e)}}async delete(e){var t,n;let o="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const i=Mo(e);o=h("{name}",i._url),r=i._query,delete i._url,delete i._query,await this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(i),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal})}}async listInternal(e){var t,n;let o,r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Uo(e);return r=h("fileSearchStores",l._url),i=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>{const t=function(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&m(t,["sdkHttpResponse"],n);const o=g(e,["nextPageToken"]);null!=o&&m(t,["nextPageToken"],o);const r=g(e,["fileSearchStores"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),m(t,["fileSearchStores"],e)}return t}(e),n=new He;return Object.assign(n,t),n})}}async uploadToFileSearchStoreInternal(e){var t,n;let o,r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Fo(e);return r=h("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",l._url),i=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>{const t=function(e){const t={},n=g(e,["sdkHttpResponse"]);return null!=n&&m(t,["sdkHttpResponse"],n),t}(e),n=new Ve;return Object.assign(n,t),n})}}async importFile(e){var t,n;let o,r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Lo(e);return r=h("{file_search_store_name}:importFile",l._url),i=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>{const t=jo(e),n=new ze;return Object.assign(n,t),n})}}}function zo(e,t){const n={},o=g(e,["baseModel"]);null!=o&&m(n,["baseModel"],o);const r=g(e,["preTunedModel"]);null!=r&&m(n,["preTunedModel"],r);const i=g(e,["trainingDataset"]);null!=i&&function(e){const t={};if(void 0!==g(e,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");if(void 0!==g(e,["vertexDatasetResource"]))throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=g(e,["examples"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),m(t,["examples","examples"],e)}}(i);const l=g(e,["config"]);return null!=l&&function(e,t){const n={};if(void 0!==g(e,["validationDataset"]))throw new Error("validationDataset parameter is not supported in Gemini API.");const o=g(e,["tunedModelDisplayName"]);if(void 0!==t&&null!=o&&m(t,["displayName"],o),void 0!==g(e,["description"]))throw new Error("description parameter is not supported in Gemini API.");const r=g(e,["epochCount"]);void 0!==t&&null!=r&&m(t,["tuningTask","hyperparameters","epochCount"],r);const i=g(e,["learningRateMultiplier"]);if(null!=i&&m(n,["tuningTask","hyperparameters","learningRateMultiplier"],i),void 0!==g(e,["exportLastCheckpointOnly"]))throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(void 0!==g(e,["preTunedModelCheckpointId"]))throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(void 0!==g(e,["adapterSize"]))throw new Error("adapterSize parameter is not supported in Gemini API.");const l=g(e,["batchSize"]);void 0!==t&&null!=l&&m(t,["tuningTask","hyperparameters","batchSize"],l);const s=g(e,["learningRate"]);if(void 0!==t&&null!=s&&m(t,["tuningTask","hyperparameters","learningRate"],s),void 0!==g(e,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");if(void 0!==g(e,["beta"]))throw new Error("beta parameter is not supported in Gemini API.")}(l,n),n}function Bo(e,t){const n={},o=g(e,["baseModel"]);null!=o&&m(n,["baseModel"],o);const r=g(e,["preTunedModel"]);null!=r&&m(n,["preTunedModel"],r);const i=g(e,["trainingDataset"]);null!=i&&function(e,t,n){const o={};let r=g(n,["config","method"]);void 0===r&&(r="SUPERVISED_FINE_TUNING");if("SUPERVISED_FINE_TUNING"===r){const n=g(e,["gcsUri"]);void 0!==t&&null!=n&&m(t,["supervisedTuningSpec","trainingDatasetUri"],n)}else if("PREFERENCE_TUNING"===r){const n=g(e,["gcsUri"]);void 0!==t&&null!=n&&m(t,["preferenceOptimizationSpec","trainingDatasetUri"],n)}let i=g(n,["config","method"]);void 0===i&&(i="SUPERVISED_FINE_TUNING");if("SUPERVISED_FINE_TUNING"===i){const n=g(e,["vertexDatasetResource"]);void 0!==t&&null!=n&&m(t,["supervisedTuningSpec","trainingDatasetUri"],n)}else if("PREFERENCE_TUNING"===i){const n=g(e,["vertexDatasetResource"]);void 0!==t&&null!=n&&m(t,["preferenceOptimizationSpec","trainingDatasetUri"],n)}if(void 0!==g(e,["examples"]))throw new Error("examples parameter is not supported in Vertex AI.")}(i,n,t);const l=g(e,["config"]);return null!=l&&function(e,t,n){let o=g(n,["config","method"]);if(void 0===o&&(o="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===o){const n=g(e,["validationDataset"]);void 0!==t&&null!=n&&m(t,["supervisedTuningSpec"],Qo(n))}else if("PREFERENCE_TUNING"===o){const n=g(e,["validationDataset"]);void 0!==t&&null!=n&&m(t,["preferenceOptimizationSpec"],Qo(n))}const r=g(e,["tunedModelDisplayName"]);void 0!==t&&null!=r&&m(t,["tunedModelDisplayName"],r);const i=g(e,["description"]);void 0!==t&&null!=i&&m(t,["description"],i);let l=g(n,["config","method"]);if(void 0===l&&(l="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===l){const n=g(e,["epochCount"]);void 0!==t&&null!=n&&m(t,["supervisedTuningSpec","hyperParameters","epochCount"],n)}else if("PREFERENCE_TUNING"===l){const n=g(e,["epochCount"]);void 0!==t&&null!=n&&m(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],n)}let s=g(n,["config","method"]);if(void 0===s&&(s="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===s){const n=g(e,["learningRateMultiplier"]);void 0!==t&&null!=n&&m(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],n)}else if("PREFERENCE_TUNING"===s){const n=g(e,["learningRateMultiplier"]);void 0!==t&&null!=n&&m(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],n)}let a=g(n,["config","method"]);if(void 0===a&&(a="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===a){const n=g(e,["exportLastCheckpointOnly"]);void 0!==t&&null!=n&&m(t,["supervisedTuningSpec","exportLastCheckpointOnly"],n)}else if("PREFERENCE_TUNING"===a){const n=g(e,["exportLastCheckpointOnly"]);void 0!==t&&null!=n&&m(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],n)}let u=g(n,["config","method"]);if(void 0===u&&(u="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===u){const n=g(e,["adapterSize"]);void 0!==t&&null!=n&&m(t,["supervisedTuningSpec","hyperParameters","adapterSize"],n)}else if("PREFERENCE_TUNING"===u){const n=g(e,["adapterSize"]);void 0!==t&&null!=n&&m(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],n)}if(void 0!==g(e,["batchSize"]))throw new Error("batchSize parameter is not supported in Vertex AI.");if(void 0!==g(e,["learningRate"]))throw new Error("learningRate parameter is not supported in Vertex AI.");const c=g(e,["labels"]);void 0!==t&&null!=c&&m(t,["labels"],c);const d=g(e,["beta"]);void 0!==t&&null!=d&&m(t,["preferenceOptimizationSpec","hyperParameters","beta"],d)}(l,n,t),n}function Jo(e,t){const n={},o=g(e,["config"]);return null!=o&&function(e,t){const n=g(e,["pageSize"]);void 0!==t&&null!=n&&m(t,["_query","pageSize"],n);const o=g(e,["pageToken"]);void 0!==t&&null!=o&&m(t,["_query","pageToken"],o);const r=g(e,["filter"]);void 0!==t&&null!=r&&m(t,["_query","filter"],r)}(o,n),n}function Wo(e,t){const n={},o=g(e,["config"]);return null!=o&&function(e,t){const n=g(e,["pageSize"]);void 0!==t&&null!=n&&m(t,["_query","pageSize"],n);const o=g(e,["pageToken"]);void 0!==t&&null!=o&&m(t,["_query","pageToken"],o);const r=g(e,["filter"]);void 0!==t&&null!=r&&m(t,["_query","filter"],r)}(o,n),n}function Yo(e,t){const n={},o=g(e,["sdkHttpResponse"]);null!=o&&m(n,["sdkHttpResponse"],o);const r=g(e,["name"]);null!=r&&m(n,["name"],r);const i=g(e,["state"]);null!=i&&m(n,["state"],bt(i));const l=g(e,["createTime"]);null!=l&&m(n,["createTime"],l);const s=g(e,["tuningTask","startTime"]);null!=s&&m(n,["startTime"],s);const a=g(e,["tuningTask","completeTime"]);null!=a&&m(n,["endTime"],a);const u=g(e,["updateTime"]);null!=u&&m(n,["updateTime"],u);const c=g(e,["description"]);null!=c&&m(n,["description"],c);const d=g(e,["baseModel"]);null!=d&&m(n,["baseModel"],d);const p=g(e,["_self"]);return null!=p&&m(n,["tunedModel"],function(e){const t={},n=g(e,["name"]);null!=n&&m(t,["model"],n);const o=g(e,["name"]);return null!=o&&m(t,["endpoint"],o),t}(p)),n}function Ko(e,t){const n={},o=g(e,["sdkHttpResponse"]);null!=o&&m(n,["sdkHttpResponse"],o);const r=g(e,["name"]);null!=r&&m(n,["name"],r);const i=g(e,["state"]);null!=i&&m(n,["state"],bt(i));const l=g(e,["createTime"]);null!=l&&m(n,["createTime"],l);const s=g(e,["startTime"]);null!=s&&m(n,["startTime"],s);const a=g(e,["endTime"]);null!=a&&m(n,["endTime"],a);const u=g(e,["updateTime"]);null!=u&&m(n,["updateTime"],u);const c=g(e,["error"]);null!=c&&m(n,["error"],c);const d=g(e,["description"]);null!=d&&m(n,["description"],d);const p=g(e,["baseModel"]);null!=p&&m(n,["baseModel"],p);const f=g(e,["tunedModel"]);null!=f&&m(n,["tunedModel"],f);const h=g(e,["preTunedModel"]);null!=h&&m(n,["preTunedModel"],h);const v=g(e,["supervisedTuningSpec"]);null!=v&&m(n,["supervisedTuningSpec"],v);const y=g(e,["preferenceOptimizationSpec"]);null!=y&&m(n,["preferenceOptimizationSpec"],y);const b=g(e,["tuningDataStats"]);null!=b&&m(n,["tuningDataStats"],b);const E=g(e,["encryptionSpec"]);null!=E&&m(n,["encryptionSpec"],E);const S=g(e,["partnerModelTuningSpec"]);null!=S&&m(n,["partnerModelTuningSpec"],S);const _=g(e,["customBaseModel"]);null!=_&&m(n,["customBaseModel"],_);const C=g(e,["experiment"]);null!=C&&m(n,["experiment"],C);const w=g(e,["labels"]);null!=w&&m(n,["labels"],w);const T=g(e,["outputUri"]);null!=T&&m(n,["outputUri"],T);const I=g(e,["pipelineJob"]);null!=I&&m(n,["pipelineJob"],I);const x=g(e,["serviceAccount"]);null!=x&&m(n,["serviceAccount"],x);const N=g(e,["tunedModelDisplayName"]);null!=N&&m(n,["tunedModelDisplayName"],N);const A=g(e,["veoTuningSpec"]);return null!=A&&m(n,["veoTuningSpec"],A),n}function Qo(e,t){const n={},o=g(e,["gcsUri"]);null!=o&&m(n,["validationDatasetUri"],o);const r=g(e,["vertexDatasetResource"]);return null!=r&&m(n,["validationDatasetUri"],r),n}class $o extends f{constructor(e){var t;super(),t=this,this.apiClient=e,this.get=async e=>await this.getInternal(e),this.list=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Gt(we.PAGED_ITEM_TUNING_JOBS,e=>t.listInternal(e),await t.listInternal(e),e)},this.tune=async e=>{var t;if(this.apiClient.isVertexAI()){if(e.baseModel.startsWith("projects/")){const n={tunedModelName:e.baseModel};(null===(t=e.config)||void 0===t?void 0:t.preTunedModelCheckpointId)&&(n.checkpointId=e.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},e),{preTunedModel:n});return o.baseModel=void 0,await this.tuneInternal(o)}{const t=Object.assign({},e);return await this.tuneInternal(t)}}{const t=Object.assign({},e),n=await this.tuneMldevInternal(t);let o="";void 0!==n.metadata&&void 0!==n.metadata.tunedModel?o=n.metadata.tunedModel:void 0!==n.name&&n.name.includes("/operations/")&&(o=n.name.split("/operations/")[0]);return{name:o,state:J.JOB_STATE_QUEUED}}}}async getInternal(e){var t,n,o,r;let i,l="",s={};if(this.apiClient.isVertexAI()){const o=function(e){const t={},n=g(e,["name"]);return null!=n&&m(t,["_url","name"],n),t}(e);return l=h("{name}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>Ko(e))}{const t=function(e){const t={},n=g(e,["name"]);return null!=n&&m(t,["_url","name"],n),t}(e);return l=h("{name}",t._url),s=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>Yo(e))}}async listInternal(e){var t,n,o,r;let i,l="",s={};if(this.apiClient.isVertexAI()){const o=Wo(e);return l=h("tuningJobs",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&m(t,["sdkHttpResponse"],n);const o=g(e,["nextPageToken"]);null!=o&&m(t,["nextPageToken"],o);const r=g(e,["tuningJobs"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>Ko(e))),m(t,["tuningJobs"],e)}return t}(e),n=new Ue;return Object.assign(n,t),n})}{const t=Jo(e);return l=h("tunedModels",t._url),s=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&m(t,["sdkHttpResponse"],n);const o=g(e,["nextPageToken"]);null!=o&&m(t,["nextPageToken"],o);const r=g(e,["tunedModels"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>Yo(e))),m(t,["tuningJobs"],e)}return t}(e),n=new Ue;return Object.assign(n,t),n})}}async cancel(e){var t,n,o,r;let i="",l={};if(this.apiClient.isVertexAI()){const o=function(e){const t={},n=g(e,["name"]);return null!=n&&m(t,["_url","name"],n),t}(e);i=h("{name}:cancel",o._url),l=o._query,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal})}else{const t=function(e){const t={},n=g(e,["name"]);return null!=n&&m(t,["_url","name"],n),t}(e);i=h("{name}:cancel",t._url),l=t._query,delete t._url,delete t._query,await this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal})}}async tuneInternal(e){var t,n;let o,r="",i={};if(this.apiClient.isVertexAI()){const l=Bo(e,e);return r=h("tuningJobs",l._url),i=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>Ko(e))}throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,n;let o,r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=zo(e);return r=h("tunedModels",l._url),i=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>function(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&m(t,["sdkHttpResponse"],n);const o=g(e,["name"]);null!=o&&m(t,["name"],o);const r=g(e,["metadata"]);null!=r&&m(t,["metadata"],r);const i=g(e,["done"]);null!=i&&m(t,["done"],i);const l=g(e,["error"]);return null!=l&&m(t,["error"],l),t}(e))}}}class Xo{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Zo="x-goog-upload-status";async function er(e,t,n){var o,r;let i=0,l=0,s=new Te(new Response),a="upload";for(i=e.size;l<i;){const u=Math.min(8388608,i-l),c=e.slice(l,l+u);l+u>=i&&(a+=", finalize");let d=0,p=1e3;for(;d<3&&(s=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":a,"X-Goog-Upload-Offset":String(l),"Content-Length":String(u)}}}),!(null===(o=null===s||void 0===s?void 0:s.headers)||void 0===o?void 0:o[Zo]));)d++,await tr(p),p*=2;if(l+=u,"active"!==(null===(r=null===s||void 0===s?void 0:s.headers)||void 0===r?void 0:r[Zo]))break;if(i<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return s}function tr(e){return new Promise(t=>setTimeout(t,e))}class nr{async upload(e,t,n){if("string"===typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e,t,n){var o;const r=await er(e,t,n),i=await(null===r||void 0===r?void 0:r.json());if("final"!==(null===(o=null===r||void 0===r?void 0:r.headers)||void 0===o?void 0:o[Zo]))throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}(e,t,n)}async uploadToFileSearchStore(e,t,n){if("string"===typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e,t,n){var o;const r=await er(e,t,n),i=await(null===r||void 0===r?void 0:r.json());if("final"!==(null===(o=null===r||void 0===r?void 0:r.headers)||void 0===o?void 0:o[Zo]))throw new Error("Failed to upload file: Upload status is not finalized.");const l=_(i),s=new $e;return Object.assign(s,l),s}(e,t,n)}async stat(e){if("string"===typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e){return{size:e.size,type:e.type}}(e)}}class or{create(e,t,n){return new rr(e,t,n)}}class rr{constructor(e,t,n){this.url=e,this.headers=t,this.callbacks=n}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(void 0===this.ws)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(void 0===this.ws)throw new Error("WebSocket is not connected");this.ws.close()}}const ir="x-goog-api-key";class lr{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(null===e.get(ir)){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(ir,this.apiKey)}}}class sr{constructor(e){var t;if(null==e.apiKey)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=null!==(t=e.vertexai)&&void 0!==t&&t,this.apiKey=e.apiKey;const n=p(e.httpOptions,e.vertexai,void 0,void 0);n&&(e.httpOptions?e.httpOptions.baseUrl=n:e.httpOptions={baseUrl:n}),this.apiVersion=e.apiVersion;const o=new lr(this.apiKey);this.apiClient=new co({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:"gl-node/web",uploader:new nr,downloader:new Xo}),this.models=new No(this.apiClient),this.live=new So(this.apiClient,o,new or),this.batches=new Ht(this.apiClient),this.chats=new rn(this.models,this.apiClient),this.caches=new Qt(this.apiClient),this.files=new un(this.apiClient),this.operations=new Ao(this.apiClient),this.authTokens=new Ro(this.apiClient),this.tunings=new $o(this.apiClient),this.fileSearchStores=new Vo(this.apiClient)}}var ar={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ur=["color","size","strokeWidth","absoluteStrokeWidth","children"];var cr=(e,t)=>{const n=(0,a.forwardRef)((n,o)=>{let{color:r="currentColor",size:i=24,strokeWidth:l=2,absoluteStrokeWidth:u,children:c}=n,d=function(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;n[o]=e[o]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(n,ur);return(0,a.createElement)("svg",s(s({ref:o},ar),{},{width:i,height:i,stroke:r,strokeWidth:u?24*Number(l)/Number(i):l,className:"lucide lucide-".concat((p=e,p.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()))},d),[...t.map(e=>{let[t,n]=e;return(0,a.createElement)(t,n)}),...(Array.isArray(c)?c:[c])||[]]);var p});return n.displayName="".concat(e),n};const dr=cr("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]),pr=cr("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),fr=cr("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),hr=cr("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),mr=cr("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),gr=cr("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),vr=cr("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),yr=cr("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),br=cr("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Er=cr("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Sr=cr("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),_r=cr("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Cr=cr("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),wr=cr("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Tr=cr("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Ir=cr("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),xr=cr("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Nr=cr("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),Ar=cr("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),Or=cr("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),kr=cr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var Pr=n(579);let Rr=function(e){return e.ADMIN="ADMIN",e.EMPLOYER="EMPLOYER",e}({}),Dr=function(e){return e.PRESENT="Aanwezig",e.ABSENT="Afwezig",e.SICK="Ziek",e.LATE="Te Laat",e}({});const Mr=[{id:"s1",name:"Lucas de Vries",email:"lucas@student.nl",studentNumber:"2024001"},{id:"s2",name:"Sophie Jansen",email:"sophie@student.nl",studentNumber:"2024002"},{id:"s3",name:"Milan Bakker",email:"milan@student.nl",studentNumber:"2024003"}],jr=[{id:"e1",companyName:"TechSolutions BV",contactPerson:"Jan Klaassen",email:"jan@techsolutions.nl",phoneNumber:"06-12345678",accessCode:"12345"},{id:"e2",companyName:"ZorgCentrum Oost",contactPerson:"Els Visser",email:"els@zorg.nl",phoneNumber:"06-87654321",accessCode:"12345"}],Lr=[{id:"sup1",name:"Mevr. K. Dijkstra",email:"k.dijkstra@school.nl",phoneNumber:"030-1239988"},{id:"sup2",name:"Dhr. P. de Jong",email:"p.dejong@school.nl",phoneNumber:"030-5554433"}],Ur=[{id:"i1",studentId:"s1",employerId:"e1",supervisorId:"sup1",startDate:"2024-02-01",endDate:"2024-06-30",scheduledDays:["Ma","Di"]},{id:"i2",studentId:"s2",employerId:"e2",supervisorId:"sup2",startDate:"2024-02-01",endDate:"2024-06-30",scheduledDays:["Do","Vr"]}],Fr=[{id:"a1",internshipId:"i1",date:"2024-05-20",status:Dr.PRESENT},{id:"a2",internshipId:"i1",date:"2024-05-21",status:Dr.SICK,notes:"Griepje"}],qr=[{id:"m1",internshipId:"i1",senderRole:"SCHOOL",text:"Hoi Jan, hoe gaat het met Lucas?",timestamp:Date.now()-864e5,read:!0}],Gr=()=>{const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_KEY||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.API_KEY;return e?new sr({apiKey:e}):null},Hr=(0,a.createContext)(void 0),Vr=e=>{let{children:t}=e;const n=(e,t)=>{try{const n=localStorage.getItem(e);return n?JSON.parse(n):t}catch(n){return t}},[o,r]=(0,a.useState)(()=>n("sc_students",Mr)),[i,l]=(0,a.useState)(()=>n("sc_employers",jr)),[s,u]=(0,a.useState)(()=>n("sc_supervisors",Lr)),[c,d]=(0,a.useState)(()=>n("sc_internships",Ur)),[p,f]=(0,a.useState)(()=>n("sc_attendance",Fr)),[h,m]=(0,a.useState)(()=>n("sc_messages",qr));(0,a.useEffect)(()=>{localStorage.setItem("sc_students",JSON.stringify(o))},[o]),(0,a.useEffect)(()=>{localStorage.setItem("sc_employers",JSON.stringify(i))},[i]),(0,a.useEffect)(()=>{localStorage.setItem("sc_supervisors",JSON.stringify(s))},[s]),(0,a.useEffect)(()=>{localStorage.setItem("sc_internships",JSON.stringify(c))},[c]),(0,a.useEffect)(()=>{localStorage.setItem("sc_attendance",JSON.stringify(p))},[p]),(0,a.useEffect)(()=>{localStorage.setItem("sc_messages",JSON.stringify(h))},[h]);return(0,Pr.jsx)(Hr.Provider,{value:{students:o,employers:i,supervisors:s,internships:c,attendance:p,messages:h,addStudent:e=>r(t=>[...t,e]),removeStudent:e=>r(t=>t.filter(t=>t.id!==e)),addEmployer:e=>l(t=>[...t,e]),removeEmployer:e=>l(t=>t.filter(t=>t.id!==e)),addSupervisor:e=>u(t=>[...t,e]),removeSupervisor:e=>u(t=>t.filter(t=>t.id!==e)),addInternship:e=>d(t=>[...t,e]),removeInternship:e=>d(t=>t.filter(t=>t.id!==e)),addAttendanceRecord:e=>{f(t=>{const n=t.findIndex(t=>t.internshipId===e.internshipId&&t.date===e.date);if(n>=0){const o=[...t];return o[n]=e,o}return[...t,e]})},sendMessage:(e,t,n)=>{m(o=>[...o,{id:"msg_".concat(Date.now()),internshipId:e,text:t,senderRole:n,timestamp:Date.now(),read:!1}])},getInternshipByEmployer:e=>c.filter(t=>t.employerId===e),getInternshipStudent:e=>{const t=c.find(t=>t.id===e);return t?o.find(e=>e.id===t.studentId):void 0},getInternshipSupervisor:e=>{const t=c.find(t=>t.id===e);return t?s.find(e=>e.id===t.supervisorId):void 0},getAttendanceForInternship:e=>p.filter(t=>t.internshipId===e).sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()),getMessagesForInternship:e=>h.filter(t=>t.internshipId===e).sort((e,t)=>e.timestamp-t.timestamp)},children:t})},zr=()=>{const e=(0,a.useContext)(Hr);if(!e)throw new Error("useApp must be used within an AppProvider");return e},Br=e=>{let{className:t="h-12",showText:n=!0}=e;const[o,r]=(0,a.useState)(!1);return(0,Pr.jsxs)("div",{className:"flex items-center gap-3 select-none ".concat(t),children:[o?(0,Pr.jsx)("div",{className:"h-full aspect-square bg-blue-50 rounded-lg flex items-center justify-center border border-blue-100",children:(0,Pr.jsx)(dr,{className:"text-[#009FE3] w-3/4 h-3/4"})}):(0,Pr.jsx)("img",{src:"/logo.png",alt:"Logo",className:"h-full w-auto object-contain",onError:()=>r(!0)}),n&&o&&(0,Pr.jsxs)("div",{className:"flex flex-col justify-center h-full -ml-1",children:[(0,Pr.jsx)("span",{className:"text-[#78BE20] text-[0.55em]",children:"Groene Hart"}),(0,Pr.jsx)("span",{className:"text-[#009FE3] font-bold text-[1.2em]",children:"Pro College"})]})]})},Jr=e=>{var t;let{onLogout:n}=e;const{students:o,employers:r,supervisors:i,internships:l,messages:u,addStudent:c,removeStudent:d,addEmployer:p,removeEmployer:f,addSupervisor:h,removeSupervisor:m,addInternship:g,removeInternship:v,sendMessage:y}=zr(),[b,E]=(0,a.useState)("students"),[S,_]=(0,a.useState)({name:"",email:"",studentNumber:""}),[C,w]=(0,a.useState)({companyName:"",contactPerson:"",email:"",phoneNumber:"",accessCode:""}),[T,I]=(0,a.useState)({name:"",email:"",phoneNumber:""}),[x,N]=(0,a.useState)({studentId:"",employerId:"",supervisorId:"",startDate:"",endDate:"",scheduledDays:[]}),[A,O]=(0,a.useState)(null),[k,P]=(0,a.useState)(""),R=(0,a.useRef)(null),D=(e,t,n)=>{window.confirm('Weet u zeker dat u "'.concat(n,'" wilt verwijderen?'))&&("student"===e&&d(t),"employer"===e&&f(t),"supervisor"===e&&m(t),"internship"===e&&v(t))},M=l.filter(e=>u.some(t=>t.internshipId===e.id));(0,a.useEffect)(()=>{var e;null===(e=R.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[A,u]);return(0,Pr.jsxs)("div",{className:"p-6 max-w-7xl mx-auto",children:[(0,Pr.jsxs)("header",{className:"mb-8 flex flex-col md:flex-row justify-between gap-4",children:[(0,Pr.jsx)("div",{children:(0,Pr.jsx)("h1",{className:"text-3xl font-bold text-slate-800",children:"School CMS"})}),(0,Pr.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Pr.jsxs)("button",{onClick:n,className:"text-red-600 flex gap-2",children:[(0,Pr.jsx)(pr,{size:20})," Uitloggen"]}),(0,Pr.jsx)(Br,{className:"h-10"})]})]}),(0,Pr.jsx)("div",{className:"flex space-x-4 mb-6 border-b overflow-x-auto",children:["students","employers","supervisors","internships","messages"].map(e=>(0,Pr.jsx)("button",{onClick:()=>E(e),className:"pb-3 px-4 font-medium capitalize ".concat(b===e?"text-blue-600 border-b-2 border-blue-600":"text-slate-500"),children:e},e))}),"students"===b&&(0,Pr.jsxs)("div",{className:"grid md:grid-cols-3 gap-8",children:[(0,Pr.jsxs)("div",{className:"md:col-span-2",children:[(0,Pr.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Leerlingen"}),o.map(e=>(0,Pr.jsxs)("div",{className:"p-3 border-b flex justify-between items-center hover:bg-slate-50",children:[(0,Pr.jsxs)("span",{children:[e.name," (",e.studentNumber,")"]}),(0,Pr.jsx)("button",{onClick:()=>D("student",e.id,e.name),className:"text-slate-400 hover:text-red-600 p-2",children:(0,Pr.jsx)(fr,{size:18})})]},e.id))]}),(0,Pr.jsxs)("div",{className:"bg-white p-6 rounded shadow",children:[(0,Pr.jsx)("h3",{className:"font-bold mb-4",children:"Nieuw"}),(0,Pr.jsx)("input",{className:"w-full border p-2 mb-2 rounded",placeholder:"Naam",value:S.name,onChange:e=>_(s(s({},S),{},{name:e.target.value}))}),(0,Pr.jsx)("input",{className:"w-full border p-2 mb-2 rounded",placeholder:"Studentnr",value:S.studentNumber,onChange:e=>_(s(s({},S),{},{studentNumber:e.target.value}))}),(0,Pr.jsx)("input",{className:"w-full border p-2 mb-2 rounded",placeholder:"Email",value:S.email,onChange:e=>_(s(s({},S),{},{email:e.target.value}))}),(0,Pr.jsx)("button",{onClick:()=>{c(s(s({},S),{},{id:"s".concat(Date.now())})),_({name:"",email:"",studentNumber:""})},className:"w-full bg-blue-600 text-white p-2 rounded",children:"Toevoegen"})]})]}),"employers"===b&&(0,Pr.jsxs)("div",{className:"grid md:grid-cols-3 gap-8",children:[(0,Pr.jsxs)("div",{className:"md:col-span-2",children:[(0,Pr.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Werkgevers"}),r.map(e=>(0,Pr.jsxs)("div",{className:"p-3 border-b flex justify-between items-center hover:bg-slate-50",children:[(0,Pr.jsxs)("div",{className:"flex-1",children:[(0,Pr.jsx)("span",{className:"font-bold",children:e.companyName}),(0,Pr.jsx)("span",{className:"font-mono bg-slate-100 text-xs p-1 ml-2 rounded",children:e.accessCode})]}),(0,Pr.jsx)("button",{onClick:()=>D("employer",e.id,e.companyName),className:"text-slate-400 hover:text-red-600 p-2",children:(0,Pr.jsx)(fr,{size:18})})]},e.id))]}),(0,Pr.jsxs)("div",{className:"bg-white p-6 rounded shadow",children:[(0,Pr.jsx)("h3",{className:"font-bold mb-4",children:"Nieuw"}),(0,Pr.jsx)("input",{className:"w-full border p-2 mb-2 rounded",placeholder:"Bedrijf",value:C.companyName,onChange:e=>w(s(s({},C),{},{companyName:e.target.value}))}),(0,Pr.jsx)("input",{className:"w-full border p-2 mb-2 rounded",placeholder:"Contact",value:C.contactPerson,onChange:e=>w(s(s({},C),{},{contactPerson:e.target.value}))}),(0,Pr.jsx)("input",{className:"w-full border p-2 mb-2 rounded",placeholder:"Email",value:C.email,onChange:e=>w(s(s({},C),{},{email:e.target.value}))}),(0,Pr.jsx)("input",{className:"w-full border p-2 mb-2 rounded",placeholder:"Telefoon",value:C.phoneNumber,onChange:e=>w(s(s({},C),{},{phoneNumber:e.target.value}))}),(0,Pr.jsx)("input",{className:"w-full border p-2 mb-2 rounded",placeholder:"Toegangscode",value:C.accessCode,onChange:e=>w(s(s({},C),{},{accessCode:e.target.value}))}),(0,Pr.jsx)("button",{onClick:()=>{p(s(s({},C),{},{id:"e".concat(Date.now())})),w({companyName:"",contactPerson:"",email:"",phoneNumber:"",accessCode:""})},className:"w-full bg-blue-600 text-white p-2 rounded",children:"Toevoegen"})]})]}),"supervisors"===b&&(0,Pr.jsxs)("div",{className:"grid md:grid-cols-3 gap-8",children:[(0,Pr.jsxs)("div",{className:"md:col-span-2",children:[(0,Pr.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Begeleiders"}),i.map(e=>(0,Pr.jsxs)("div",{className:"p-3 border-b flex justify-between items-center hover:bg-slate-50",children:[(0,Pr.jsx)("span",{children:e.name}),(0,Pr.jsx)("button",{onClick:()=>D("supervisor",e.id,e.name),className:"text-slate-400 hover:text-red-600 p-2",children:(0,Pr.jsx)(fr,{size:18})})]},e.id))]}),(0,Pr.jsxs)("div",{className:"bg-white p-6 rounded shadow",children:[(0,Pr.jsx)("h3",{className:"font-bold mb-4",children:"Nieuw"}),(0,Pr.jsx)("input",{className:"w-full border p-2 mb-2 rounded",placeholder:"Naam",value:T.name,onChange:e=>I(s(s({},T),{},{name:e.target.value}))}),(0,Pr.jsx)("input",{className:"w-full border p-2 mb-2 rounded",placeholder:"Email",value:T.email,onChange:e=>I(s(s({},T),{},{email:e.target.value}))}),(0,Pr.jsx)("input",{className:"w-full border p-2 mb-2 rounded",placeholder:"Telefoon",value:T.phoneNumber,onChange:e=>I(s(s({},T),{},{phoneNumber:e.target.value}))}),(0,Pr.jsx)("button",{onClick:()=>{h(s(s({},T),{},{id:"sup".concat(Date.now())})),I({name:"",email:"",phoneNumber:""})},className:"w-full bg-blue-600 text-white p-2 rounded",children:"Toevoegen"})]})]}),"internships"===b&&(0,Pr.jsxs)("div",{className:"grid md:grid-cols-3 gap-8",children:[(0,Pr.jsxs)("div",{className:"md:col-span-2",children:[(0,Pr.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Stages"}),l.map(e=>{const t=o.find(t=>t.id===e.studentId),n=r.find(t=>t.id===e.employerId);return(0,Pr.jsxs)("div",{className:"p-3 border-b flex justify-between items-center hover:bg-slate-50",children:[(0,Pr.jsxs)("span",{children:[null===t||void 0===t?void 0:t.name," @ ",null===n||void 0===n?void 0:n.companyName]}),(0,Pr.jsx)("button",{onClick:()=>D("internship",e.id,"".concat(null===t||void 0===t?void 0:t.name," bij ").concat(null===n||void 0===n?void 0:n.companyName)),className:"text-slate-400 hover:text-red-600 p-2",children:(0,Pr.jsx)(fr,{size:18})})]},e.id)})]}),(0,Pr.jsxs)("div",{className:"bg-white p-6 rounded shadow",children:[(0,Pr.jsx)("h3",{className:"font-bold mb-4",children:"Koppelen"}),(0,Pr.jsxs)("select",{className:"w-full border p-2 mb-2",value:x.studentId,onChange:e=>N(s(s({},x),{},{studentId:e.target.value})),children:[(0,Pr.jsx)("option",{value:"",children:"Leerling..."}),o.map(e=>(0,Pr.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,Pr.jsxs)("select",{className:"w-full border p-2 mb-2",value:x.employerId,onChange:e=>N(s(s({},x),{},{employerId:e.target.value})),children:[(0,Pr.jsx)("option",{value:"",children:"Werkgever..."}),r.map(e=>(0,Pr.jsx)("option",{value:e.id,children:e.companyName},e.id))]}),(0,Pr.jsxs)("select",{className:"w-full border p-2 mb-2",value:x.supervisorId,onChange:e=>N(s(s({},x),{},{supervisorId:e.target.value})),children:[(0,Pr.jsx)("option",{value:"",children:"Begeleider..."}),i.map(e=>(0,Pr.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,Pr.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,Pr.jsx)("input",{type:"date",className:"w-full border p-2",value:x.startDate,onChange:e=>N(s(s({},x),{},{startDate:e.target.value}))}),(0,Pr.jsx)("input",{type:"date",className:"w-full border p-2",value:x.endDate,onChange:e=>N(s(s({},x),{},{endDate:e.target.value}))})]}),(0,Pr.jsx)("div",{className:"flex gap-1 mb-4",children:["Ma","Di","Wo","Do","Vr"].map(e=>(0,Pr.jsx)("button",{onClick:()=>N(t=>t.scheduledDays.includes(e)?s(s({},t),{},{scheduledDays:t.scheduledDays.filter(t=>t!==e)}):s(s({},t),{},{scheduledDays:[...t.scheduledDays,e]})),className:"p-1 border text-xs ".concat(x.scheduledDays.includes(e)?"bg-blue-600 text-white":""),children:e},e))}),(0,Pr.jsx)("button",{onClick:()=>{g(s(s({},x),{},{id:"i".concat(Date.now())}))},className:"w-full bg-blue-600 text-white p-2 rounded",children:"Koppelen"})]})]}),"messages"===b&&(0,Pr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 h-[600px]",children:[(0,Pr.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-y-auto",children:[(0,Pr.jsx)("div",{className:"p-4 border-b border-slate-100 bg-slate-50",children:(0,Pr.jsx)("h3",{className:"font-semibold text-slate-700",children:"Actieve Gesprekken"})}),(0,Pr.jsx)("div",{children:0===M.length?(0,Pr.jsx)("p",{className:"p-4 text-slate-400 text-sm",children:"Nog geen berichten."}):M.map(e=>{const t=o.find(t=>t.id===e.studentId),n=r.find(t=>t.id===e.employerId),i=A===e.id;return(0,Pr.jsxs)("button",{onClick:()=>O(e.id),className:"w-full text-left p-4 border-b border-slate-100 hover:bg-slate-50 transition-colors ".concat(i?"bg-blue-50 border-l-4 border-l-blue-600":""),children:[(0,Pr.jsx)("p",{className:"font-bold text-slate-800 text-sm",children:null===t||void 0===t?void 0:t.name}),(0,Pr.jsx)("p",{className:"text-xs text-slate-500",children:null===n||void 0===n?void 0:n.companyName})]},e.id)})})]}),(0,Pr.jsx)("div",{className:"md:col-span-2 bg-white rounded-xl shadow-sm border border-slate-200 flex flex-col overflow-hidden",children:A?(0,Pr.jsxs)(Pr.Fragment,{children:[(0,Pr.jsx)("div",{className:"p-4 border-b border-slate-100 bg-slate-50 flex justify-between items-center",children:(0,Pr.jsxs)("h3",{className:"font-bold text-slate-700",children:["Chat over ",null===(t=o.find(e=>{var t;return e.id===(null===(t=l.find(e=>e.id===A))||void 0===t?void 0:t.studentId)}))||void 0===t?void 0:t.name]})}),(0,Pr.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-[#f8fafc]",children:[u.filter(e=>e.internshipId===A).sort((e,t)=>e.timestamp-t.timestamp).map(e=>{const t="SCHOOL"===e.senderRole;return(0,Pr.jsx)("div",{className:"flex ".concat(t?"justify-end":"justify-start"),children:(0,Pr.jsxs)("div",{className:"max-w-[80%] p-3 rounded-2xl text-sm shadow-sm ".concat(t?"bg-[#009FE3] text-white rounded-tr-none":"bg-white text-slate-700 rounded-tl-none border border-slate-200"),children:[(0,Pr.jsx)("p",{children:e.text}),(0,Pr.jsx)("span",{className:"text-[10px] block mt-1 ".concat(t?"text-blue-100":"text-slate-400"),children:new Date(e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},e.id)}),(0,Pr.jsx)("div",{ref:R})]}),(0,Pr.jsx)("div",{className:"p-4 bg-white border-t border-slate-100",children:(0,Pr.jsxs)("form",{onSubmit:e=>{e.preventDefault(),A&&k.trim()&&(y(A,k,"SCHOOL"),P(""))},className:"flex gap-2",children:[(0,Pr.jsx)("input",{value:k,onChange:e=>P(e.target.value),placeholder:"Typ een reactie...",className:"flex-1 border border-slate-300 rounded-lg px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,Pr.jsx)("button",{type:"submit",disabled:!k.trim(),className:"bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700 transition disabled:opacity-50",children:(0,Pr.jsx)(mr,{size:20})})]})})]}):(0,Pr.jsxs)("div",{className:"flex-1 flex items-center justify-center text-slate-400 flex-col gap-3",children:[(0,Pr.jsx)(hr,{size:48,className:"opacity-20"}),(0,Pr.jsx)("p",{children:"Selecteer een gesprek om te lezen"})]})})]})]})},Wr=e=>{var t,n;let{onLogout:o,loggedInEmployerId:r}=e;const{employers:i,getInternshipByEmployer:l,getInternshipStudent:s,getInternshipSupervisor:u,addAttendanceRecord:c,getAttendanceForInternship:d,getMessagesForInternship:p,sendMessage:f}=zr(),[h,m]=(0,a.useState)(r||(null===(t=i[0])||void 0===t?void 0:t.id)||""),[g,v]=(0,a.useState)(null),[y,b]=(0,a.useState)("schedule"),[E,S]=(0,a.useState)(0),[_,C]=(0,a.useState)(null),[w,T]=(0,a.useState)(!1),[I,x]=(0,a.useState)(""),[N,A]=(0,a.useState)(!1),[O,k]=(0,a.useState)("15"),[P,R]=(0,a.useState)(null),D=(0,a.useRef)(null),M=(0,a.useMemo)(()=>l(h),[h,l]),j=i.find(e=>e.id===h),L=M.find(e=>e.id===g),U=g?s(g):null,F=g?u(g):null,q=g?d(g):[],G=g?p(g):[];(0,a.useEffect)(()=>{(()=>{var e;null===(e=D.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})})()},[G,y]);const H=(()=>{const e=new Date,t=e.getDay(),n=e.getDate()-t+(0===t?-6:1),o=new Date(e.setDate(n));o.setDate(o.getDate()+7*E);const r=[];for(let i=0;i<5;i++){const e=new Date(o);e.setDate(o.getDate()+i),r.push(e)}return r})(),V=e=>!(null===L||void 0===L||!L.scheduledDays)&&L.scheduledDays.includes((e=>({1:"Ma",2:"Di",3:"Wo",4:"Do",5:"Vr"}[e.getDay()]))(e)),z=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!g)return;const o=e.toISOString().split("T")[0],r={id:"att_".concat(Date.now(),"_").concat(Math.random()),internshipId:g,date:o,status:t,minutesLate:t===Dr.LATE?n:void 0};c(r),t===Dr.SICK?f(g,"\u26a0\ufe0f MELDING: ".concat(null===U||void 0===U?void 0:U.name," is ziek gemeld op ").concat(e.toLocaleDateString("nl-NL"),"."),"EMPLOYER"):t===Dr.ABSENT?f(g,"\u26a0\ufe0f MELDING: ".concat(null===U||void 0===U?void 0:U.name," is afwezig gemeld op ").concat(e.toLocaleDateString("nl-NL"),"."),"EMPLOYER"):t===Dr.LATE&&f(g,"\u26a0\ufe0f MELDING: ".concat(null===U||void 0===U?void 0:U.name," is ").concat(n," minuten te laat op ").concat(e.toLocaleDateString("nl-NL"),"."),"EMPLOYER")},B=(e,t)=>{if(t===Dr.LATE)return R(e),k("15"),void A(!0);z(e,t)};return g?(0,Pr.jsxs)("div",{className:"flex flex-col h-full bg-slate-50 relative",children:[(0,Pr.jsxs)("div",{className:"bg-[#009FE3] text-white px-6 pt-12 pb-16 rounded-b-[40px] shadow-lg relative z-0",children:[(0,Pr.jsx)("button",{onClick:()=>v(null),className:"absolute top-12 left-4 p-2 text-white/80 hover:text-white transition",children:(0,Pr.jsx)(vr,{size:28})}),(0,Pr.jsxs)("div",{className:"text-center",children:[(0,Pr.jsx)("h2",{className:"text-2xl font-bold",children:null===U||void 0===U?void 0:U.name}),(0,Pr.jsxs)("div",{className:"flex items-center justify-center gap-2 mt-1 opacity-90",children:[(0,Pr.jsx)(yr,{size:14}),(0,Pr.jsx)("p",{className:"text-blue-100 text-sm",children:null!==L&&void 0!==L&&null!==(n=L.scheduledDays)&&void 0!==n&&n.length?L.scheduledDays.join(", "):"Geen dagen ingesteld"})]})]}),F&&"chat"!==y&&(0,Pr.jsxs)("div",{className:"absolute -bottom-8 left-6 right-6 bg-white rounded-xl shadow-md p-3 flex items-center justify-between",children:[(0,Pr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Pr.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-50 flex items-center justify-center text-[#009FE3]",children:(0,Pr.jsx)(gr,{size:18})}),(0,Pr.jsxs)("div",{children:[(0,Pr.jsx)("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Begeleider"}),(0,Pr.jsx)("p",{className:"text-sm font-bold text-slate-800 leading-none",children:F.name})]})]}),(0,Pr.jsxs)("div",{className:"flex gap-2",children:[(0,Pr.jsx)("button",{onClick:()=>b("chat"),className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 hover:bg-blue-200 transition",children:(0,Pr.jsx)(hr,{size:18})}),(0,Pr.jsx)("a",{href:"tel:".concat(F.phoneNumber),className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center text-green-600 hover:bg-green-200 transition",children:(0,Pr.jsx)(br,{size:18})})]})]})]}),(0,Pr.jsxs)("div",{className:"flex-1 overflow-y-auto px-6 no-scrollbar ".concat("chat"===y?"pt-4 pb-24":"pt-12 pb-24"),children:["schedule"===y&&(0,Pr.jsxs)("div",{className:"animate-slide-up",children:[(0,Pr.jsxs)("div",{className:"flex items-center justify-between mb-6 bg-white p-2 rounded-xl shadow-sm",children:[(0,Pr.jsx)("button",{onClick:()=>S(e=>e-1),className:"p-2 text-slate-400 hover:text-[#009FE3] transition",children:(0,Pr.jsx)(vr,{size:20})}),(0,Pr.jsxs)("div",{className:"text-center",children:[(0,Pr.jsxs)("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-wider",children:["Week ",H[0].toLocaleDateString("nl-NL",{week:"numeric"})]}),(0,Pr.jsxs)("p",{className:"text-sm font-semibold text-slate-700",children:[H[0].toLocaleDateString("nl-NL",{day:"numeric",month:"short"})," - ",H[4].toLocaleDateString("nl-NL",{day:"numeric",month:"short"})]})]}),(0,Pr.jsx)("button",{onClick:()=>S(e=>e+1),className:"p-2 text-slate-400 hover:text-[#009FE3] transition",children:(0,Pr.jsx)(Er,{size:20})})]}),(0,Pr.jsxs)("div",{className:"space-y-4",children:[H.map(e=>{if(!V(e))return null;const t=e.toISOString().split("T")[0],n=(e=>q.find(t=>t.date===e))(t),o=null===n||void 0===n?void 0:n.status,r=(new Date).toISOString().split("T")[0]===t;return(0,Pr.jsxs)("div",{className:"bg-white rounded-2xl p-4 shadow-sm border ".concat(r?"border-[#009FE3] ring-1 ring-[#009FE3]/20":"border-slate-100"),children:[(0,Pr.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,Pr.jsx)("div",{children:(0,Pr.jsx)("p",{className:"text-sm font-bold capitalize ".concat(r?"text-[#009FE3]":"text-slate-800"),children:e.toLocaleDateString("nl-NL",{weekday:"long",day:"numeric",month:"long"})})}),o&&(0,Pr.jsxs)("span",{className:"text-xs px-2 py-1 rounded font-bold flex items-center gap-1 ".concat(o===Dr.PRESENT?"bg-green-100 text-green-700":""," ").concat(o===Dr.SICK?"bg-orange-100 text-orange-700":""," ").concat(o===Dr.ABSENT?"bg-red-100 text-red-700":""," ").concat(o===Dr.LATE?"bg-yellow-100 text-yellow-700":""),children:[o,o===Dr.LATE&&null!==n&&void 0!==n&&n.minutesLate?" (".concat(n.minutesLate,"m)"):""]})]}),(0,Pr.jsxs)("div",{className:"grid grid-cols-4 gap-2",children:[(0,Pr.jsxs)("button",{onClick:()=>B(e,Dr.PRESENT),className:"p-2 rounded-xl flex flex-col items-center justify-center transition-all active:scale-95 ".concat(o===Dr.PRESENT?"bg-green-500 text-white shadow-md":"bg-slate-50 text-slate-400 hover:bg-green-50 hover:text-green-500"),children:[(0,Pr.jsx)(Sr,{size:20,className:"mb-1"}),(0,Pr.jsx)("span",{className:"text-[10px] font-bold",children:"Aanw."})]}),(0,Pr.jsxs)("button",{onClick:()=>B(e,Dr.SICK),className:"p-2 rounded-xl flex flex-col items-center justify-center transition-all active:scale-95 ".concat(o===Dr.SICK?"bg-orange-500 text-white shadow-md":"bg-slate-50 text-slate-400 hover:bg-orange-50 hover:text-orange-500"),children:[(0,Pr.jsx)(_r,{size:20,className:"mb-1"}),(0,Pr.jsx)("span",{className:"text-[10px] font-bold",children:"Ziek"})]}),(0,Pr.jsxs)("button",{onClick:()=>B(e,Dr.LATE),className:"p-2 rounded-xl flex flex-col items-center justify-center transition-all active:scale-95 ".concat(o===Dr.LATE?"bg-yellow-500 text-white shadow-md":"bg-slate-50 text-slate-400 hover:bg-yellow-50 hover:text-yellow-500"),children:[(0,Pr.jsx)(Cr,{size:20,className:"mb-1"}),(0,Pr.jsx)("span",{className:"text-[10px] font-bold",children:"Te laat"})]}),(0,Pr.jsxs)("button",{onClick:()=>B(e,Dr.ABSENT),className:"p-2 rounded-xl flex flex-col items-center justify-center transition-all active:scale-95 ".concat(o===Dr.ABSENT?"bg-red-500 text-white shadow-md":"bg-slate-50 text-slate-400 hover:bg-red-50 hover:text-red-500"),children:[(0,Pr.jsx)(wr,{size:20,className:"mb-1"}),(0,Pr.jsx)("span",{className:"text-[10px] font-bold",children:"Afw."})]})]})]},t)}),H.every(e=>!V(e))&&(0,Pr.jsx)("div",{className:"text-center p-8 text-slate-400 bg-white rounded-2xl border border-dashed border-slate-200",children:"Geen stagedagen in deze week."})]})]}),"history"===y&&(0,Pr.jsxs)("div",{className:"animate-slide-up",children:[(0,Pr.jsxs)("div",{className:"flex gap-2 mb-4 overflow-x-auto pb-2 no-scrollbar",children:[(0,Pr.jsxs)("button",{onClick:async()=>{if(!U||!L)return;T(!0);const e=i.find(e=>e.id===h),t=await(async(e,t,n)=>{const o=Gr();if(!o)return"AI configuratie ontbreekt (API Key).";const r="Schrijf een voortgangsrapportage voor leerling ".concat(e.name," bij ").concat(t.companyName,". Totaal dagen: ").concat(n.length,".");try{return(await o.models.generateContent({model:"gemini-2.5-flash",contents:r})).text||"Geen rapport."}catch(i){return"Fout bij genereren."}})(U,e,q);C(t),T(!1)},disabled:w,className:"flex-shrink-0 bg-indigo-600 text-white px-4 py-2.5 rounded-xl font-medium text-sm flex items-center gap-2 shadow-lg shadow-indigo-200 active:scale-95 transition",children:[w?(0,Pr.jsx)(Tr,{className:"animate-spin",size:16}):(0,Pr.jsx)(Tr,{size:16})," Genereer Rapport"]}),(0,Pr.jsxs)("button",{onClick:async()=>{if(!U||!q.length)return;T(!0);const e=q[0],t=await(async(e,t)=>{const n=Gr();if(!n)return"AI configuratie ontbreekt.";const o="Schrijf een mail aan ".concat(e.name," over afwezigheid op ").concat(t.date," (").concat(t.status,").");try{return(await n.models.generateContent({model:"gemini-2.5-flash",contents:o})).text||"Geen email."}catch(r){return"Fout bij genereren."}})(U,e);C(t),T(!1)},disabled:w,className:"flex-shrink-0 bg-white border border-slate-200 text-slate-700 px-4 py-2.5 rounded-xl font-medium text-sm flex items-center gap-2 active:scale-95 transition",children:[(0,Pr.jsx)(Ir,{size:16})," Email Concept"]})]}),_&&(0,Pr.jsxs)("div",{className:"bg-white border-l-4 border-indigo-500 p-4 rounded-r-xl shadow-sm mb-6 animate-slide-up",children:[(0,Pr.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,Pr.jsxs)("h4",{className:"font-bold text-indigo-900 flex items-center gap-2",children:[(0,Pr.jsx)(Tr,{size:14,className:"text-indigo-500"})," AI Assistent"]}),(0,Pr.jsx)("button",{onClick:()=>C(null),className:"text-slate-400",children:(0,Pr.jsx)(wr,{size:18})})]}),(0,Pr.jsx)("p",{className:"text-slate-600 text-sm leading-relaxed",children:_})]}),(0,Pr.jsx)("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden border border-slate-100",children:0===q.length?(0,Pr.jsx)("div",{className:"p-8 text-center text-slate-400",children:"Geen geschiedenis"}):(0,Pr.jsx)("div",{className:"divide-y divide-slate-50",children:q.map(e=>(0,Pr.jsxs)("div",{className:"p-4 flex items-center justify-between",children:[(0,Pr.jsxs)("div",{children:[(0,Pr.jsx)("p",{className:"font-bold text-slate-700",children:new Date(e.date).toLocaleDateString("nl-NL",{day:"numeric",month:"long"})}),(0,Pr.jsx)("p",{className:"text-xs text-slate-400 capitalize",children:new Date(e.date).toLocaleDateString("nl-NL",{weekday:"long"})})]}),(0,Pr.jsxs)("span",{className:"px-3 py-1.5 rounded-lg text-xs font-bold flex items-center gap-1 ".concat(e.status===Dr.PRESENT?"bg-green-100 text-green-700":""," ").concat(e.status===Dr.SICK?"bg-orange-100 text-orange-700":""," ").concat(e.status===Dr.ABSENT?"bg-red-100 text-red-700":""," ").concat(e.status===Dr.LATE?"bg-yellow-100 text-yellow-700":""),children:[e.status,e.status===Dr.LATE&&e.minutesLate?" (".concat(e.minutesLate,"m)"):""]})]},e.id))})})]}),"chat"===y&&(0,Pr.jsx)("div",{className:"flex flex-col h-full",children:(0,Pr.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 flex-1 overflow-hidden flex flex-col mb-20",children:[(0,Pr.jsxs)("div",{className:"bg-slate-50 p-3 border-b border-slate-100 flex items-center gap-3",children:[(0,Pr.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-[#009FE3]",children:(0,Pr.jsx)(gr,{size:20})}),(0,Pr.jsxs)("div",{children:[(0,Pr.jsx)("p",{className:"text-xs text-slate-400 font-bold uppercase",children:"Begeleider"}),(0,Pr.jsx)("p",{className:"font-bold text-slate-800 text-sm",children:(null===F||void 0===F?void 0:F.name)||"School"})]})]}),(0,Pr.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-[#f0f4f8]",children:[0===G.length&&(0,Pr.jsx)("div",{className:"text-center text-slate-400 text-xs mt-4",children:"Begin een gesprek met de begeleider."}),G.map(e=>{const t="EMPLOYER"===e.senderRole;return(0,Pr.jsx)("div",{className:"flex ".concat(t?"justify-end":"justify-start"),children:(0,Pr.jsxs)("div",{className:"max-w-[80%] p-3 rounded-2xl text-sm shadow-sm ".concat(t?"bg-[#009FE3] text-white rounded-tr-none":"bg-white text-slate-700 rounded-tl-none"),children:[(0,Pr.jsx)("p",{children:e.text}),(0,Pr.jsx)("span",{className:"text-[10px] block mt-1 ".concat(t?"text-blue-100":"text-slate-400"),children:new Date(e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},e.id)}),(0,Pr.jsx)("div",{ref:D})]}),(0,Pr.jsx)("div",{className:"p-3 bg-white border-t border-slate-100",children:(0,Pr.jsxs)("form",{onSubmit:e=>{e.preventDefault(),I.trim()&&g&&(f(g,I,"EMPLOYER"),x(""))},className:"flex gap-2",children:[(0,Pr.jsx)("input",{value:I,onChange:e=>x(e.target.value),placeholder:"Typ een bericht...",className:"flex-1 bg-slate-100 border-none rounded-full px-4 py-2 text-sm focus:ring-2 focus:ring-[#009FE3]"}),(0,Pr.jsx)("button",{type:"submit",disabled:!I.trim(),className:"bg-[#009FE3] text-white p-2 rounded-full hover:bg-blue-600 disabled:opacity-50 transition-colors",children:(0,Pr.jsx)(mr,{size:18})})]})})]})})]}),(0,Pr.jsx)("div",{className:"fixed bottom-0 left-0 w-full bg-white border-t border-slate-100 pb-safe-bottom z-20",children:(0,Pr.jsxs)("div",{className:"flex justify-around items-center p-2 safe-area-bottom",children:[(0,Pr.jsxs)("button",{onClick:()=>b("schedule"),className:"flex flex-col items-center p-3 rounded-xl flex-1 transition-colors ".concat("schedule"===y?"text-[#009FE3]":"text-slate-400 hover:text-slate-600"),children:[(0,Pr.jsx)(xr,{size:24,strokeWidth:"schedule"===y?2.5:2}),(0,Pr.jsx)("span",{className:"text-[10px] font-bold mt-1",children:"Rooster"})]}),(0,Pr.jsx)("div",{className:"w-px h-8 bg-slate-100"}),(0,Pr.jsxs)("button",{onClick:()=>b("history"),className:"flex flex-col items-center p-3 rounded-xl flex-1 transition-colors ".concat("history"===y?"text-[#009FE3]":"text-slate-400 hover:text-slate-600"),children:[(0,Pr.jsx)(Nr,{size:24,strokeWidth:"history"===y?2.5:2}),(0,Pr.jsx)("span",{className:"text-[10px] font-bold mt-1",children:"Historie"})]}),(0,Pr.jsx)("div",{className:"w-px h-8 bg-slate-100"}),(0,Pr.jsxs)("button",{onClick:()=>b("chat"),className:"flex flex-col items-center p-3 rounded-xl flex-1 transition-colors ".concat("chat"===y?"text-[#009FE3]":"text-slate-400 hover:text-slate-600"),children:[(0,Pr.jsx)(hr,{size:24,strokeWidth:"chat"===y?2.5:2}),(0,Pr.jsx)("span",{className:"text-[10px] font-bold mt-1",children:"Chat"})]})]})}),N&&(0,Pr.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center px-4 animate-fade-in",children:(0,Pr.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-6 w-full max-w-sm animate-scale-in",children:[(0,Pr.jsxs)("div",{className:"text-center mb-4",children:[(0,Pr.jsx)("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-3 text-yellow-600",children:(0,Pr.jsx)(Cr,{size:24})}),(0,Pr.jsx)("h3",{className:"text-lg font-bold text-slate-800",children:"Te laat melding"}),(0,Pr.jsx)("p",{className:"text-sm text-slate-500",children:"Hoeveel minuten is de stagiair te laat?"})]}),(0,Pr.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),P){const e=parseInt(O)||0;z(P,Dr.LATE,e),A(!1),R(null)}},children:[(0,Pr.jsxs)("div",{className:"flex items-center justify-center mb-6",children:[(0,Pr.jsx)("input",{type:"number",min:"1",max:"480",autoFocus:!0,required:!0,value:O,onChange:e=>k(e.target.value),className:"text-center text-3xl font-bold w-24 border-b-2 border-[#009FE3] focus:outline-none text-slate-800 pb-1"}),(0,Pr.jsx)("span",{className:"text-slate-400 ml-2 font-medium",children:"minuten"})]}),(0,Pr.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Pr.jsx)("button",{type:"button",onClick:()=>A(!1),className:"w-full py-3 rounded-xl border border-slate-200 text-slate-600 font-medium hover:bg-slate-50 transition",children:"Annuleren"}),(0,Pr.jsx)("button",{type:"submit",className:"w-full py-3 rounded-xl bg-[#009FE3] text-white font-bold hover:bg-blue-600 transition shadow-lg shadow-blue-200",children:"Opslaan"})]})]})]})})]}):(0,Pr.jsxs)("div",{className:"flex flex-col h-full bg-slate-50",children:[(0,Pr.jsxs)("div",{className:"bg-white px-6 pt-12 pb-6 rounded-b-[32px] shadow-sm z-10",children:[(0,Pr.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,Pr.jsxs)("div",{children:[(0,Pr.jsx)("h1",{className:"text-2xl font-bold text-slate-800",children:"Goedemorgen,"}),(0,Pr.jsx)("h2",{className:"text-lg font-medium text-slate-500",children:null===j||void 0===j?void 0:j.contactPerson}),(0,Pr.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:null===j||void 0===j?void 0:j.companyName})]}),(0,Pr.jsxs)("div",{className:"flex flex-col items-end gap-2",children:[(0,Pr.jsx)(Br,{className:"h-10",showText:!1}),(0,Pr.jsxs)("button",{onClick:o,className:"text-xs font-medium text-slate-400 flex items-center gap-1 hover:text-red-500 transition-colors",children:[(0,Pr.jsx)(pr,{size:14})," Uitloggen"]})]})]}),(0,Pr.jsxs)("div",{className:"relative",children:[(0,Pr.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Pr.jsx)(gr,{size:18,className:"text-slate-400"})}),(0,Pr.jsx)("input",{disabled:!0,placeholder:"Zoek stagiair...",className:"w-full bg-slate-100 text-sm rounded-xl py-3 pl-10 pr-4 border-none text-slate-600 placeholder-slate-400 focus:ring-2 focus:ring-emerald-500"})]})]}),(0,Pr.jsxs)("div",{className:"flex-1 p-6 overflow-y-auto",children:[(0,Pr.jsx)("h2",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-4",children:"Mijn Stagiairs"}),(0,Pr.jsx)("div",{className:"space-y-3",children:0===M.length?(0,Pr.jsx)("div",{className:"p-8 text-center text-slate-400 bg-white rounded-2xl border border-slate-100 border-dashed",children:"Geen stagiairs gekoppeld."}):M.map(e=>{const t=s(e.id);return t?(0,Pr.jsxs)("button",{onClick:()=>v(e.id),className:"w-full bg-white p-4 rounded-2xl shadow-sm border border-slate-100 flex items-center gap-4 active:scale-95 transition-transform duration-200",children:[(0,Pr.jsx)("div",{className:"w-14 h-14 bg-gradient-to-br from-emerald-100 to-teal-50 rounded-full flex items-center justify-center text-emerald-600 font-bold text-lg shadow-inner",children:t.name.charAt(0)}),(0,Pr.jsxs)("div",{className:"text-left flex-1",children:[(0,Pr.jsx)("h3",{className:"font-bold text-slate-800 text-lg leading-tight",children:t.name}),(0,Pr.jsxs)("p",{className:"text-xs text-slate-400 mt-1",children:[e.startDate," - ",e.endDate]})]}),(0,Pr.jsx)("div",{className:"w-8 h-8 rounded-full bg-slate-50 flex items-center justify-center text-slate-300",children:(0,Pr.jsx)(vr,{className:"rotate-180",size:18})})]},e.id):null})})]})]})},Yr=()=>{const{employers:e}=zr(),[t,n]=(0,a.useState)(null),[o,r]=(0,a.useState)({open:!1,role:null,pass:"",empId:"",error:""}),[i,l]=(0,a.useState)(null);return t===Rr.ADMIN?(0,Pr.jsx)(Jr,{onLogout:()=>n(null)}):t===Rr.EMPLOYER?(0,Pr.jsx)(Wr,{onLogout:()=>n(null),loggedInEmployerId:i}):(0,Pr.jsxs)("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-6 relative overflow-hidden",children:[(0,Pr.jsx)("div",{className:"absolute top-0 left-0 w-full h-64 bg-[#009FE3] rounded-b-[40px] z-0"}),(0,Pr.jsxs)("div",{className:"relative z-10 w-full max-w-md",children:[(0,Pr.jsx)("div",{className:"bg-white p-4 rounded-2xl shadow-xl w-max mx-auto mb-8",children:(0,Pr.jsx)(Br,{showText:!1,className:"h-16"})}),(0,Pr.jsxs)("div",{className:"text-center text-white mb-8",children:[(0,Pr.jsx)("h1",{className:"text-3xl font-bold",children:"StageConnect"}),(0,Pr.jsx)("p",{children:"Groene Hart Pro College"})]}),(0,Pr.jsxs)("div",{className:"bg-white rounded-3xl shadow-xl p-6 space-y-4",children:[(0,Pr.jsx)("h2",{className:"text-center font-bold text-slate-800",children:"Inloggen"}),(0,Pr.jsxs)("button",{onClick:()=>r({open:!0,role:Rr.EMPLOYER,pass:"",empId:"",error:""}),className:"w-full p-4 border rounded-xl flex items-center gap-4 hover:bg-slate-50",children:[(0,Pr.jsx)("div",{className:"bg-green-100 text-green-600 p-3 rounded-xl",children:(0,Pr.jsx)(Ar,{})}),(0,Pr.jsx)("div",{className:"text-left flex-1",children:(0,Pr.jsx)("h3",{className:"font-bold",children:"Werkgever"})}),(0,Pr.jsx)(Er,{className:"text-slate-300"})]}),(0,Pr.jsxs)("button",{onClick:()=>r({open:!0,role:Rr.ADMIN,pass:"",empId:"",error:""}),className:"w-full p-4 border rounded-xl flex items-center gap-4 hover:bg-slate-50",children:[(0,Pr.jsx)("div",{className:"bg-blue-100 text-blue-600 p-3 rounded-xl",children:(0,Pr.jsx)(Or,{})}),(0,Pr.jsx)("div",{className:"text-left flex-1",children:(0,Pr.jsx)("h3",{className:"font-bold",children:"School Admin"})}),(0,Pr.jsx)(Er,{className:"text-slate-300"})]})]})]}),o.open&&(0,Pr.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,Pr.jsxs)("div",{className:"bg-white p-6 rounded-2xl w-full max-w-sm",children:[(0,Pr.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,Pr.jsxs)("h3",{className:"font-bold",children:["Inloggen ",o.role]}),(0,Pr.jsx)("button",{onClick:()=>r(s(s({},o),{},{open:!1})),children:(0,Pr.jsx)(kr,{})})]}),(0,Pr.jsxs)("form",{onSubmit:t=>{if(t.preventDefault(),o.role===Rr.ADMIN&&"admin"===o.pass)n(Rr.ADMIN),r({open:!1,role:null,pass:"",empId:"",error:""});else if(o.role===Rr.EMPLOYER){const t=e.find(e=>e.id===o.empId);t&&t.accessCode===o.pass?(l(t.id),n(Rr.EMPLOYER),r({open:!1,role:null,pass:"",empId:"",error:""})):r(s(s({},o),{},{error:"Fout"}))}else r(s(s({},o),{},{error:"Fout"}))},className:"space-y-4",children:[o.role===Rr.EMPLOYER&&(0,Pr.jsxs)("select",{className:"w-full border p-3 rounded-xl",value:o.empId,onChange:e=>r(s(s({},o),{},{empId:e.target.value})),children:[(0,Pr.jsx)("option",{value:"",children:"Kies bedrijf..."}),e.map(e=>(0,Pr.jsx)("option",{value:e.id,children:e.companyName},e.id))]}),(0,Pr.jsx)("input",{type:"password",placeholder:o.role===Rr.ADMIN?"Wachtwoord (admin)":"Code (12345)",className:"w-full border p-3 rounded-xl",value:o.pass,onChange:e=>r(s(s({},o),{},{pass:e.target.value}))}),o.error&&(0,Pr.jsx)("p",{className:"text-red-500 text-sm",children:o.error}),(0,Pr.jsx)("button",{type:"submit",className:"w-full bg-[#009FE3] text-white p-3 rounded-xl font-bold",children:"Inloggen"})]})]})})]})};u.createRoot(document.getElementById("root")).render((0,Pr.jsx)(a.StrictMode,{children:(0,Pr.jsx)(Vr,{children:(0,Pr.jsx)(Yr,{})})}))})();
//# sourceMappingURL=main.132555af.js.map